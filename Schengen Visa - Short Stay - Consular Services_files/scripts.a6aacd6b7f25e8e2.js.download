!function(){if("undefined"!=typeof window&&window.addEventListener){var ye,ue=Object.create(null),we=function(){clearTimeout(ye),ye=setTimeout(k,100)},Z=function(){},oe=function(v){function d(T){if(void 0!==T.protocol)var N=T;else(N=document.createElement("a")).href=T;return N.protocol.replace(/:/g,"")+N.host}if(window.XMLHttpRequest){var j=new XMLHttpRequest,_=d(location);v=d(v),j=void 0===j.withCredentials&&""!==v&&v!==_?XDomainRequest||void 0:XMLHttpRequest}return j},k=function(){function v(){0==--U&&(Z(),function(){if(window.addEventListener("resize",we,!1),window.addEventListener("orientationchange",we,!1),window.MutationObserver){var v=new MutationObserver(we);v.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),Z=function(){try{v.disconnect(),window.removeEventListener("resize",we,!1),window.removeEventListener("orientationchange",we,!1)}catch(d){}}}else document.documentElement.addEventListener("DOMSubtreeModified",we,!1),Z=function(){document.documentElement.removeEventListener("DOMSubtreeModified",we,!1),window.removeEventListener("resize",we,!1),window.removeEventListener("orientationchange",we,!1)}}())}function d(M){return function(){!0!==ue[M.base]&&(M.useEl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+M.hash),M.useEl.hasAttribute("href")&&M.useEl.setAttribute("href","#"+M.hash))}}function j(M){return function(){var de=document.body,ne=document.createElement("x");M.onload=null,ne.innerHTML=M.responseText,(ne=ne.getElementsByTagName("svg")[0])&&(ne.setAttribute("aria-hidden","true"),ne.style.position="absolute",ne.style.width=0,ne.style.height=0,ne.style.overflow="hidden",de.insertBefore(ne,de.firstChild)),v()}}function _(M){return function(){M.onerror=null,M.ontimeout=null,v()}}var T,N,U=0;Z();var g=document.getElementsByTagName("use");for(N=0;N<g.length;N+=1){try{var I=g[N].getBoundingClientRect()}catch(M){I=!1}var G=(T=g[N].getAttribute("href")||g[N].getAttributeNS("http://www.w3.org/1999/xlink","href")||g[N].getAttribute("xlink:href"))&&T.split?T.split("#"):["",""],F=G[0];G=G[1];var D=I&&0===I.left&&0===I.right&&0===I.top&&0===I.bottom;I&&0===I.width&&0===I.height&&!D?(g[N].hasAttribute("href")&&g[N].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T),F.length&&(!0!==(T=ue[F])&&setTimeout(d({useEl:g[N],base:F,hash:G}),0),void 0===T&&void 0!==(G=oe(F))&&(T=new G,ue[F]=T,T.onload=j(T),T.onerror=_(T),T.ontimeout=_(T),T.open("GET",F),T.send(),U+=1))):D?F.length&&ue[F]&&setTimeout(d({useEl:g[N],base:F,hash:G}),0):void 0===ue[F]?ue[F]=!0:ue[F].onload&&(ue[F].abort(),delete ue[F].onload,ue[F]=!0)}g="",U+=1,v()},S=function(){window.removeEventListener("load",S,!1),ye=setTimeout(k,0)};"complete"!==document.readyState?window.addEventListener("load",S,!1):S()}}(),function(ue){"object"==typeof exports&&"undefined"!=typeof module?module.exports=ue():"function"==typeof define&&define.amd?define([],ue):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SimpleMDE=ue()}(function(){return function ue(ye,we,Z){function O(S,v){if(!we[S]){if(!ye[S]){var d="function"==typeof require&&require;if(!v&&d)return d(S,!0);if(oe)return oe(S,!0);var j=new Error("Cannot find module '"+S+"'");throw j.code="MODULE_NOT_FOUND",j}var _=we[S]={exports:{}};ye[S][0].call(_.exports,function(T){return O(ye[S][1][T]||T)},_,_.exports,ue,ye,we,Z)}return we[S].exports}for(var oe="function"==typeof require&&require,k=0;k<Z.length;k++)O(Z[k]);return O}({1:[function(ue,ye,we){"use strict";we.toByteArray=function(S){var v,d,j,_,T,N,U=S.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");N=new oe(3*U/4-(T="="===S[U-2]?2:"="===S[U-1]?1:0)),j=T>0?U-4:U;var g=0;for(v=0,d=0;v<j;v+=4,d+=3)_=O[S.charCodeAt(v)]<<18|O[S.charCodeAt(v+1)]<<12|O[S.charCodeAt(v+2)]<<6|O[S.charCodeAt(v+3)],N[g++]=_>>16&255,N[g++]=_>>8&255,N[g++]=255&_;return 2===T?(_=O[S.charCodeAt(v)]<<2|O[S.charCodeAt(v+1)]>>4,N[g++]=255&_):1===T&&(_=O[S.charCodeAt(v)]<<10|O[S.charCodeAt(v+1)]<<4|O[S.charCodeAt(v+2)]>>2,N[g++]=_>>8&255,N[g++]=255&_),N},we.fromByteArray=function(S){for(var v,d=S.length,j=d%3,_="",T=[],N=16383,U=0,g=d-j;U<g;U+=N)T.push(k(S,U,U+N>g?g:U+N));return 1===j?(_+=Z[(v=S[d-1])>>2],_+=Z[v<<4&63],_+="=="):2===j&&(_+=Z[(v=(S[d-2]<<8)+S[d-1])>>10],_+=Z[v>>4&63],_+=Z[v<<2&63],_+="="),T.push(_),T.join("")};var Z=[],O=[],oe="undefined"!=typeof Uint8Array?Uint8Array:Array;function k(S,v,d){for(var _,T=[],N=v;N<d;N+=3)T.push(Z[(_=(S[N]<<16)+(S[N+1]<<8)+S[N+2])>>18&63]+Z[_>>12&63]+Z[_>>6&63]+Z[63&_]);return T.join("")}!function(){for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=0,d=S.length;v<d;++v)Z[v]=S[v],O[S.charCodeAt(v)]=v;O["-".charCodeAt(0)]=62,O["_".charCodeAt(0)]=63}()},{}],2:[function(ue,ye,we){},{}],3:[function(ue,ye,we){(function(Z){"use strict";var O=ue("base64-js"),oe=ue("ieee754"),k=ue("isarray");function S(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function v(l,u){if(S()<u)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(l=new Uint8Array(u)).__proto__=d.prototype:(null===l&&(l=new d(u)),l.length=u),l}function d(l,u,p){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(l,u,p);if("number"==typeof l){if("string"==typeof u)throw new Error("If encoding is specified then the first argument must be a string");return T(this,l)}return j(this,l,u,p)}function j(l,u,p,E){if("number"==typeof u)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&u instanceof ArrayBuffer?function(C,B,he,Oe){if(he<0||B.byteLength<he)throw new RangeError("'offset' is out of bounds");if(B.byteLength<he+(Oe||0))throw new RangeError("'length' is out of bounds");return B=void 0===Oe?new Uint8Array(B,he):new Uint8Array(B,he,Oe),d.TYPED_ARRAY_SUPPORT?(C=B).__proto__=d.prototype:C=N(C,B),C}(l,u,p,E):"string"==typeof u?function(C,B,he){if("string"==typeof he&&""!==he||(he="utf8"),!d.isEncoding(he))throw new TypeError('"encoding" must be a valid string encoding');return(C=v(C,0|g(B,he))).write(B,he),C}(l,u,p):function(C,B){if(d.isBuffer(B)){var he=0|U(B.length);return 0===(C=v(C,he)).length||B.copy(C,0,0,he),C}if(B){if("undefined"!=typeof ArrayBuffer&&B.buffer instanceof ArrayBuffer||"length"in B)return"number"!=typeof B.length||(Oe=B.length)!=Oe?v(C,0):N(C,B);if("Buffer"===B.type&&k(B.data))return N(C,B.data)}var Oe;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(l,u)}function _(l){if("number"!=typeof l)throw new TypeError('"size" argument must be a number')}function T(l,u){if(_(u),l=v(l,u<0?0:0|U(u)),!d.TYPED_ARRAY_SUPPORT)for(var p=0;p<u;p++)l[p]=0;return l}function N(l,u){var p=0|U(u.length);l=v(l,p);for(var E=0;E<p;E+=1)l[E]=255&u[E];return l}function U(l){if(l>=S())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S().toString(16)+" bytes");return 0|l}function g(l,u){if(d.isBuffer(l))return l.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(l)||l instanceof ArrayBuffer))return l.byteLength;"string"!=typeof l&&(l=""+l);var p=l.length;if(0===p)return 0;for(var E=!1;;)switch(u){case"ascii":case"binary":case"raw":case"raws":return p;case"utf8":case"utf-8":case void 0:return L(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return y(l).length;default:if(E)return L(l).length;u=(""+u).toLowerCase(),E=!0}}function I(l,u,p){var E=l[u];l[u]=l[p],l[p]=E}function G(l,u,p,E){var C=1,B=l.length,he=u.length;if(void 0!==E&&("ucs2"===(E=String(E).toLowerCase())||"ucs-2"===E||"utf16le"===E||"utf-16le"===E)){if(l.length<2||u.length<2)return-1;C=2,B/=2,he/=2,p/=2}function Oe(x,P){return 1===C?x[P]:x.readUInt16BE(P*C)}for(var re=-1,Pe=0;p+Pe<B;Pe++)if(Oe(l,p+Pe)===Oe(u,-1===re?0:Pe-re)){if(-1===re&&(re=Pe),Pe-re+1===he)return(p+re)*C}else-1!==re&&(Pe-=Pe-re),re=-1;return-1}function F(l,u,p,E){p=Number(p)||0;var C=l.length-p;E?(E=Number(E))>C&&(E=C):E=C;var B=u.length;if(B%2!=0)throw new Error("Invalid hex string");E>B/2&&(E=B/2);for(var he=0;he<E;he++){var Oe=parseInt(u.substr(2*he,2),16);if(isNaN(Oe))return he;l[p+he]=Oe}return he}function D(l,u,p,E){return Me(function(C){for(var B=[],he=0;he<C.length;he++)B.push(255&C.charCodeAt(he));return B}(u),l,p,E)}function M(l,u,p){return O.fromByteArray(0===u&&p===l.length?l:l.slice(u,p))}function de(l,u,p){p=Math.min(l.length,p);for(var E=[],C=u;C<p;){var B,he,Oe,re,Pe=l[C],x=null,P=Pe>239?4:Pe>223?3:Pe>191?2:1;if(C+P<=p)switch(P){case 1:Pe<128&&(x=Pe);break;case 2:128==(192&(B=l[C+1]))&&(re=(31&Pe)<<6|63&B)>127&&(x=re);break;case 3:he=l[C+2],128==(192&(B=l[C+1]))&&128==(192&he)&&(re=(15&Pe)<<12|(63&B)<<6|63&he)>2047&&(re<55296||re>57343)&&(x=re);break;case 4:he=l[C+2],Oe=l[C+3],128==(192&(B=l[C+1]))&&128==(192&he)&&128==(192&Oe)&&(re=(15&Pe)<<18|(63&B)<<12|(63&he)<<6|63&Oe)>65535&&re<1114112&&(x=re)}null===x?(x=65533,P=1):x>65535&&(E.push((x-=65536)>>>10&1023|55296),x=56320|1023&x),E.push(x),C+=P}return function(Y){var z=Y.length;if(z<=ne)return String.fromCharCode.apply(String,Y);for(var J="",q=0;q<z;)J+=String.fromCharCode.apply(String,Y.slice(q,q+=ne));return J}(E)}we.Buffer=d,we.SlowBuffer=function(l){return+l!=l&&(l=0),d.alloc(+l)},we.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==Z.TYPED_ARRAY_SUPPORT?Z.TYPED_ARRAY_SUPPORT:function(){try{var l=new Uint8Array(1);return l.foo=function(){return 42},42===l.foo()&&"function"==typeof l.subarray&&0===l.subarray(1,1).byteLength}catch(u){return!1}}(),we.kMaxLength=S(),d.poolSize=8192,d._augment=function(l){return l.__proto__=d.prototype,l},d.from=function(l,u,p){return j(null,l,u,p)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(l,u,p){return E=null,B=u,he=p,_(C=l),C<=0?v(E,C):void 0!==B?"string"==typeof he?v(E,C).fill(B,he):v(E,C).fill(B):v(E,C);var E,C,B,he},d.allocUnsafe=function(l){return T(null,l)},d.allocUnsafeSlow=function(l){return T(null,l)},d.isBuffer=function(l){return!(null==l||!l._isBuffer)},d.compare=function(l,u){if(!d.isBuffer(l)||!d.isBuffer(u))throw new TypeError("Arguments must be Buffers");if(l===u)return 0;for(var p=l.length,E=u.length,C=0,B=Math.min(p,E);C<B;++C)if(l[C]!==u[C]){p=l[C],E=u[C];break}return p<E?-1:E<p?1:0},d.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(l,u){if(!k(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return d.alloc(0);var p;if(void 0===u)for(u=0,p=0;p<l.length;p++)u+=l[p].length;var E=d.allocUnsafe(u),C=0;for(p=0;p<l.length;p++){var B=l[p];if(!d.isBuffer(B))throw new TypeError('"list" argument must be an Array of Buffers');B.copy(E,C),C+=B.length}return E},d.byteLength=g,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<l;u+=2)I(this,u,u+1);return this},d.prototype.swap32=function(){var l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<l;u+=4)I(this,u,u+3),I(this,u+1,u+2);return this},d.prototype.toString=function(){var l=0|this.length;return 0===l?"":0===arguments.length?de(this,0,l):function(u,p,E){var C=!1;if((void 0===p||p<0)&&(p=0),p>this.length||((void 0===E||E>this.length)&&(E=this.length),E<=0)||(E>>>=0)<=(p>>>=0))return"";for(u||(u="utf8");;)switch(u){case"hex":return le(this,p,E);case"utf8":case"utf-8":return de(this,p,E);case"ascii":return Q(this,p,E);case"binary":return xe(this,p,E);case"base64":return M(this,p,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,p,E);default:if(C)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),C=!0}}.apply(this,arguments)},d.prototype.equals=function(l){if(!d.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||0===d.compare(this,l)},d.prototype.inspect=function(){var l="",u=we.INSPECT_MAX_BYTES;return this.length>0&&(l=this.toString("hex",0,u).match(/.{2}/g).join(" "),this.length>u&&(l+=" ... ")),"<Buffer "+l+">"},d.prototype.compare=function(l,u,p,E,C){if(!d.isBuffer(l))throw new TypeError("Argument must be a Buffer");if(void 0===u&&(u=0),void 0===p&&(p=l?l.length:0),void 0===E&&(E=0),void 0===C&&(C=this.length),u<0||p>l.length||E<0||C>this.length)throw new RangeError("out of range index");if(E>=C&&u>=p)return 0;if(E>=C)return-1;if(u>=p)return 1;if(this===l)return 0;for(var B=(C>>>=0)-(E>>>=0),he=(p>>>=0)-(u>>>=0),Oe=Math.min(B,he),re=this.slice(E,C),Pe=l.slice(u,p),x=0;x<Oe;++x)if(re[x]!==Pe[x]){B=re[x],he=Pe[x];break}return B<he?-1:he<B?1:0},d.prototype.indexOf=function(l,u,p){if("string"==typeof u?(p=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u>>=0,0===this.length||u>=this.length)return-1;if(u<0&&(u=Math.max(this.length+u,0)),"string"==typeof l&&(l=d.from(l,p)),d.isBuffer(l))return 0===l.length?-1:G(this,l,u,p);if("number"==typeof l)return d.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,l,u):G(this,[l],u,p);throw new TypeError("val must be string, number or Buffer")},d.prototype.includes=function(l,u,p){return-1!==this.indexOf(l,u,p)},d.prototype.write=function(l,u,p,E){if(void 0===u)E="utf8",p=this.length,u=0;else if(void 0===p&&"string"==typeof u)E=u,p=this.length,u=0;else{if(!isFinite(u))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");u|=0,isFinite(p)?(p|=0,void 0===E&&(E="utf8")):(E=p,p=void 0)}var C=this.length-u;if((void 0===p||p>C)&&(p=C),l.length>0&&(p<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");for(var he,Oe,Pe,x,Y,z,J=!1;;)switch(E){case"hex":return F(this,l,u,p);case"utf8":case"utf-8":return z=p,Me(L(l,this.length-(Y=u)),this,Y,z);case"ascii":case"binary":return D(this,l,u,p);case"base64":return Pe=u,x=p,Me(y(l),this,Pe,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oe=p,Me(function(q,ie){for(var me,ke,je=[],Ue=0;Ue<q.length&&!((ie-=2)<0);Ue++)ke=(me=q.charCodeAt(Ue))>>8,je.push(me%256),je.push(ke);return je}(l,this.length-(he=u)),this,he,Oe);default:if(J)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),J=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ne=4096;function Q(l,u,p){var E="";p=Math.min(l.length,p);for(var C=u;C<p;C++)E+=String.fromCharCode(127&l[C]);return E}function xe(l,u,p){var E="";p=Math.min(l.length,p);for(var C=u;C<p;C++)E+=String.fromCharCode(l[C]);return E}function le(l,u,p){var E=l.length;(!u||u<0)&&(u=0),(!p||p<0||p>E)&&(p=E);for(var C="",B=u;B<p;B++)C+=Ye(l[B]);return C}function se(l,u,p){for(var E=l.slice(u,p),C="",B=0;B<E.length;B+=2)C+=String.fromCharCode(E[B]+256*E[B+1]);return C}function $(l,u,p){if(l%1!=0||l<0)throw new RangeError("offset is not uint");if(l+u>p)throw new RangeError("Trying to access beyond buffer length")}function W(l,u,p,E,C,B){if(!d.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>C||u<B)throw new RangeError('"value" argument is out of bounds');if(p+E>l.length)throw new RangeError("Index out of range")}function pe(l,u,p,E){u<0&&(u=65535+u+1);for(var C=0,B=Math.min(l.length-p,2);C<B;C++)l[p+C]=(u&255<<8*(E?C:1-C))>>>8*(E?C:1-C)}function fe(l,u,p,E){u<0&&(u=4294967295+u+1);for(var C=0,B=Math.min(l.length-p,4);C<B;C++)l[p+C]=u>>>8*(E?C:3-C)&255}function Ce(l,u,p,E,C,B){if(p+E>l.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function He(l,u,p,E,C){return C||Ce(l,0,p,4),oe.write(l,u,p,E,23,4),p+4}function ze(l,u,p,E,C){return C||Ce(l,0,p,8),oe.write(l,u,p,E,52,8),p+8}d.prototype.slice=function(l,u){var p,E=this.length;if((l=~~l)<0?(l+=E)<0&&(l=0):l>E&&(l=E),(u=void 0===u?E:~~u)<0?(u+=E)<0&&(u=0):u>E&&(u=E),u<l&&(u=l),d.TYPED_ARRAY_SUPPORT)(p=this.subarray(l,u)).__proto__=d.prototype;else{var C=u-l;p=new d(C,void 0);for(var B=0;B<C;B++)p[B]=this[B+l]}return p},d.prototype.readUIntLE=function(l,u,p){l|=0,u|=0,p||$(l,u,this.length);for(var E=this[l],C=1,B=0;++B<u&&(C*=256);)E+=this[l+B]*C;return E},d.prototype.readUIntBE=function(l,u,p){l|=0,u|=0,p||$(l,u,this.length);for(var E=this[l+--u],C=1;u>0&&(C*=256);)E+=this[l+--u]*C;return E},d.prototype.readUInt8=function(l,u){return u||$(l,1,this.length),this[l]},d.prototype.readUInt16LE=function(l,u){return u||$(l,2,this.length),this[l]|this[l+1]<<8},d.prototype.readUInt16BE=function(l,u){return u||$(l,2,this.length),this[l]<<8|this[l+1]},d.prototype.readUInt32LE=function(l,u){return u||$(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},d.prototype.readUInt32BE=function(l,u){return u||$(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},d.prototype.readIntLE=function(l,u,p){l|=0,u|=0,p||$(l,u,this.length);for(var E=this[l],C=1,B=0;++B<u&&(C*=256);)E+=this[l+B]*C;return E>=(C*=128)&&(E-=Math.pow(2,8*u)),E},d.prototype.readIntBE=function(l,u,p){l|=0,u|=0,p||$(l,u,this.length);for(var E=u,C=1,B=this[l+--E];E>0&&(C*=256);)B+=this[l+--E]*C;return B>=(C*=128)&&(B-=Math.pow(2,8*u)),B},d.prototype.readInt8=function(l,u){return u||$(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},d.prototype.readInt16LE=function(l,u){u||$(l,2,this.length);var p=this[l]|this[l+1]<<8;return 32768&p?4294901760|p:p},d.prototype.readInt16BE=function(l,u){u||$(l,2,this.length);var p=this[l+1]|this[l]<<8;return 32768&p?4294901760|p:p},d.prototype.readInt32LE=function(l,u){return u||$(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},d.prototype.readInt32BE=function(l,u){return u||$(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},d.prototype.readFloatLE=function(l,u){return u||$(l,4,this.length),oe.read(this,l,!0,23,4)},d.prototype.readFloatBE=function(l,u){return u||$(l,4,this.length),oe.read(this,l,!1,23,4)},d.prototype.readDoubleLE=function(l,u){return u||$(l,8,this.length),oe.read(this,l,!0,52,8)},d.prototype.readDoubleBE=function(l,u){return u||$(l,8,this.length),oe.read(this,l,!1,52,8)},d.prototype.writeUIntLE=function(l,u,p,E){l=+l,u|=0,p|=0,E||W(this,l,u,p,Math.pow(2,8*p)-1,0);var C=1,B=0;for(this[u]=255&l;++B<p&&(C*=256);)this[u+B]=l/C&255;return u+p},d.prototype.writeUIntBE=function(l,u,p,E){l=+l,u|=0,p|=0,E||W(this,l,u,p,Math.pow(2,8*p)-1,0);var C=p-1,B=1;for(this[u+C]=255&l;--C>=0&&(B*=256);)this[u+C]=l/B&255;return u+p},d.prototype.writeUInt8=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,1,255,0),d.TYPED_ARRAY_SUPPORT||(l=Math.floor(l)),this[u]=255&l,u+1},d.prototype.writeUInt16LE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[u]=255&l,this[u+1]=l>>>8):pe(this,l,u,!0),u+2},d.prototype.writeUInt16BE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[u]=l>>>8,this[u+1]=255&l):pe(this,l,u,!1),u+2},d.prototype.writeUInt32LE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[u+3]=l>>>24,this[u+2]=l>>>16,this[u+1]=l>>>8,this[u]=255&l):fe(this,l,u,!0),u+4},d.prototype.writeUInt32BE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[u]=l>>>24,this[u+1]=l>>>16,this[u+2]=l>>>8,this[u+3]=255&l):fe(this,l,u,!1),u+4},d.prototype.writeIntLE=function(l,u,p,E){if(l=+l,u|=0,!E){var C=Math.pow(2,8*p-1);W(this,l,u,p,C-1,-C)}var B=0,he=1,Oe=0;for(this[u]=255&l;++B<p&&(he*=256);)l<0&&0===Oe&&0!==this[u+B-1]&&(Oe=1),this[u+B]=(l/he>>0)-Oe&255;return u+p},d.prototype.writeIntBE=function(l,u,p,E){if(l=+l,u|=0,!E){var C=Math.pow(2,8*p-1);W(this,l,u,p,C-1,-C)}var B=p-1,he=1,Oe=0;for(this[u+B]=255&l;--B>=0&&(he*=256);)l<0&&0===Oe&&0!==this[u+B+1]&&(Oe=1),this[u+B]=(l/he>>0)-Oe&255;return u+p},d.prototype.writeInt8=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,1,127,-128),d.TYPED_ARRAY_SUPPORT||(l=Math.floor(l)),l<0&&(l=255+l+1),this[u]=255&l,u+1},d.prototype.writeInt16LE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[u]=255&l,this[u+1]=l>>>8):pe(this,l,u,!0),u+2},d.prototype.writeInt16BE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[u]=l>>>8,this[u+1]=255&l):pe(this,l,u,!1),u+2},d.prototype.writeInt32LE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[u]=255&l,this[u+1]=l>>>8,this[u+2]=l>>>16,this[u+3]=l>>>24):fe(this,l,u,!0),u+4},d.prototype.writeInt32BE=function(l,u,p){return l=+l,u|=0,p||W(this,l,u,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),d.TYPED_ARRAY_SUPPORT?(this[u]=l>>>24,this[u+1]=l>>>16,this[u+2]=l>>>8,this[u+3]=255&l):fe(this,l,u,!1),u+4},d.prototype.writeFloatLE=function(l,u,p){return He(this,l,u,!0,p)},d.prototype.writeFloatBE=function(l,u,p){return He(this,l,u,!1,p)},d.prototype.writeDoubleLE=function(l,u,p){return ze(this,l,u,!0,p)},d.prototype.writeDoubleBE=function(l,u,p){return ze(this,l,u,!1,p)},d.prototype.copy=function(l,u,p,E){if(p||(p=0),E||0===E||(E=this.length),u>=l.length&&(u=l.length),u||(u=0),E>0&&E<p&&(E=p),E===p||0===l.length||0===this.length)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("sourceStart out of bounds");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),l.length-u<E-p&&(E=l.length-u+p);var C,B=E-p;if(this===l&&p<u&&u<E)for(C=B-1;C>=0;C--)l[C+u]=this[C+p];else if(B<1e3||!d.TYPED_ARRAY_SUPPORT)for(C=0;C<B;C++)l[C+u]=this[C+p];else Uint8Array.prototype.set.call(l,this.subarray(p,p+B),u);return B},d.prototype.fill=function(l,u,p,E){if("string"==typeof l){if("string"==typeof u?(E=u,u=0,p=this.length):"string"==typeof p&&(E=p,p=this.length),1===l.length){var C=l.charCodeAt(0);C<256&&(l=C)}if(void 0!==E&&"string"!=typeof E)throw new TypeError("encoding must be a string");if("string"==typeof E&&!d.isEncoding(E))throw new TypeError("Unknown encoding: "+E)}else"number"==typeof l&&(l&=255);if(u<0||this.length<u||this.length<p)throw new RangeError("Out of range index");if(p<=u)return this;var B;if(u>>>=0,p=void 0===p?this.length:p>>>0,l||(l=0),"number"==typeof l)for(B=u;B<p;B++)this[B]=l;else{var he=d.isBuffer(l)?l:L(new d(l,E).toString()),Oe=he.length;for(B=0;B<p-u;B++)this[B+u]=he[B%Oe]}return this};var Ve=/[^+\/0-9A-Za-z-_]/g;function Ye(l){return l<16?"0"+l.toString(16):l.toString(16)}function L(l,u){var p;u=u||1/0;for(var E=l.length,C=null,B=[],he=0;he<E;he++){if((p=l.charCodeAt(he))>55295&&p<57344){if(!C){if(p>56319){(u-=3)>-1&&B.push(239,191,189);continue}if(he+1===E){(u-=3)>-1&&B.push(239,191,189);continue}C=p;continue}if(p<56320){(u-=3)>-1&&B.push(239,191,189),C=p;continue}p=65536+(C-55296<<10|p-56320)}else C&&(u-=3)>-1&&B.push(239,191,189);if(C=null,p<128){if((u-=1)<0)break;B.push(p)}else if(p<2048){if((u-=2)<0)break;B.push(p>>6|192,63&p|128)}else if(p<65536){if((u-=3)<0)break;B.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((u-=4)<0)break;B.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return B}function y(l){return O.toByteArray(function(u){var p;if((u=(p=u,p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")).replace(Ve,"")).length<2)return"";for(;u.length%4!=0;)u+="=";return u}(l))}function Me(l,u,p,E){for(var C=0;C<E&&!(C+p>=u.length||C>=l.length);C++)u[C+p]=l[C];return C}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(ue,ye,we){"use strict";var Z=ue("typo-js");function O(oe){"function"==typeof(oe=oe||{}).codeMirrorInstance&&"function"==typeof oe.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),oe.codeMirrorInstance.defineMode("spell-checker",function(k){if(!O.aff_loading){O.aff_loading=!0;var S=new XMLHttpRequest;S.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),S.onload=function(){4===S.readyState&&200===S.status&&(O.aff_data=S.responseText,2==++O.num_loaded&&(O.typo=new Z("en_US",O.aff_data,O.dic_data,{platform:"any"})))},S.send(null)}if(!O.dic_loading){O.dic_loading=!0;var v=new XMLHttpRequest;v.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),v.onload=function(){4===v.readyState&&200===v.status&&(O.dic_data=v.responseText,2==++O.num_loaded&&(O.typo=new Z("en_US",O.aff_data,O.dic_data,{platform:"any"})))},v.send(null)}var d='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',j={token:function(T){var N=T.peek(),U="";if(d.includes(N))return T.next(),null;for(;null!=(N=T.peek())&&!d.includes(N);)U+=N,T.next();return O.typo&&!O.typo.check(U)?"spell-error":null}},_=oe.codeMirrorInstance.getMode(k,k.backdrop||"text/plain");return oe.codeMirrorInstance.overlayMode(_,j,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}O.num_loaded=0,O.aff_loading=!1,O.dic_loading=!1,O.aff_data="",O.dic_data="",ye.exports=O},{"typo-js":18}],5:[function(ue,ye,we){!function(Z){"use strict";Z.defineOption("fullScreen",!1,function(O,oe,k){var S,v;k==Z.Init&&(k=!1),!k!=!oe&&(oe?(v=(S=O).getWrapperElement(),S.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:v.style.width,height:v.style.height},v.style.width="",v.style.height="auto",v.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",S.refresh()):function(d){var j=d.getWrapperElement();j.className=j.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var _=d.state.fullScreenRestore;j.style.width=_.width,j.style.height=_.height,window.scrollTo(_.scrollLeft,_.scrollTop),d.refresh()}(O))})}("object"==typeof we&&"object"==typeof ye?ue("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],6:[function(ue,ye,we){!function(Z){function O(d){d.state.placeholder&&(d.state.placeholder.parentNode.removeChild(d.state.placeholder),d.state.placeholder=null)}function oe(d){O(d);var j=d.state.placeholder=document.createElement("pre");j.style.cssText="height: 0; overflow: visible",j.className="CodeMirror-placeholder";var _=d.getOption("placeholder");"string"==typeof _&&(_=document.createTextNode(_)),j.appendChild(_),d.display.lineSpace.insertBefore(j,d.display.lineSpace.firstChild)}function k(d){v(d)&&oe(d)}function S(d){var j=d.getWrapperElement(),_=v(d);j.className=j.className.replace(" CodeMirror-empty","")+(_?" CodeMirror-empty":""),_?oe(d):O(d)}function v(d){return 1===d.lineCount()&&""===d.getLine(0)}Z.defineOption("placeholder","",function(d,j,_){var T=_&&_!=Z.Init;if(j&&!T)d.on("blur",k),d.on("change",S),d.on("swapDoc",S),S(d);else if(!j&&T){d.off("blur",k),d.off("change",S),d.off("swapDoc",S),O(d);var N=d.getWrapperElement();N.className=N.className.replace(" CodeMirror-empty","")}j&&!d.hasFocus()&&k(d)})}("object"==typeof we&&"object"==typeof ye?ue("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],7:[function(ue,ye,we){!function(Z){"use strict";var O=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,oe=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,k=/[*+-]\s/;Z.commands.newlineAndIndentContinueMarkdownList=function(S){if(S.getOption("disableInput"))return Z.Pass;for(var v=S.listSelections(),d=[],j=0;j<v.length;j++){var _=v[j].head,T=S.getStateAfter(_.line),N=!1!==T.list,U=0!==T.quote,g=S.getLine(_.line),I=O.exec(g);if(!v[j].empty()||!N&&!U||!I)return void S.execCommand("newlineAndIndent");if(oe.test(g))S.replaceRange("",{line:_.line,ch:0},{line:_.line,ch:_.ch+1}),d[j]="\n";else{var G=I[1],F=I[5],D=k.test(I[2])||I[2].indexOf(">")>=0?I[2]:parseInt(I[3],10)+1+I[4];d[j]="\n"+G+D+F}}S.replaceSelections(d)}}("object"==typeof we&&"object"==typeof ye?ue("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],8:[function(ue,ye,we){!function(Z){"use strict";Z.overlayMode=function(O,oe,k){return{startState:function(){return{base:Z.startState(O),overlay:Z.startState(oe),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(S){return{base:Z.copyState(O,S.base),overlay:Z.copyState(oe,S.overlay),basePos:S.basePos,baseCur:null,overlayPos:S.overlayPos,overlayCur:null}},token:function(S,v){return(S!=v.streamSeen||Math.min(v.basePos,v.overlayPos)<S.start)&&(v.streamSeen=S,v.basePos=v.overlayPos=S.start),S.start==v.basePos&&(v.baseCur=O.token(S,v.base),v.basePos=S.pos),S.start==v.overlayPos&&(S.pos=S.start,v.overlayCur=oe.token(S,v.overlay),v.overlayPos=S.pos),S.pos=Math.min(v.basePos,v.overlayPos),null==v.overlayCur?v.baseCur:null!=v.baseCur&&v.overlay.combineTokens||k&&null==v.overlay.combineTokens?v.baseCur+" "+v.overlayCur:v.overlayCur},indent:O.indent&&function(S,v){return O.indent(S.base,v)},electricChars:O.electricChars,innerMode:function(S){return{state:S.base,mode:O}},blankLine:function(S){O.blankLine&&O.blankLine(S.base),oe.blankLine&&oe.blankLine(S.overlay)}}}}("object"==typeof we&&"object"==typeof ye?ue("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],9:[function(ue,ye,we){!function(Z){"use strict";function O(T){T.operation(function(){!function(N){if(!N.somethingSelected())return j(N);if(N.listSelections().length>1)return _(N);var U=N.getCursor("start"),g=N.getCursor("end"),I=N.state.markedSelection;if(!I.length)return d(N,U,g);var G=I[0].find(),F=I[I.length-1].find();if(!G||!F||g.line-U.line<k||v(U,F.to)>=0||v(g,G.from)<=0)return _(N);for(;v(U,G.from)>0;)I.shift().clear(),G=I[0].find();for(v(U,G.from)<0&&(G.to.line-U.line<k?(I.shift().clear(),d(N,U,G.to,0)):d(N,U,G.from,0));v(g,F.to)<0;)I.pop().clear(),F=I[I.length-1].find();v(g,F.to)>0&&(g.line-F.from.line<k?(I.pop().clear(),d(N,F.from,g)):d(N,F.to,g))}(T)})}function oe(T){T.state.markedSelection.length&&T.operation(function(){j(T)})}Z.defineOption("styleSelectedText",!1,function(T,N,U){var g=U&&U!=Z.Init;N&&!g?(T.state.markedSelection=[],T.state.markedSelectionStyle="string"==typeof N?N:"CodeMirror-selectedtext",_(T),T.on("cursorActivity",O),T.on("change",oe)):!N&&g&&(T.off("cursorActivity",O),T.off("change",oe),j(T),T.state.markedSelection=T.state.markedSelectionStyle=null)});var k=8,S=Z.Pos,v=Z.cmpPos;function d(T,N,U,g){if(0!=v(N,U))for(var I=T.state.markedSelection,G=T.state.markedSelectionStyle,F=N.line;;){var D=F==N.line?N:S(F,0),M=F+k,de=M>=U.line,ne=de?U:S(M,0),Q=T.markText(D,ne,{className:G});if(null==g?I.push(Q):I.splice(g++,0,Q),de)break;F=M}}function j(T){for(var N=T.state.markedSelection,U=0;U<N.length;++U)N[U].clear();N.length=0}function _(T){j(T);for(var N=T.listSelections(),U=0;U<N.length;U++)d(T,N[U].from(),N[U].to())}}("object"==typeof we&&"object"==typeof ye?ue("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],10:[function(ue,ye,we){!function(Z){"object"==typeof we&&"object"==typeof ye?ye.exports=Z():(this||window).CodeMirror=Z()}(function(){"use strict";var Z=navigator.userAgent,O=navigator.platform,oe=/gecko\/\d/i.test(Z),k=/MSIE \d/.test(Z),S=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Z),v=k||S,d=v&&(k?document.documentMode||6:S[1]),j=/WebKit\//.test(Z),_=j&&/Qt\/\d+\.\d+/.test(Z),T=/Chrome\//.test(Z),N=/Opera\//.test(Z),U=/Apple Computer/.test(navigator.vendor),g=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Z),I=/PhantomJS/.test(Z),G=/AppleWebKit/.test(Z)&&/Mobile\/\w+/.test(Z),F=G||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Z),D=G||/Mac/.test(O),M=/\bCrOS\b/.test(Z),de=/win/i.test(O),ne=N&&Z.match(/Version\/(\d*\.\d*)/);ne&&(ne=Number(ne[1])),ne&&ne>=15&&(N=!1,j=!0);var Q=D&&(_||N&&(null==ne||ne<12.11)),xe=oe||v&&d>=9,le=!1,se=!1;function $(e,t){if(!(this instanceof $))return new $(e,t);this.options=t=t?Lt(t):{},Lt(Wa,t,!1),Me(t);var n=t.value;"string"==typeof n&&(n=new pt(n,t.mode,null,t.lineSeparator)),this.doc=n;var r=new $.inputStyles[t.inputStyle](this),i=this.display=new function(c,f,w){var h=this;this.input=w,h.scrollbarFiller=ve("div",null,"CodeMirror-scrollbar-filler"),h.scrollbarFiller.setAttribute("cm-not-content","true"),h.gutterFiller=ve("div",null,"CodeMirror-gutter-filler"),h.gutterFiller.setAttribute("cm-not-content","true"),h.lineDiv=ve("div",null,"CodeMirror-code"),h.selectionDiv=ve("div",null,null,"position: relative; z-index: 1"),h.cursorDiv=ve("div",null,"CodeMirror-cursors"),h.measure=ve("div",null,"CodeMirror-measure"),h.lineMeasure=ve("div",null,"CodeMirror-measure"),h.lineSpace=ve("div",[h.measure,h.lineMeasure,h.selectionDiv,h.cursorDiv,h.lineDiv],null,"position: relative; outline: none"),h.mover=ve("div",[ve("div",[h.lineSpace],"CodeMirror-lines")],null,"position: relative"),h.sizer=ve("div",[h.mover],"CodeMirror-sizer"),h.sizerWidth=null,h.heightForcer=ve("div",null,null,"position: absolute; height: "+ca+"px; width: 1px;"),h.gutters=ve("div",null,"CodeMirror-gutters"),h.lineGutter=null,h.scroller=ve("div",[h.sizer,h.heightForcer,h.gutters],"CodeMirror-scroll"),h.scroller.setAttribute("tabIndex","-1"),h.wrapper=ve("div",[h.scrollbarFiller,h.gutterFiller,h.scroller],"CodeMirror"),v&&d<8&&(h.gutters.style.zIndex=-1,h.scroller.style.paddingRight=0),j||oe&&F||(h.scroller.draggable=!0),c&&(c.appendChild?c.appendChild(h.wrapper):c(h.wrapper)),h.viewFrom=h.viewTo=f.first,h.reportedViewFrom=h.reportedViewTo=f.first,h.view=[],h.renderedView=null,h.externalMeasured=null,h.viewOffset=0,h.lastWrapHeight=h.lastWrapWidth=0,h.updateLineNumbers=null,h.nativeBarWidth=h.barHeight=h.barWidth=0,h.scrollbarsClipped=!1,h.lineNumWidth=h.lineNumInnerWidth=h.lineNumChars=null,h.alignWidgets=!1,h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.maxLine=null,h.maxLineLength=0,h.maxLineChanged=!1,h.wheelDX=h.wheelDY=h.wheelStartX=h.wheelStartY=null,h.shift=!1,h.selForContextMenu=null,h.activeTouch=null,w.init(h)}(e,n,r);i.wrapper.CodeMirror=this,Ve(this),He(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!F&&i.input.focus(),E(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ln,keySeq:null,specialChars:null};var c,o=this;for(var a in v&&d<11&&setTimeout(function(){o.display.input.reset(!0)},20),function(c){var f=c.display;Le(f.scroller,"mousedown",et(c,Pa)),Le(f.scroller,"dblclick",v&&d<11?et(c,function(R){if(!it(c,R)){var H=en(c,R);if(H&&!po(c,R)&&!Bt(c.display,R)){ut(R);var V=c.findWordAt(H);vr(c.doc,V.anchor,V.head)}}}):function(R){it(c,R)||ut(R)}),xe||Le(f.scroller,"contextmenu",function(R){Co(c,R)});var w,h={end:0};function m(){f.activeTouch&&(w=setTimeout(function(){f.activeTouch=null},1e3),(h=f.activeTouch).end=+new Date)}function b(R,H){if(null==H.left)return!0;var V=H.left-R.left,X=H.top-R.top;return V*V+X*X>400}Le(f.scroller,"touchstart",function(R){if(!it(c,R)&&!function(V){if(1!=V.touches.length)return!1;var X=V.touches[0];return X.radiusX<=1&&X.radiusY<=1}(R)){clearTimeout(w);var H=+new Date;f.activeTouch={start:H,moved:!1,prev:H-h.end<=300?h:null},1==R.touches.length&&(f.activeTouch.left=R.touches[0].pageX,f.activeTouch.top=R.touches[0].pageY)}}),Le(f.scroller,"touchmove",function(){f.activeTouch&&(f.activeTouch.moved=!0)}),Le(f.scroller,"touchend",function(R){var H=f.activeTouch;if(H&&!Bt(f,R)&&null!=H.left&&!H.moved&&new Date-H.start<300){var V,X=c.coordsChar(f.activeTouch,"page");V=!H.prev||b(H,H.prev)?new Be(X,X):!H.prev.prev||b(H,H.prev.prev)?c.findWordAt(X):new Be(ee(X.line,0),Ne(c.doc,ee(X.line+1,0))),c.setSelection(V.anchor,V.head),c.focus(),ut(R)}m()}),Le(f.scroller,"touchcancel",m),Le(f.scroller,"scroll",function(){f.scroller.clientHeight&&(Yn(c,f.scroller.scrollTop),wn(c,f.scroller.scrollLeft,!0),rt(c,"scroll",c))}),Le(f.scroller,"mousewheel",function(R){yo(c,R)}),Le(f.scroller,"DOMMouseScroll",function(R){yo(c,R)}),Le(f.wrapper,"scroll",function(){f.wrapper.scrollTop=f.wrapper.scrollLeft=0}),f.dragFunctions={enter:function(R){it(c,R)||Ur(R)},over:function(R){it(c,R)||(function(H,V){var X=en(H,V);if(X){var K=document.createDocumentFragment();Ji(H,X,K),H.display.dragCursor||(H.display.dragCursor=ve("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),H.display.lineSpace.insertBefore(H.display.dragCursor,H.display.cursorDiv)),bt(H.display.dragCursor,K)}}(c,R),Ur(R))},start:function(R){!function(H,V){if(v&&(!H.state.draggingText||+new Date-mo<100))Ur(V);else if(!it(H,V)&&!Bt(H.display,V)&&(V.dataTransfer.setData("Text",H.getSelection()),V.dataTransfer.effectAllowed="copyMove",V.dataTransfer.setDragImage&&!U)){var X=ve("img",null,null,"position: fixed; left: 0; top: 0;");X.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",N&&(X.width=X.height=1,H.display.wrapper.appendChild(X),X._top=X.offsetTop),V.dataTransfer.setDragImage(X,0,0),N&&X.parentNode.removeChild(X)}}(c,R)},drop:et(c,Da),leave:function(R){it(c,R)||go(c)}};var A=f.input.getField();Le(A,"keyup",function(R){wo.call(c,R)}),Le(A,"keydown",et(c,bo)),Le(A,"keypress",et(c,ko)),Le(A,"focus",lr(hi,c)),Le(A,"blur",lr($n,c))}(this),ga||(Le(window,"resize",function(){null==c&&(c=setTimeout(function(){c=null,ma(Ra)},100))}),Le(window,"blur",function(){ma($n)}),ga=!0),xn(this),this.curOp.forceUpdate=!0,Qo(this,n),t.autofocus&&!F||o.hasFocus()?setTimeout(lr(hi,this),20):$n(this),Tn)Tn.hasOwnProperty(a)&&Tn[a](this,t[a],Eo);re(this),t.finishInit&&t.finishInit(this);for(var s=0;s<mi.length;++s)mi[s](this);bn(this),j&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}function W(e){e.doc.mode=$.getMode(e.options,e.doc.modeOption),pe(e)}function pe(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.frontier=e.doc.first,jn(e,100),e.state.modeGen++,e.curOp&&ft(e)}function fe(e){var t=Jt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Gn(e.display)-3);return function(i){if(rn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Ce(e){var t=e.doc,n=fe(e);t.iter(function(r){var i=n(r);i!=r.height&&It(r,i)})}function He(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),qn(e)}function ze(e){Ve(e),ft(e),setTimeout(function(){Oe(e)},20)}function Ve(e){var t=e.display.gutters,n=e.options.gutters;un(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(ve("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",Ye(e)}function Ye(e){e.display.sizer.style.marginLeft=e.display.gutters.offsetWidth+"px"}function L(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=_o(r);)r=(i=t.find(0,!0)).from.line,n+=i.from.ch-i.to.ch;for(r=e;t=er(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function y(e){var t=e.display,n=e.doc;t.maxLine=be(n,n.first),t.maxLineLength=L(t.maxLine),t.maxLineChanged=!0,n.iter(function(r){var i=L(r);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=r)})}function Me(e){var t=lt(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function l(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+ni(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Et(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function u(e,t,n){this.cm=n;var r=this.vert=ve("div",[ve("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=ve("div",[ve("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),Le(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Le(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,v&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function p(){}function E(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&hr(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new $.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Le(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?wn(e,t):Yn(e,t)},e),e.display.scrollbars.addClass&&dr(e.display.wrapper,e.display.scrollbars.addClass)}function C(e,t){t||(t=l(e));var n=e.display.barWidth,r=e.display.barHeight;B(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&ie(e),B(e,l(e)),n=e.display.barWidth,r=e.display.barHeight}function B(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function he(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-xr(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=sn(t,r),a=sn(t,i);if(n&&n.ensure){var s=n.ensure.from.line,c=n.ensure.to.line;s<o?(o=s,a=sn(t,_t(be(t,s))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=a&&(o=sn(t,_t(be(t,c))-e.wrapper.clientHeight),a=c)}return{from:o,to:Math.max(a,o+1)}}function Oe(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=x(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var c=0;c<s.length;c++)s[c].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function re(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Pe(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(ve("div",[ve("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ye(e),!0}return!1}function Pe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function x(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function P(e,t,n){var r=e.display;this.viewport=t,this.visible=he(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Kt(e),this.force=n,this.dims=ke(e),this.events=[]}function Y(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return jt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==ho(e))return!1;re(e)&&(jt(e),t.dims=ke(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),se&&(o=yi(e.doc,o),a=Fo(e.doc,a));var w,h,m,b,s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;h=o,m=a,0==(b=(w=e).display).view.length||h>=b.viewTo||m<=b.viewFrom?(b.view=Cr(w,h,m),b.viewFrom=h):(b.viewFrom>h?b.view=Cr(w,h,b.viewFrom).concat(b.view):b.viewFrom<h&&(b.view=b.view.slice(Qt(w,h))),b.viewFrom=h,b.viewTo<m?b.view=b.view.concat(Cr(w,b.viewTo,m)):b.viewTo>m&&(b.view=b.view.slice(0,Qt(w,m)))),b.viewTo=m,n.viewOffset=_t(be(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=ho(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var f=Pt();return c>4&&(n.lineDiv.style.display="none"),function(w,h,m){var b=w.display,A=w.options.lineNumbers,R=b.lineDiv,H=R.firstChild;function V(De){var Fe=De.nextSibling;return j&&D&&w.display.currentWheelTarget==De?De.style.display="none":De.parentNode.removeChild(De),Fe}for(var X=b.view,K=b.viewFrom,ae=0;ae<X.length;ae++){var te=X[ae];if(!te.hidden)if(te.node&&te.node.parentNode==R){for(;H!=te.node;)H=V(H);var ce=A&&null!=h&&h<=K&&te.lineNumber;te.changes&&(lt(te.changes,"gutter")>-1&&(ce=!1),Ae(w,te,K,m)),ce&&(un(te.lineNumber),te.lineNumber.appendChild(document.createTextNode(Pe(w.options,K)))),H=te.node.nextSibling}else{var Te=Dn(w,te,K,m);R.insertBefore(Te,H)}K+=te.size}for(;H;)H=V(H)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,f&&Pt()!=f&&f.offsetHeight&&f.focus(),un(n.cursorDiv),un(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,jn(e,400)),n.updateLineNumbers=null,!0}function z(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Kt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+ni(e.display)-ri(e),n.top)}),t.visible=he(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Y(e,t);r=!1){ie(e);var i=l(e);Fn(e),C(e,i),q(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function J(e,t){var n=new P(e,t);if(Y(e,n)){ie(e),z(e,n);var r=l(e);Fn(e),C(e,r),q(e,r),n.finish()}}function q(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Et(e)+"px"}function ie(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(v&&d<8){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var c=o.line.height-i;if(i<2&&(i=Jt(t)),(c>.001||c<-.001)&&(It(o.line,i),me(o.line),o.rest))for(var f=0;f<o.rest.length;f++)me(o.rest[f])}}}function me(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function ke(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:x(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Ae(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?We(e,t):"gutter"==o?Mt(e,t,n,r):"class"==o?nt(t):"widget"==o&&mr(e,t,r)}t.changes=null}function je(e){return e.node==e.text&&(e.node=ve("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),v&&d<8&&(e.node.style.zIndex=2)),e.node}function Ue(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Ko(e,t)}function We(e,t){var n=t.text.className,r=Ue(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,nt(t)):n&&(t.text.className=n)}function nt(e){(function(n){var r=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),n.background)r?n.background.className=r:(n.background.parentNode.removeChild(n.background),n.background=null);else if(r){var i=je(n);n.background=i.insertBefore(ve("div",null,r),i.firstChild)}})(e),e.line.wrapClass?je(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className=""),e.text.className=(e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass)||""}function Mt(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=je(t);t.gutterBackground=ve("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){i=je(t);var a=t.gutter=ve("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),i.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(ve("div",Pe(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var c=e.options.gutters[s],f=o.hasOwnProperty(c)&&o[c];f&&a.appendChild(ve("div",[f],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function mr(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}Ee(e,t,n)}function Dn(e,t,n,r){var i=Ue(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),nt(t),Mt(e,t,n,r),Ee(e,t,r),t.node}function Ee(e,t,n){if(Ie(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Ie(e,t.rest[r],t,n,!1)}function Ie(e,t,n,r,i){if(t.widgets)for(var o=je(n),a=0,s=t.widgets;a<s.length;++a){var c=s[a],f=ve("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||f.setAttribute("cm-ignore-events","true"),Xe(c,f,n,r),e.display.input.setUneditable(f),i&&c.above?o.insertBefore(f,n.gutter||n.text):o.appendChild(f),mt(c,"redraw")}}function Xe(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}u.prototype=Lt({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;return n?(this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(t?r:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),t?(this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(n?r:0))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){this.horiz.style.height=this.vert.style.width=D&&!g?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ln,this.disableVert=new ln},enableZeroWidthBar:function(e,t){e.style.pointerEvents="auto",t.set(1e3,function n(){var r=e.getBoundingClientRect();document.elementFromPoint(r.left+1,r.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,n)})},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},u.prototype),p.prototype=Lt({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},p.prototype),$.scrollbarModel={native:u,null:p},P.prototype.signal=function(e,t){wt(e,t)&&this.events.push(arguments)},P.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};var ee=$.Pos=function(e,t){if(!(this instanceof ee))return new ee(e,t);this.line=e,this.ch=t},ge=$.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};function $t(e){return ee(e.line,e.ch)}function fn(e,t){return ge(e,t)<0?t:e}function pn(e,t){return ge(e,t)<0?e:t}function Nt(e){e.state.focused||(e.display.input.focus(),hi(e))}var Ke=null;function At(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=o.splitLines(t),c=null;if(a&&r.ranges.length>1)if(Ke&&Ke.text.join("\n")==t){if(r.ranges.length%Ke.text.length==0){c=[];for(var f=0;f<Ke.text.length;f++)c.push(o.splitLines(Ke.text[f]))}}else s.length==r.ranges.length&&(c=Yr(s,function(R){return[R]}));for(f=r.ranges.length-1;f>=0;f--){var w=r.ranges[f],h=w.from(),m=w.to();w.empty()&&(n&&n>0?h=ee(h.line,h.ch-n):e.state.overwrite&&!a?m=ee(m.line,Math.min(be(o,m.line).text.length,m.ch+_e(s).length)):Ke&&Ke.lineWise&&Ke.text.join("\n")==t&&(h=m=ee(h.line,0)));var b=e.curOp.updateInput,A={from:h,to:m,text:c?c[f%c.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};kn(e.doc,A),mt(e,"inputRead",e,A)}t&&!a&&Hn(e,t),Sn(e),e.curOp.updateInput=b,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function kt(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||yt(t,function(){At(t,n,0,null,"paste")}),!0}function Hn(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Xn(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(be(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Xn(e,i.head.line,"smart"));a&&mt(e,"electricInput",e,i.head.line)}}}function Vt(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ee(i,0),head:ee(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Wn(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function mn(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ln,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function gn(){var e=ve("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=ve("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return j?e.style.width="1000px":e.setAttribute("wrap","off"),G&&(e.style.border="1px solid black"),Wn(e),t}function Bn(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ln,this.gracePeriod=!1}function gr(e,t){var n=ii(e,t.line);if(!n||n.hidden)return null;var r=be(e.doc,t.line),i=eo(n,r,t.line),o=Ct(r),a="left";o&&(a=Kr(o,t.ch)%2?"right":"left");var s=ro(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Qe(e,t){return t&&(e.bad=!0),e}function Ft(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Qe(e.clipPos(ee(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Xt(o,t,n)}}function Xt(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!Ai(r,t))return Qe(ee(qe(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?_e(e.rest):e.line;return Qe(ee(qe(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var c=e.measure,f=c.maps;function w(R,H,V){for(var X=-1;X<(f?f.length:0);X++)for(var K=X<0?c.map:f[X],ae=0;ae<K.length;ae+=3){var te=K[ae+2];if(te==R||te==H){var ce=qe(X<0?e.line:e.rest[X]),Te=K[ae]+V;return(V<0||te!=R)&&(Te=K[ae+(V?1:0)]),ee(ce,Te)}}}var h=w(a,s,n);if(h)return Qe(h,i);for(var m=s.nextSibling,b=a?a.nodeValue.length-n:0;m;m=m.nextSibling){if(h=w(m,m.firstChild,0))return Qe(ee(h.line,h.ch-b),i);b+=m.textContent.length}var A=s.previousSibling;for(b=n;A;A=A.previousSibling){if(h=w(A,A.firstChild,-1))return Qe(ee(h.line,h.ch+b),i);b+=m.textContent.length}}function dt(e,t){this.ranges=e,this.primIndex=t}function Be(e,t){this.anchor=e,this.head=t}function vt(e,t){var n=e[t];e.sort(function(f,w){return ge(f.from(),w.from())}),t=lt(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(ge(o.to(),i.from())>=0){var a=pn(o.from(),i.from()),s=fn(o.to(),i.to()),c=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new Be(c?s:a,c?a:s))}}return new dt(e,t)}function Dt(e,t){return new dt([new Be(e,t||e)],0)}function ji(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ne(e,t){if(t.line<e.first)return ee(e.first,0);var n,r,i,o=e.first+e.size-1;return t.line>o?ee(o,be(e,o).text.length):(n=t,r=be(e,t.line).text.length,null==(i=n.ch)||i>r?ee(n.line,r):i<0?ee(n.line,0):n)}function _n(e,t){return t>=e.first&&t<e.first+e.size}function Ui(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Ne(e,t[r]);return n}function zn(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=ge(n,i)<0;o!=ge(r,i)<0?(i=n,n=r):o!=ge(n,r)<0&&(n=r)}return new Be(i,n)}return new Be(r||n,n)}function vr(e,t,n,r){at(e,new dt([zn(e,e.sel.primary(),t,n)],0),r)}function qi(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=zn(e,e.sel.ranges[i],t[i],null);at(e,vt(r,e.sel.primIndex),n)}function Qr(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,at(e,vt(i,e.sel.primIndex),r)}function Gi(e,t,n,r){at(e,Dt(t,n),r)}function Yi(e,t,n){var r=e.history.done,i=_e(r);i&&i.ranges?(r[r.length-1]=t,yr(e,t,n)):at(e,t,n)}function at(e,t,n){var r,i,o,a,f,w,h,m,b,s,c;yr(e,t,n),i=e.sel,c=(a=n)&&a.origin,(o=e.cm?e.cm.curOp.id:NaN)==(s=(r=e).history).lastSelOp||c&&s.lastSelOrigin==c&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==c||(f=r,w=c,h=_e(s.done),m=i,"*"==(b=w.charAt(0))||"+"==b&&h.ranges.length==m.ranges.length&&h.somethingSelected()==m.somethingSelected()&&new Date-f.history.lastSelTime<=(f.cm?f.cm.options.historyEventDelay:500)))?s.done[s.done.length-1]=i:jr(i,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=c,s.lastSelOp=o,a&&!1!==a.clearRedo&&ea(s.undone)}function yr(e,t,n){var r,i,o,a;(wt(e,"beforeSelectionChange")||e.cm&&wt(e.cm,"beforeSelectionChange"))&&(a={ranges:(i=t).ranges,update:function(s){this.ranges=[];for(var c=0;c<s.length;c++)this.ranges[c]=new Be(Ne(r,s[c].anchor),Ne(r,s[c].head))},origin:(o=n)&&o.origin},rt(r=e,"beforeSelectionChange",r,a),r.cm&&rt(r.cm,"beforeSelectionChange",r.cm,a),t=a.ranges!=i.ranges?vt(a.ranges,a.ranges.length-1):i),$i(e,Xi(e,t,n&&n.bias||(ge(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Sn(e.cm)}function $i(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,la(e.cm)),mt(e,"cursorActivity",e))}function Vi(e){$i(e,Xi(e,e.sel,null,!1))}function Xi(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],c=ei(e,a.anchor,s&&s.anchor,n,r),f=ei(e,a.head,s&&s.head,n,r);(i||c!=a.anchor||f!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Be(c,f))}return i?vt(i,t.primIndex):t}function vn(e,t,n,r,i){var o=be(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],c=s.marker;if((null==s.from||(c.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(rt(c,"beforeCursorEnter"),c.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!c.atomic)continue;if(n){var f,w=c.find(r<0?1:-1);if((r<0?c.inclusiveRight:c.inclusiveLeft)&&(w=Ki(e,w,-r,w&&w.line==t.line?o:null)),w&&w.line==t.line&&(f=ge(w,n))&&(r<0?f<0:f>0))return vn(e,w,t,r,i)}var h=c.find(r<0?-1:1);return(r<0?c.inclusiveLeft:c.inclusiveRight)&&(h=Ki(e,h,r,h.line==t.line?o:null)),h?vn(e,h,t,r,i):null}}return t}function ei(e,t,n,r,i){var o=r||1;return vn(e,t,n,o,i)||!i&&vn(e,t,n,o,!0)||vn(e,t,n,-o,i)||!i&&vn(e,t,n,-o,!0)||(e.cantEdit=!0,ee(e.first,0))}function Ki(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?Ne(e,ee(t.line-1)):null:n>0&&t.ch==(r||be(e,t.line)).text.length?t.line<e.first+e.size-1?ee(t.line+1,0):null:new ee(t.line,t.ch+n)}function Fn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Zi(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var c=s.empty();(c||e.options.showCursorWhenSelecting)&&Ji(e,s.head,i),c||La(e,s,o)}}return r}function Ji(e,t,n){var r=Ht(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(ve("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(ve("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function La(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=Qi(e.display),s=a.left,c=Math.max(r.sizerWidth,Kt(e)-r.sizer.offsetLeft)-a.right;function f(X,K,ae,te){K<0&&(K=0),K=Math.round(K),te=Math.round(te),o.appendChild(ve("div",null,"CodeMirror-selected","position: absolute; left: "+X+"px; top: "+K+"px; width: "+(null==ae?c-X:ae)+"px; height: "+(te-K)+"px"))}function w(X,K,ae){var te,ce,Te=be(i,X),De=Te.text.length;function Fe(Ze,ot){return li(e,ee(X,Ze),"div",Te,ot)}return function(Ze,ot,$e,Ge){if(!Ze)return Ge(ot,$e,"ltr");for(var Je=!1,ht=0;ht<Ze.length;++ht){var Re=Ze[ht];(Re.from<$e&&Re.to>ot||ot==$e&&Re.to==ot)&&(Ge(Math.max(Re.from,ot),Math.min(Re.to,$e),1==Re.level?"rtl":"ltr"),Je=!0)}Je||Ge(ot,$e,"ltr")}(Ct(Te),K||0,null==ae?De:ae,function(Ze,ot,$e){var Ge,Je,ht,Re=Fe(Ze,"left");if(Ze==ot)Ge=Re,Je=ht=Re.left;else{if(Ge=Fe(ot-1,"right"),"rtl"==$e){var tt=Re;Re=Ge,Ge=tt}Je=Re.left,ht=Ge.right}null==K&&0==Ze&&(Je=s),Ge.top-Re.top>3&&(f(Je,Re.top,null,Re.bottom),Je=s,Re.bottom<Ge.top&&f(Je,Re.bottom,null,Ge.top)),null==ae&&ot==De&&(ht=c),(!te||Re.top<te.top||Re.top==te.top&&Re.left<te.left)&&(te=Re),(!ce||Ge.bottom>ce.bottom||Ge.bottom==ce.bottom&&Ge.right>ce.right)&&(ce=Ge),Je<s+1&&(Je=s),f(Je,Ge.top,ht-Je,Ge.bottom)}),{start:te,end:ce}}var h=t.from(),m=t.to();if(h.line==m.line)w(h.line,h.ch,m.ch);else{var b=be(i,h.line),A=be(i,m.line),R=Ot(b)==Ot(A),H=w(h.line,h.ch,R?b.text.length+1:null).end,V=w(m.line,R?0:null,m.ch).start;R&&(H.top<V.top-2?(f(H.right,H.top,null,H.bottom),f(s,V.top,V.left,V.bottom)):f(H.right,H.top,V.left-H.right,H.bottom)),H.bottom<V.top&&f(s,H.bottom,null,V.top)}n.appendChild(o)}function ti(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function jn(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,lr(Ta,e))}function Ta(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Ut(t.mode,Un(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength,c=$o(e,o,s?Ut(t.mode,r):r,!0);o.styles=c.styles;var f=o.styleClasses,w=c.classes;w?o.styleClasses=w:f&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||f!=w&&(!f||!w||f.bgClass!=w.bgClass||f.textClass!=w.textClass),m=0;!h&&m<a.length;++m)h=a[m]!=o.styles[m];h&&i.push(t.frontier),o.stateAfter=s?r:Ut(t.mode,r)}else o.text.length<=e.options.maxHighlightLength&&wi(e,o.text,r),o.stateAfter=t.frontier%5==0?Ut(t.mode,r):null;if(++t.frontier,+new Date>n)return jn(e,e.options.workDelay),!0}),i.length&&yt(e,function(){for(var o=0;o<i.length;o++)Wt(e,i[o],"text")})}}function Un(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=function(s,c,f){for(var w,h,m=s.doc,b=f?-1:c-(s.doc.mode.innerMode?1e3:100),A=c;A>b;--A){if(A<=m.first)return m.first;var R=be(m,A-1);if(R.stateAfter&&(!f||A<=m.frontier))return A;var H=St(R.text,null,s.options.tabSize);(null==h||w>H)&&(h=A-1,w=H)}return h}(e,t,n),a=o>r.first&&be(r,o-1).stateAfter;return a=a?Ut(r.mode,a):Ba(r.mode),r.iter(o,t,function(s){wi(e,s.text,a),s.stateAfter=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo?Ut(r.mode,a):null,++o}),n&&(r.frontier=o),a}function xr(e){return e.lineSpace.offsetTop}function ni(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Qi(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=bt(e.measure,ve("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Et(e){return ca-e.display.nativeBarWidth}function Kt(e){return e.display.scroller.clientWidth-Et(e)-e.display.barWidth}function ri(e){return e.display.scroller.clientHeight-Et(e)-e.display.barHeight}function eo(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(r=0;r<e.rest.length;r++)if(qe(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function to(e,t,n,r){return no(e,oi(e,t),n,r)}function ii(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Qt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function oi(e,t){var n=qe(t),r=ii(e,n);r&&!r.text?r=null:r&&r.changes&&(Ae(e,r,n,ke(e)),e.curOp.forceUpdate=!0),r||(r=function(o,a){var s=qe(a=Ot(a)),c=o.display.externalMeasured=new uo(o.doc,a,s);c.lineN=s;var f=c.built=Ko(o,c);return c.text=f.pre,bt(o.display.lineMeasure,f.pre),c}(e,t));var i=eo(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function no(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(s,c,f){var w=s.options.lineWrapping,h=w&&Kt(s);if(!c.measure.heights||w&&c.measure.width!=h){var m=c.measure.heights=[];if(w){c.measure.width=h;for(var b=c.text.firstChild.getClientRects(),A=0;A<b.length-1;A++){var R=b[A],H=b[A+1];Math.abs(R.bottom-H.bottom)>2&&m.push((R.bottom+H.top)/2-f.top)}}m.push(f.bottom-f.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(s,c,f,w){var h,m=ro(c.map,f,w),b=m.node,A=m.start,R=m.end,H=m.collapse;if(3==b.nodeType){for(var V=0;V<4;V++){for(;A&&cr(c.line.text.charAt(m.coverStart+A));)--A;for(;m.coverStart+R<m.coverEnd&&cr(c.line.text.charAt(m.coverStart+R));)++R;if(v&&d<9&&0==A&&R==m.coverEnd-m.coverStart)h=b.parentNode.getBoundingClientRect();else if(v&&s.options.lineWrapping){var X=cn(b,A,R).getClientRects();h=X.length?X["right"==w?X.length-1:0]:ai}else h=cn(b,A,R).getBoundingClientRect()||ai;if(h.left||h.right||0==A)break;R=A,A-=1,H="right"}v&&d<11&&(h=function(ot,$e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(ht){if(null!=Pi)return Pi;var Re=bt(ht,ve("span","x")),tt=Re.getBoundingClientRect(),Gt=cn(Re,0,1).getBoundingClientRect();return Pi=Math.abs(tt.left-Gt.left)>1}(ot))return $e;var Ge=screen.logicalXDPI/screen.deviceXDPI,Je=screen.logicalYDPI/screen.deviceYDPI;return{left:$e.left*Ge,right:$e.right*Ge,top:$e.top*Je,bottom:$e.bottom*Je}}(s.display.measure,h))}else A>0&&(H=w="right"),h=s.options.lineWrapping&&(X=b.getClientRects()).length>1?X["right"==w?X.length-1:0]:b.getBoundingClientRect();if(v&&d<9&&!A&&(!h||!h.left&&!h.right)){var K=b.parentNode.getClientRects()[0];h=K?{left:K.left,right:K.left+Gn(s.display),top:K.top,bottom:K.bottom}:ai}var ae=h.top-c.rect.top,te=h.bottom-c.rect.top,ce=(ae+te)/2,Te=c.view.measure.heights;for(V=0;V<Te.length-1&&!(ce<Te[V]);V++);var Ze={left:("right"==H?h.right:h.left)-c.rect.left,right:("left"==H?h.left:h.right)-c.rect.left,top:V?Te[V-1]:0,bottom:Te[V]};return h.left||h.right||(Ze.bogus=!0),s.options.singleCursorHeightPerLine||(Ze.rtop=ae,Ze.rbottom=te),Ze}(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}mn.prototype=Lt({init:function(e){var t=this,n=this.cm,r=this.wrapper=gn(),i=this.textarea=r.firstChild;function o(a){if(!it(n,a)){if(n.somethingSelected())Ke={lineWise:!1,text:n.getSelections()},t.inaccurateSelection&&(t.prevInput="",t.inaccurateSelection=!1,i.value=Ke.text.join("\n"),On(i));else{if(!n.options.lineWiseCopyCut)return;var s=Vt(n);Ke={lineWise:!0,text:s.text},"cut"==a.type?n.setSelections(s.ranges,null,zt):(t.prevInput="",i.value=s.text.join("\n"),On(i))}"cut"==a.type&&(n.state.cutIncoming=!0)}}e.wrapper.insertBefore(r,e.wrapper.firstChild),G&&(i.style.width="0px"),Le(i,"input",function(){v&&d>=9&&t.hasSelection&&(t.hasSelection=null),t.poll()}),Le(i,"paste",function(a){it(n,a)||kt(a,n)||(n.state.pasteIncoming=!0,t.fastPoll())}),Le(i,"cut",o),Le(i,"copy",o),Le(e.scroller,"paste",function(a){Bt(e,a)||it(n,a)||(n.state.pasteIncoming=!0,t.focus())}),Le(e.lineSpace,"selectstart",function(a){Bt(e,a)||ut(a)}),Le(i,"compositionstart",function(){var a=n.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:a,range:n.markText(a,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Le(i,"compositionend",function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Zi(e);if(e.options.moveInputWithCursor){var i=Ht(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(e){var t=this.cm.display;bt(t.cursorDiv,e.cursors),bt(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary(),a=(t=va&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3))?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&On(this.textarea),v&&d>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",v&&d>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!F||Pt()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))})},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||ss(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(v&&d>=9&&this.hasSelection===r||D&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="\u200b"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);o<a&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var s=this;return yt(e,function(){At(e,r.slice(o),n.length-o,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){v&&d>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){var t=this,n=t.cm,r=n.display,i=t.textarea,o=en(n,e),a=r.scroller.scrollTop;if(o&&!N){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&et(n,at)(n.doc,Dt(o),zt);var s=i.style.cssText,c=t.wrapper.style.cssText;t.wrapper.style.cssText="position: absolute";var f=t.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px; z-index: 1000; background: "+(v?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",j)var w=window.scrollY;if(r.input.focus(),j&&window.scrollTo(null,w),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=!0,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),v&&d>=9&&m(),xe){Ur(e);var h=function(){Rt(window,"mouseup",h),setTimeout(b,20)};Le(window,"mouseup",h)}else setTimeout(b,50)}function m(){if(null!=i.selectionStart){var A=n.somethingSelected(),R="\u200b"+(A?i.value:"");i.value="\u21da",i.value=R,t.prevInput=A?"":"\u200b",i.selectionStart=1,i.selectionEnd=R.length,r.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending=!1,t.wrapper.style.cssText=c,i.style.cssText=s,v&&d<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=a),null!=i.selectionStart){(!v||v&&d<9)&&m();var A=0,R=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?et(n,Ir.selectAll)(n):A++<10?r.detectingSelectAll=setTimeout(R,500):r.input.reset()};r.detectingSelectAll=setTimeout(R,200)}}},readOnlyChanged:function(e){e||this.reset()},setUneditable:sr,needsContentAttribute:!1},mn.prototype),Bn.prototype=Lt({init:function(e){var t=this,n=t.cm,r=t.div=e.lineDiv;function i(o){if(!it(n,o)){if(n.somethingSelected())Ke={lineWise:!1,text:n.getSelections()},"cut"==o.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var a=Vt(n);Ke={lineWise:!0,text:a.text},"cut"==o.type&&n.operation(function(){n.setSelections(a.ranges,0,zt),n.replaceSelection("",null,"cut")})}if(o.clipboardData&&!G)o.preventDefault(),o.clipboardData.clearData(),o.clipboardData.setData("text/plain",Ke.text.join("\n"));else{var s=gn(),c=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),c.value=Ke.text.join("\n");var f=document.activeElement;On(c),setTimeout(function(){n.display.lineSpace.removeChild(s),f.focus()},50)}}}Wn(r),Le(r,"paste",function(o){it(n,o)||kt(o,n)}),Le(r,"compositionstart",function(o){var a=o.data;if(t.composing={sel:n.doc.sel,data:a,startData:a},a){var s=n.doc.sel.primary(),c=n.getLine(s.head.line).indexOf(a,Math.max(0,s.head.ch-a.length));c>-1&&c<=s.head.ch&&(t.composing.sel=Dt(ee(s.head.line,c),ee(s.head.line,c+a.length)))}}),Le(r,"compositionupdate",function(o){t.composing.data=o.data}),Le(r,"compositionend",function(o){var a=t.composing;a&&(o.data==a.startData||/\u200b/.test(o.data)||(a.data=o.data),setTimeout(function(){a.handled||t.applyComposition(a),t.composing==a&&(t.composing=null)},50))}),Le(r,"touchstart",function(){t.forceCompositionEnd()}),Le(r,"input",function(){t.composing||!n.isReadOnly()&&t.pollContent()||yt(t.cm,function(){ft(n)})}),Le(r,"copy",i),Le(r,"cut",i)},prepareSelection:function(){var e=Zi(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=Ft(this.cm,e.anchorNode,e.anchorOffset),r=Ft(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=ge(pn(n,r),t.from())||0!=ge(fn(n,r),t.to())){var i=gr(this.cm,t.from()),o=gr(this.cm,t.to());if(i||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var c=a[a.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;o={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var w=cn(i.node,i.offset,o.offset,o.node)}catch(h){}w&&(!oe&&this.cm.state.focused?(e.collapse(i.node,i.offset),w.collapsed||e.addRange(w)):(e.removeAllRanges(),e.addRange(w)),s&&null==e.anchorNode?e.addRange(s):oe&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){bt(this.cm.display.cursorDiv,e.cursors),bt(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ai(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var e=this;this.selectionInEditor()?this.pollSelection():yt(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=Ft(t,e.anchorNode,e.anchorOffset),r=Ft(t,e.focusNode,e.focusOffset);n&&r&&yt(t,function(){at(t.doc,Dt(n,r),zt),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e,t=this.cm,n=t.display,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(i.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(i.line==n.viewFrom||0==(e=Qt(t,i.line)))var a=qe(n.view[0].line),s=n.view[0].node;else a=qe(n.view[e].line),s=n.view[e-1].node.nextSibling;var c=Qt(t,o.line);if(c==n.view.length-1)var f=n.viewTo-1,w=n.lineDiv.lastChild;else f=qe(n.view[c+1].line)-1,w=n.view[c+1].node.previousSibling;for(var h=t.doc.splitLines(function(Te,De,Fe,Ze,ot){var $e="",Ge=!1,Je=Te.doc.lineSeparator();function ht(Re){if(1==Re.nodeType){var tt=Re.getAttribute("cm-text");if(null!=tt)return""==tt&&(tt=Re.textContent.replace(/\u200b/g,"")),void($e+=tt);var Gt,Yt=Re.getAttribute("cm-marker");if(Yt){var pr=Te.findMarks(ee(Ze,0),ee(ot+1,0),(Tt=+Yt,function(Rn){return Rn.id==Tt}));return void(pr.length&&(Gt=pr[0].find())&&($e+=an(Te.doc,Gt.from,Gt.to).join(Je)))}if("false"==Re.getAttribute("contenteditable"))return;for(var In=0;In<Re.childNodes.length;In++)ht(Re.childNodes[In]);/^(pre|div|p)$/i.test(Re.nodeName)&&(Ge=!0)}else if(3==Re.nodeType){var gt=Re.nodeValue;if(!gt)return;Ge&&($e+=Je,Ge=!1),$e+=gt}var Tt}for(;ht(De),De!=Fe;)De=De.nextSibling;return $e}(t,s,w,a,f)),m=an(t.doc,ee(a,0),ee(f,be(t.doc,f).text.length));h.length>1&&m.length>1;)if(_e(h)==_e(m))h.pop(),m.pop(),f--;else{if(h[0]!=m[0])break;h.shift(),m.shift(),a++}for(var b=0,A=0,R=h[0],H=m[0],V=Math.min(R.length,H.length);b<V&&R.charCodeAt(b)==H.charCodeAt(b);)++b;for(var X=_e(h),K=_e(m),ae=Math.min(X.length-(1==h.length?b:0),K.length-(1==m.length?b:0));A<ae&&X.charCodeAt(X.length-A-1)==K.charCodeAt(K.length-A-1);)++A;h[h.length-1]=X.slice(0,X.length-A),h[0]=h[0].slice(b);var te=ee(a,b),ce=ee(f,m.length?_e(m).length-A:0);return h.length>1||h[0]||ge(te,ce)?(Cn(t.doc,h,te,ce,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?et(this.cm,ft)(this.cm):e.data&&e.data!=e.startData&&et(this.cm,At)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||et(this.cm,At)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:sr,resetPosition:sr,needsContentAttribute:!0},Bn.prototype),$.inputStyles={textarea:mn,contenteditable:Bn},dt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=ge(n.anchor,r.anchor)||0!=ge(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Be($t(this.ranges[t].anchor),$t(this.ranges[t].head));return new dt(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ge(t,r.from())>=0&&ge(e,r.to())<=0)return n}return-1}},Be.prototype={from:function(){return pn(this.anchor,this.head)},to:function(){return fn(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Zt,ai={left:0,right:0,top:0,bottom:0};function ro(e,t,n){for(var r,i,o,a,s=0;s<e.length;s+=3){var c=e[s],f=e[s+1];if(t<c?(i=0,o=1,a="left"):t<f?o=1+(i=t-c):(s==e.length-3||t==f&&e[s+3]>t)&&(i=(o=f-c)-1,t>=f&&(a="right")),null!=i){if(r=e[s+2],c==f&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[2+(s-=3)],a="left";if("right"==n&&i==f-c)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:c,coverEnd:f}}function io(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function oo(e){e.display.externalMeasure=null,un(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)io(e.display.view[t])}function qn(e){oo(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ao(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function so(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function si(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=tr(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=_t(t);if("local"==r?a+=xr(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:so());var c=s.left+("window"==r?0:ao());n.left+=c,n.right+=c}return n.top+=a,n.bottom+=a,n}function lo(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=ao(),i-=so();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function li(e,t,n,r,i){return r||(r=be(e.doc,t.line)),si(e,r,to(e,r,t.ch,i),n)}function Ht(e,t,n,r,i,o){function a(h,m){var b=no(e,i,h,m?"right":"left",o);return m?b.left=b.right:b.right=b.left,si(e,r,b,n)}function s(h,m){var b=c[m],A=b.level%2;return h==Di(b)&&m&&b.level<c[m-1].level?(h=Hi(b=c[--m])-(b.level%2?0:1),A=!0):h==Hi(b)&&m<c.length-1&&b.level<c[m+1].level&&(h=Di(b=c[++m])-b.level%2,A=!1),A&&h==b.to&&h>b.from?a(h-1):a(h,A)}r=r||be(e.doc,t.line),i||(i=oi(e,r));var c=Ct(r),f=t.ch;if(!c)return a(f);var w=s(f,Kr(c,f));return null!=fr&&(w.other=s(f,fr)),w}function co(e,t){var n=0;t=Ne(e.doc,t),e.options.lineWrapping||(n=Gn(e.display)*t.ch);var r=be(e.doc,t.line),i=_t(r)+xr(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function br(e,t,n,r){var i=ee(e,t);return i.xRel=r,n&&(i.outside=!0),i}function ci(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return br(r.first,0,!0,-1);var i=sn(r,n),o=r.first+r.size-1;if(i>o)return br(r.first+r.size-1,be(r,o).text.length,!0,1);t<0&&(t=0);for(var a=be(r,i);;){var s=Ma(e,a,i,t,n),c=er(a),f=c&&c.find(0,!0);if(!c||!(s.ch>f.from.ch||s.ch==f.from.ch&&s.xRel>0))return s;i=qe(a=f.to.line)}}function Ma(e,t,n,r,i){var o=i-_t(t),a=!1,s=2*e.display.wrapper.clientWidth,c=oi(e,t);function f(De){var Fe=Ht(e,ee(n,De),"line",t,c);return a=!0,o>Fe.bottom?Fe.left-s:o<Fe.top?Fe.left+s:(a=!1,Fe.left)}var w=Ct(t),h=t.text.length,m=Vr(t),b=Xr(t),A=f(m),R=a,H=f(b),V=a;if(r>H)return br(n,b,V,1);for(;;){if(w?b==m||b==Bi(t,m,1):b-m<=1){for(var X=r<A||r-A<=H-r?m:b,K=r-(X==m?A:H);cr(t.text.charAt(X));)++X;return br(n,X,X==m?R:V,K<-1?-1:K>1?1:0)}var ae=Math.ceil(h/2),te=m+ae;if(w){te=m;for(var ce=0;ce<ae;++ce)te=Bi(t,te,1)}var Te=f(te);Te>r?(b=te,H=Te,(V=a)&&(H+=1e3),h=ae):(m=te,A=Te,R=a,h-=ae)}}function Jt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Zt){Zt=ve("pre");for(var t=0;t<49;++t)Zt.appendChild(document.createTextNode("x")),Zt.appendChild(ve("br"));Zt.appendChild(document.createTextNode("x"))}bt(e.measure,Zt);var n=Zt.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),un(e.measure),n||1}function Gn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=ve("span","xxxxxxxxxx"),n=ve("pre",[t]);bt(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}var wr,kr,yn=null,Na=0;function xn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Na},yn?yn.ops.push(e.curOp):e.curOp.ownsGroup=yn={ops:[e.curOp],delayedCallbacks:[]}}function bn(e){var t=e.curOp.ownsGroup;if(t)try{!function(r){var i=r.delayedCallbacks,o=0;do{for(;o<i.length;o++)i[o].call(null);for(var a=0;a<r.ops.length;a++){var s=r.ops[a];if(s.cursorActivityHandlers)for(;s.cursorActivityCalled<s.cursorActivityHandlers.length;)s.cursorActivityHandlers[s.cursorActivityCalled++].call(null,s.cm)}}while(o<i.length)}(t)}finally{yn=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(r){for(var i=r.ops,o=0;o<i.length;o++)Aa(i[o]);for(o=0;o<i.length;o++)(a=i[o]).updatedDisplay=a.mustUpdate&&Y(a.cm,a.update);var a;for(o=0;o<i.length;o++)Ea(i[o]);for(o=0;o<i.length;o++)Oa(i[o]);for(o=0;o<i.length;o++)Ia(i[o])}(t)}}function Aa(e){var t,n,r=e.cm,i=r.display;!(n=(t=r).display).scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Et(t)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Et(t)+"px",n.scrollbarsClipped=!0),e.updateMaxLine&&y(r),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&r.options.lineWrapping,e.update=e.mustUpdate&&new P(r,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ea(e){var t=e.cm,n=t.display;e.updatedDisplay&&ie(t),e.barMeasure=l(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=to(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Et(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Kt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function Oa(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&wn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==Pt()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&C(t,e.barMeasure),e.updatedDisplay&&q(t,e.barMeasure),e.selectionChanged&&ti(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Nt(e.cm)}function Ia(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&z(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,Oe(t)),e.scrollToPos){var i=function(c,f,w,h){null==h&&(h=0);for(var m=0;m<5;m++){var b=!1,A=Ht(c,f),R=w&&w!=f?Ht(c,w):A,H=Ar(c,Math.min(A.left,R.left),Math.min(A.top,R.top)-h,Math.max(A.left,R.left),Math.max(A.bottom,R.bottom)+h),V=c.doc.scrollTop,X=c.doc.scrollLeft;if(null!=H.scrollTop&&(Yn(c,H.scrollTop),Math.abs(c.doc.scrollTop-V)>1&&(b=!0)),null!=H.scrollLeft&&(wn(c,H.scrollLeft),Math.abs(c.doc.scrollLeft-X)>1&&(b=!0)),!b)break}return A}(t,Ne(r,e.scrollToPos.from),Ne(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function(c,f){if(!it(c,"scrollCursorIntoView")){var w=c.display,h=w.sizer.getBoundingClientRect(),m=null;if(f.top+h.top<0?m=!0:f.bottom+h.top>(window.innerHeight||document.documentElement.clientHeight)&&(m=!1),null!=m&&!I){var b=ve("div","\u200b",null,"position: absolute; top: "+(f.top-w.viewOffset-xr(c.display))+"px; height: "+(f.bottom-f.top+Et(c)+w.barHeight)+"px; left: "+f.left+"px; width: 2px;");c.display.lineSpace.appendChild(b),b.scrollIntoView(m),c.display.lineSpace.removeChild(b)}}}(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||rt(o[s],"hide");if(a)for(s=0;s<a.length;++s)a[s].lines.length&&rt(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&rt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function yt(e,t){if(e.curOp)return t();xn(e);try{return t()}finally{bn(e)}}function et(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xn(e);try{return t.apply(e,arguments)}finally{bn(e)}}}function st(e){return function(){if(this.curOp)return e.apply(this,arguments);xn(this);try{return e.apply(this,arguments)}finally{bn(this)}}}function ct(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xn(t);try{return e.apply(this,arguments)}finally{bn(t)}}}function uo(e,t,n){this.line=t,this.rest=function(r){for(var i,o;i=er(r);)r=i.find(1,!0).line,(o||(o=[])).push(r);return o}(t),this.size=this.rest?qe(_e(this.rest))-n+1:1,this.node=this.text=null,this.hidden=rn(e,t)}function Cr(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new uo(e.doc,be(e.doc,o),o);r=o+a.size,i.push(a)}return i}function ft(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)se&&yi(e.doc,t)<i.viewTo&&jt(e);else if(n<=i.viewFrom)se&&Fo(e.doc,n+r)>i.viewFrom?jt(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)jt(e);else if(t<=i.viewFrom)(o=Sr(e,n,n+r,1))?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):jt(e);else if(n>=i.viewTo){var o;(o=Sr(e,t,t,-1))?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):jt(e)}else{var a=Sr(e,t,t,-1),s=Sr(e,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(Cr(e,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):jt(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Wt(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Qt(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==lt(a,n)&&a.push(n)}}}function jt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Qt(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Sr(e,t,n,r){var i,o=Qt(e,t),a=e.display.view;if(!se||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,c=e.display.viewFrom;s<o;s++)c+=a[s].size;if(c!=t){if(r>0){if(o==a.length-1)return null;i=c+a[o].size-t,o++}else i=c-t;t+=i,n+=i}for(;yi(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function ho(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Ra(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Bt(e,t){for(var n=Ti(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function en(e,t,n,r){var i=e.display;if(!n&&"true"==Ti(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(h){return null}var c,f=ci(e,o,a);if(r&&1==f.xRel&&(c=be(e.doc,f.line).text).length==f.ch){var w=St(c,c.length,e.options.tabSize)-c.length;f=ee(f.line,Math.max(0,Math.round((o-Qi(e.display).left)/Gn(e.display))-w))}return f}function Pa(e){var t=this,n=t.display;if(!(it(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.shift=e.shiftKey,Bt(n,e))j||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100));else if(!po(t,e)){var r,i=en(t,e);switch(window.focus(),aa(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?function(o,a,s){v?setTimeout(lr(Nt,o),0):o.curOp.focus=Pt();var c,f=+new Date;kr&&kr.time>f-400&&0==ge(kr.pos,s)?c="triple":wr&&wr.time>f-400&&0==ge(wr.pos,s)?(c="double",kr={time:f,pos:s}):(c="single",wr={time:f,pos:s});var w,b,A,R,H,V,X,K,h=o.doc.sel,m=D?a.metaKey:a.ctrlKey;o.options.dragDrop&&rs&&!o.isReadOnly()&&"single"==c&&(w=h.contains(s))>-1&&(ge((w=h.ranges[w]).from(),s)<0||s.xRel>0)&&(ge(w.to(),s)>0||s.xRel<0)?(A=a,R=s,H=m,V=(b=o).display,X=+new Date,K=et(b,function(ae){j&&(V.scroller.draggable=!1),b.state.draggingText=!1,Rt(document,"mouseup",K),Rt(V.scroller,"drop",K),Math.abs(A.clientX-ae.clientX)+Math.abs(A.clientY-ae.clientY)<10&&(ut(ae),!H&&+new Date-200<X&&vr(b.doc,R),j||v&&9==d?setTimeout(function(){document.body.focus(),V.input.focus()},20):V.input.focus())}),j&&(V.scroller.draggable=!0),b.state.draggingText=K,V.scroller.dragDrop&&V.scroller.dragDrop(),Le(document,"mouseup",K),Le(V.scroller,"drop",K)):function(b,A,R,H,V){var X=b.display,K=b.doc;ut(A);var ae,te,ce=K.sel,Te=ce.ranges;if(V&&!A.shiftKey?(te=K.sel.contains(R),ae=te>-1?Te[te]:new Be(R,R)):(ae=K.sel.primary(),te=K.sel.primIndex),M?A.shiftKey&&A.metaKey:A.altKey)H="rect",V||(ae=new Be(R,R)),R=en(b,A,!0,!0),te=-1;else if("double"==H){var De=b.findWordAt(R);ae=b.display.shift||K.extend?zn(K,ae,De.anchor,De.head):De}else if("triple"==H){var Fe=new Be(ee(R.line,0),Ne(K,ee(R.line+1,0)));ae=b.display.shift||K.extend?zn(K,ae,Fe.anchor,Fe.head):Fe}else ae=zn(K,ae,R);V?-1==te?(te=Te.length,at(K,vt(Te.concat([ae]),te),{scroll:!1,origin:"*mouse"})):Te.length>1&&Te[te].empty()&&"single"==H&&!A.shiftKey?(at(K,vt(Te.slice(0,te).concat(Te.slice(te+1)),0),{scroll:!1,origin:"*mouse"}),ce=K.sel):Qr(K,te,ae,Mi):(te=0,at(K,new dt([ae],0),Mi),ce=K.sel);var Ze=R,ot=X.wrapper.getBoundingClientRect(),$e=0;function Ge(tt){var Gt=++$e,Yt=en(b,tt,!0,"rect"==H);if(Yt)if(0!=ge(Yt,Ze)){b.curOp.focus=Pt(),function(gt){if(0!=ge(Ze,gt))if(Ze=gt,"rect"==H){for(var Tt=[],Rn=b.options.tabSize,wa=St(be(K,R.line).text,R.ch,Rn),ka=St(be(K,gt.line).text,gt.ch,Rn),Ca=Math.min(wa,ka),Sa=Math.max(wa,ka),dn=Math.min(R.line,gt.line),cs=Math.min(b.lastLine(),Math.max(R.line,gt.line));dn<=cs;dn++){var _i=be(K,dn).text,Zr=ha(_i,Ca,Rn);Ca==Sa?Tt.push(new Be(ee(dn,Zr),ee(dn,Zr))):_i.length>Zr&&Tt.push(new Be(ee(dn,Zr),ee(dn,ha(_i,Sa,Rn))))}Tt.length||Tt.push(new Be(R,R)),at(K,vt(ce.ranges.slice(0,te).concat(Tt),te),{origin:"*mouse",scroll:!1}),b.scrollIntoView(gt)}else{var zi=ae,Jr=zi.anchor,Fi=gt;if("single"!=H){if("double"==H)var Pn=b.findWordAt(gt);else Pn=new Be(ee(gt.line,0),Ne(K,ee(gt.line+1,0)));ge(Pn.anchor,Jr)>0?(Fi=Pn.head,Jr=pn(zi.from(),Pn.anchor)):(Fi=Pn.anchor,Jr=fn(zi.to(),Pn.head))}(Tt=ce.ranges.slice(0))[te]=new Be(Ne(K,Jr),Fi),at(K,vt(Tt,te),Mi)}}(Yt);var pr=he(X,K);(Yt.line>=pr.to||Yt.line<pr.from)&&setTimeout(et(b,function(){$e==Gt&&Ge(tt)}),150)}else{var In=tt.clientY<ot.top?-20:tt.clientY>ot.bottom?20:0;In&&setTimeout(et(b,function(){$e==Gt&&(X.scroller.scrollTop+=In,Ge(tt))}),50)}}function Je(tt){b.state.selectingText=!1,$e=1/0,ut(tt),X.input.focus(),Rt(document,"mousemove",ht),Rt(document,"mouseup",Re),K.history.lastSelOrigin=null}var ht=et(b,function(tt){aa(tt)?Ge(tt):Je(tt)}),Re=et(b,Je);b.state.selectingText=Re,Le(document,"mousemove",ht),Le(document,"mouseup",Re)}(o,a,s,c,m)}(t,e,i):Ti(e)==n.scroller&&ut(e);break;case 2:j&&(t.state.lastMiddleDown=+new Date),i&&vr(t.doc,i),setTimeout(function(){n.input.focus()},20),ut(e);break;case 3:xe?Co(t,e):((r=t).state.delayingBlurEvent=!0,setTimeout(function(){r.state.delayingBlurEvent&&(r.state.delayingBlurEvent=!1,$n(r))},100))}}}function fo(e,t,n,r){try{var i=t.clientX,o=t.clientY}catch(m){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ut(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!wt(e,n))return Li(t);o-=s.top-a.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var f=a.gutters.childNodes[c];if(f&&f.getBoundingClientRect().right>=i){var w=sn(e.doc,o);return rt(e,n,e,w,e.options.gutters[c],t),Li(t)}}}function po(e,t){return fo(e,t,"gutterClick",!0)}var mo=0;function Da(e){var t=this;if(go(t),!it(t,e)&&!Bt(t.display,e)){ut(e),v&&(mo=+new Date);var n=en(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(w,h){if(!t.options.allowDropFileTypes||-1!=lt(t.options.allowDropFileTypes,w.type)){var m=new FileReader;m.onload=et(t,function(){var b=m.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(b)&&(b=""),o[h]=b,++a==i){var A={from:n=Ne(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};kn(t.doc,A),Yi(t.doc,Dt(n,tn(A)))}}),m.readAsText(w)}},c=0;c<i;++c)s(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{if(o=e.dataTransfer.getData("Text")){if(t.state.draggingText&&!(D?e.altKey:e.ctrlKey))var f=t.listSelections();if(yr(t.doc,Dt(n,n)),f)for(c=0;c<f.length;++c)Cn(t.doc,"",f[c].anchor,f[c].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(w){}}}}function go(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Yn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,oe||J(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),oe&&J(e),jn(e,100))}function wn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,Oe(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}var Lr=0,xt=null;v?xt=-.53:oe?xt=15:T?xt=-.7:U&&(xt=-1/3);var vo=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};function yo(e,t){var n=vo(t),r=n.x,i=n.y,o=e.display,a=o.scroller,c=a.scrollHeight>a.clientHeight;if(r&&a.scrollWidth>a.clientWidth||i&&c){if(i&&D&&j)e:for(var f=t.target,w=o.view;f!=a;f=f.parentNode)for(var h=0;h<w.length;h++)if(w[h].node==f){e.display.currentWheelTarget=f;break e}if(r&&!oe&&!N&&null!=xt)return i&&c&&Yn(e,Math.max(0,Math.min(a.scrollTop+i*xt,a.scrollHeight-a.clientHeight))),wn(e,Math.max(0,Math.min(a.scrollLeft+r*xt,a.scrollWidth-a.clientWidth))),(!i||i&&c)&&ut(t),void(o.wheelStartX=null);if(i&&null!=xt){var m=i*xt,b=e.doc.scrollTop,A=b+o.wrapper.clientHeight;m<0?b=Math.max(0,b+m-50):A=Math.min(e.doc.height,A+m+50),J(e,{top:b,bottom:A})}Lr<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var R=a.scrollLeft-o.wheelStartX,H=a.scrollTop-o.wheelStartY,V=H&&o.wheelDY&&H/o.wheelDY||R&&o.wheelDX&&R/o.wheelDX;o.wheelStartX=o.wheelStartY=null,V&&(xt=(xt*Lr+V)/(Lr+1),++Lr)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Tr(e,t,n){if("string"==typeof t&&!(t=Ir[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=ua}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}$.wheelEventPixels=function(e){var t=vo(e);return t.x*=xt,t.y*=xt,t};var Ha=new ln;function Mr(e,t,n,r){var i=e.state.keySeq;if(i){if(za(t))return"handled";Ha.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=function(a,s,c){for(var f=0;f<a.state.keyMaps.length;f++){var w=Jn(s,a.state.keyMaps[f],c,a);if(w)return w}return a.options.extraKeys&&Jn(s,a.options.extraKeys,c,a)||Jn(s,a.options.keyMap,c,a)}(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&mt(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(ut(n),ti(e)),i&&!o&&/\'$/.test(t)?(ut(n),!0):!!o}function xo(e,t){var n=Fa(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?Mr(e,"Shift-"+n,t,function(r){return Tr(e,r,!0)})||Mr(e,n,t,function(r){if("string"==typeof r?/^go[A-Z]/.test(r):r.motion)return Tr(e,r)}):Mr(e,n,t,function(r){return Tr(e,r)}))}var ui=null;function bo(e){var t=this;if(t.curOp.focus=Pt(),!it(t,e)){v&&d<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=xo(t,e);N&&(ui=r?n:null,!r&&88==n&&!va&&(D?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(i){var o=i.display.lineDiv;function a(s){18!=s.keyCode&&s.altKey||(hr(o,"CodeMirror-crosshair"),Rt(document,"keyup",a),Rt(document,"mouseover",a))}dr(o,"CodeMirror-crosshair"),Le(document,"keyup",a),Le(document,"mouseover",a)}(t)}}function wo(e){16==e.keyCode&&(this.doc.sel.shift=!1),it(this,e)}function ko(e){var t=this;if(!(Bt(t.display,e)||it(t,e)||e.ctrlKey&&!e.altKey||D&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(N&&n==ui)return ui=null,void ut(e);if(!N||e.which&&!(e.which<10)||!xo(t,e)){var i,o=String.fromCharCode(null==r?n:r);Mr(i=t,"'"+o+"'",e,function(a){return Tr(i,a,!0)})||t.display.input.onKeyPress(e)}}}function hi(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(rt(e,"focus",e),e.state.focused=!0,dr(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),j&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),ti(e))}function $n(e){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e),e.state.focused=!1,hr(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Co(e,t){var n,r;Bt(e.display,t)||(r=t,wt(n=e,"gutterContextMenu")&&fo(n,r,"gutterContextMenu",!1))||it(e,t,"contextmenu")||e.display.input.onContextMenu(t)}var tn=$.changeEnd=function(e){return e.text?ee(e.from.line+e.text.length-1,_e(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};function So(e,t){if(ge(e,t.from)<0)return e;if(ge(e,t.to)<=0)return tn(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=tn(t).ch-t.to.ch),ee(n,r)}function di(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Be(So(i.anchor,t),So(i.head,t)))}return vt(n,e.sel.primIndex)}function Lo(e,t,n){return e.line==t.line?ee(n.line,e.ch-t.ch+n.ch):ee(n.line+(e.line-t.line),e.ch)}function To(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(i,o,a,s){i&&(this.from=Ne(e,i)),o&&(this.to=Ne(e,o)),a&&(this.text=a),void 0!==s&&(this.origin=s)}),rt(e,"beforeChange",e,r),e.cm&&rt(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function kn(e,t,n){if(e.cm){if(!e.cm.curOp)return et(e.cm,kn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(wt(e,"beforeChange")||e.cm&&wt(e.cm,"beforeChange"))||(t=To(e,t,!0))){var r=le&&!n&&function(o,a,s){var c=null;if(o.iter(a.line,s.line+1,function(X){if(X.markedSpans)for(var K=0;K<X.markedSpans.length;++K){var ae=X.markedSpans[K].marker;!ae.readOnly||c&&-1!=lt(c,ae)||(c||(c=[])).push(ae)}}),!c)return null;for(var f=[{from:a,to:s}],w=0;w<c.length;++w)for(var h=c[w],m=h.find(0),b=0;b<f.length;++b){var A=f[b];if(!(ge(A.to,m.from)<0||ge(A.from,m.to)>0)){var R=[b,1],H=ge(A.from,m.from),V=ge(A.to,m.to);(H<0||!h.inclusiveLeft&&!H)&&R.push({from:A.from,to:m.from}),(V>0||!h.inclusiveRight&&!V)&&R.push({from:m.to,to:A.to}),f.splice.apply(f,R),b+=R.length-1}}return f}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Mo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Mo(e,t)}}function Mo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ge(t.from,t.to)){var n=di(e,t);ta(e,t,n,e.cm?e.cm.curOp.id:NaN),Vn(e,t,n,vi(e,t));var r=[];on(e,function(i,o){o||-1!=lt(r,i.history)||(oa(i.history,t),r.push(i.history)),Vn(i,t,null,vi(i,t))})}}function Nr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,c=0;c<a.length&&(r=a[c],n?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;(r=a.pop()).ranges;){if(jr(r,s),n&&!r.equals(e.sel))return void at(e,r,{clearRedo:!1});o=r}var f=[];jr(o,s),s.push({changes:f,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;var w=wt(e,"beforeChange")||e.cm&&wt(e.cm,"beforeChange");for(c=r.changes.length-1;c>=0;--c){var h=r.changes[c];if(h.origin=t,w&&!To(e,h,!1))return void(a.length=0);f.push(Si(e,h));var m=c?di(e,h):_e(a);Vn(e,h,m,Po(e,h)),!c&&e.cm&&e.cm.scrollIntoView({from:h.from,to:tn(h)});var b=[];on(e,function(A,R){R||-1!=lt(b,A.history)||(oa(A.history,h),b.push(A.history)),Vn(A,h,null,Po(A,h))})}}}}function No(e,t){if(0!=t&&(e.first+=t,e.sel=new dt(Yr(e.sel.ranges,function(i){return new Be(ee(i.anchor.line+t,i.anchor.ch),ee(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){ft(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Wt(e.cm,r,"gutter")}}function Vn(e,t,n,r){if(e.cm&&!e.cm.curOp)return et(e.cm,Vn)(e,t,n,r);if(t.to.line<e.first)No(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);No(e,i),t={from:ee(e.first,0),to:ee(t.to.line+i,t.to.ch),text:[_e(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ee(o,be(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=an(e,t.from,t.to),n||(n=di(e,t)),e.cm?function(a,s,c){var f=a.doc,w=a.display,h=s.from,m=s.to,b=!1,A=h.line;a.options.lineWrapping||(A=qe(Ot(be(f,h.line))),f.iter(A,m.line+1,function(K){if(K==w.maxLine)return b=!0,!0})),f.sel.contains(s.from,s.to)>-1&&la(a),ki(f,s,c,fe(a)),a.options.lineWrapping||(f.iter(A,h.line+s.text.length,function(K){var ae=L(K);ae>w.maxLineLength&&(w.maxLine=K,w.maxLineLength=ae,w.maxLineChanged=!0,b=!1)}),b&&(a.curOp.updateMaxLine=!0)),f.frontier=Math.min(f.frontier,h.line),jn(a,400);var R=s.text.length-(m.line-h.line)-1;s.full?ft(a):h.line!=m.line||1!=s.text.length||Jo(a.doc,s)?ft(a,h.line,m.line+1,R):Wt(a,h.line,"text");var H=wt(a,"changes"),V=wt(a,"change");if(V||H){var X={from:h,to:m,text:s.text,removed:s.removed,origin:s.origin};V&&mt(a,"change",a,X),H&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(X)}a.display.selForContextMenu=null}(e.cm,t,r):ki(e,t,r),yr(e,n,zt)}}function Cn(e,t,n,r,i){if(r||(r=n),ge(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),kn(e,{from:n,to:r,text:t,origin:i})}function Ar(e,t,n,r,i){var o=e.display,a=Jt(e.display);n<0&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,c=ri(e),f={};i-n>c&&(i=n+c);var w=e.doc.height+ni(o),m=i>w-a;if(n<s)f.scrollTop=n<a?0:n;else if(i>s+c){var b=Math.min(n,(m?w:i)-c);b!=s&&(f.scrollTop=b)}var A=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,R=Kt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),H=r-t>R;return H&&(r=t+R),t<10?f.scrollLeft=0:t<A?f.scrollLeft=Math.max(0,t-(H?0:10)):r>R+A-3&&(f.scrollLeft=r+(H?0:10)-R),f}function fi(e,t,n){null==t&&null==n||Er(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Sn(e){Er(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?ee(t.line,t.ch-1):t,r=ee(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Er(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=co(e,t.from),r=co(e,t.to),i=Ar(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Xn(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Un(e,t):n="prev");var a=e.options.tabSize,s=be(o,t),c=St(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var f,w=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((f=o.mode.indent(i,s.text.slice(w.length),s.text))==ua||f>150)){if(!r)return;n="prev"}}else f=0,n="not";"prev"==n?f=t>o.first?St(be(o,t-1).text,null,a):0:"add"==n?f=c+e.options.indentUnit:"subtract"==n?f=c-e.options.indentUnit:"number"==typeof n&&(f=c+n),f=Math.max(0,f);var h="",m=0;if(e.options.indentWithTabs)for(var b=Math.floor(f/a);b;--b)m+=a,h+="\t";if(m<f&&(h+=Ni(f-m)),h!=w)return Cn(o,h,ee(t,0),ee(t,w.length),"+input"),s.stateAfter=null,!0;for(b=0;b<o.sel.ranges.length;b++){var A=o.sel.ranges[b];if(A.head.line==t&&A.head.ch<w.length){Qr(o,b,new Be(m=ee(t,w.length),m));break}}}function Or(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=be(e,ji(e,t)):i=qe(t),null==i?null:(r(o,i)&&e.cm&&Wt(e.cm,i,n),o)}function Ln(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ge(o.from,_e(r).to)<=0;){var a=r.pop();if(ge(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}yt(e,function(){for(var s=r.length-1;s>=0;s--)Cn(e.doc,"",r[s].from,r[s].to,"+delete");Sn(e)})}function pi(e,t,n,r,i){var o=t.line,a=t.ch,s=n,c=be(e,o);function f(V){var X,K=(i?Bi:ba)(c,a,n,!0);if(null==K){if(V||(X=o+n)<e.first||X>=e.first+e.size||(o=X,!(c=be(e,X))))return!1;a=i?(n<0?Xr:Vr)(c):n<0?c.text.length:0}else a=K;return!0}if("char"==r)f();else if("column"==r)f(!0);else if("word"==r||"group"==r)for(var w=null,h="group"==r,m=e.cm&&e.cm.getHelper(t,"wordChars"),b=!0;!(n<0)||f(!b);b=!1){var A=c.text.charAt(a)||"\n",R=$r(A,m)?"w":h&&"\n"==A?"n":!h||/\s/.test(A)?null:"p";if(!h||b||R||(R="s"),w&&w!=R){n<0&&(n=1,f());break}if(R&&(w=R),n>0&&!f(!b))break}var H=ei(e,ee(o,a),t,s,!0);return ge(t,H)||(H.hitSide=!0),H}function Ao(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(n<0?1.5:.5)*Jt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var c=ci(e,a,i);if(!c.outside)break;if(n<0?i<=0:i>=o.height){c.hitSide=!0;break}i+=5*n}return c}$.prototype={constructor:$,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,Tn.hasOwnProperty(e)&&et(this,Tn[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Rr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:st(function(e,t){var n=e.token?e:$.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,ft(this)}),removeOverlay:st(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void ft(this)}}),indentLine:st(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),_n(this.doc,e)&&Xn(this,e,t,n)}),indentSelection:st(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Xn(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Sn(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var c=s;c<n;++c)Xn(this,c,e);var f=this.doc.sel.ranges;0==o.ch&&t.length==f.length&&f[r].from().ch>0&&Qr(this.doc,r,new Be(o,f[r].to()),zt)}}}),getTokenAt:function(e,t){return Go(this,e,t)},getLineTokens:function(e,t){return Go(this,ee(e),t,!0)},getTokenTypeAt:function(e){e=Ne(this.doc,e);var t,n=Vo(this,be(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?$.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Mn.hasOwnProperty(t))return n;var r=Mn[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==lt(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return Un(this,(e=ji(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Ht(this,null==e?n.head:"object"==typeof e?Ne(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return li(this,Ne(this.doc,e),t||"page")},coordsChar:function(e,t){return ci(this,(e=lo(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=lo(this,{top:e,left:0},t||"page").top,sn(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=be(this.doc,e)}else n=e;return si(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-_t(n):0)},defaultTextHeight:function(){return Jt(this.display)},defaultCharWidth:function(){return Gn(this.display)},setGutterMarker:st(function(e,t,n){return Or(this.doc,e,"gutter",function(r){var i=r.gutterMarkers||(r.gutterMarkers={});return i[t]=n,!n&&pa(i)&&(r.gutterMarkers=null),!0})}),clearGutter:st(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&(i.gutterMarkers[e]=null,Wt(t,r,"gutter"),pa(i.gutterMarkers)&&(i.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!_n(this.doc,e))return null;var t=e;if(!(e=be(this.doc,e)))return null}else if(null==(t=qe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var w,h=this.display,m=(e=Ht(this,Ne(this.doc,e))).bottom,b=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),h.sizer.appendChild(t),"over"==r)m=e.top;else if("above"==r||"near"==r){var A=Math.max(h.wrapper.clientHeight,this.doc.height),R=Math.max(h.sizer.clientWidth,h.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>A)&&e.top>t.offsetHeight?m=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=A&&(m=e.bottom),b+t.offsetWidth>R&&(b=R-t.offsetWidth)}t.style.top=m+"px",t.style.left=t.style.right="","right"==i?(b=h.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?b=0:"middle"==i&&(b=(h.sizer.clientWidth-t.offsetWidth)/2),t.style.left=b+"px"),n&&(null!=(w=Ar(this,b,m,b+t.offsetWidth,m+t.offsetHeight)).scrollTop&&Yn(this,w.scrollTop),null!=w.scrollLeft&&wn(this,w.scrollLeft))},triggerOnKeyDown:st(bo),triggerOnKeyPress:st(ko),triggerOnKeyUp:wo,execCommand:function(e){if(Ir.hasOwnProperty(e))return Ir[e].call(null,this)},triggerElectric:st(function(e){Hn(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=0,a=Ne(this.doc,e);o<t&&!(a=pi(this.doc,a,i,n,r)).hitSide;++o);return a},moveH:st(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?pi(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},ar)}),deleteH:st(function(e,t){var r=this.doc;this.doc.sel.somethingSelected()?r.replaceSelection("",null,"+delete"):Ln(this,function(i){var o=pi(r,i.head,e,t,!1);return e<0?{from:o,to:i.head}:{from:i.head,to:o}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=0,s=Ne(this.doc,e);a<t;++a){var c=Ht(this,s,"div");if(null==o?o=c.left:c.left=o,(s=Ao(this,c,i,n)).hitSide)break}return s},moveV:st(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var c=Ht(n,s.head,"div");null!=s.goalColumn&&(c.left=s.goalColumn),i.push(c.left);var f=Ao(n,c,e,t);return"page"==t&&s==r.sel.primary()&&fi(n,null,li(n,f,"div").top-c.top),f},ar),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=be(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");(e.xRel<0||r==t.length)&&n?--n:++r;for(var o=t.charAt(n),a=$r(o,i)?function(s){return $r(s,i)}:/\s/.test(o)?function(s){return/\s/.test(s)}:function(s){return!/\s/.test(s)&&!$r(s)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new Be(ee(e.line,n),ee(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?dr(this.display.cursorDiv,"CodeMirror-overwrite"):hr(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Pt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:st(function(e,t){null==e&&null==t||Er(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Et(this)-this.display.barHeight,width:e.scrollWidth-Et(this)-this.display.barWidth,clientHeight:ri(this),clientWidth:Kt(this)}},scrollIntoView:st(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ee(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Er(this),this.curOp.scrollToPos=e;else{var n=Ar(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:st(function(e,t){var n=this;function r(o){return"number"==typeof o||/^\d+$/.test(String(o))?o+"px":o}null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&oo(this);var i=n.display.viewFrom;n.doc.iter(i,n.display.viewTo,function(o){if(o.widgets)for(var a=0;a<o.widgets.length;a++)if(o.widgets[a].noHScroll){Wt(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,rt(n,"refresh",this)}),operation:function(e){return yt(this,e)},refresh:st(function(){var e=this.display.cachedTextHeight;ft(this),this.curOp.forceUpdate=!0,qn(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),Ye(this),(null==e||Math.abs(e-Jt(this.display))>.5)&&Ce(this),rt(this,"refresh",this)}),swapDoc:st(function(e){var t=this.doc;return t.cm=null,Qo(this,e),qn(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,mt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},En($);var Wa=$.defaults={},Tn=$.optionHandlers={};function Se(e,t,n,r){$.defaults[e]=t,n&&(Tn[e]=r?function(i,o,a){a!=Eo&&n(i,o,a)}:n)}var Eo=$.Init={toString:function(){return"CodeMirror.Init"}};Se("value","",function(e,t){e.setValue(t)},!0),Se("mode",null,function(e,t){e.doc.modeOption=t,W(e)},!0),Se("indentUnit",2,W,!0),Se("indentWithTabs",!1),Se("smartIndent",!0),Se("tabSize",4,function(e){pe(e),qn(e),ft(e)},!0),Se("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(o){for(var a=0;;){var s=o.text.indexOf(t,a);if(-1==s)break;a=s+t.length,n.push(ee(r,s))}r++});for(var i=n.length-1;i>=0;i--)Cn(e.doc,t,n[i],ee(n[i].line,n[i].ch+t.length))}}),Se("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=$.Init&&e.refresh()}),Se("specialCharPlaceholder",function(e){var t=ve("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),Se("electricChars",!0),Se("inputStyle",F?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Se("rtlMoveVisually",!de),Se("wholeLineUpdateBefore",!0),Se("theme","default",function(e){He(e),ze(e)},!0),Se("keyMap","default",function(e,t,n){var r=Rr(t),i=n!=$.Init&&Rr(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),Se("extraKeys",null),Se("lineWrapping",!1,function(e){e.options.lineWrapping?(dr(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(hr(e.display.wrapper,"CodeMirror-wrap"),y(e)),Ce(e),ft(e),qn(e),setTimeout(function(){C(e)},100)},!0),Se("gutters",[],function(e){Me(e.options),ze(e)},!0),Se("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?x(e.display)+"px":"0",e.refresh()},!0),Se("coverGutterNextToScrollbar",!1,function(e){C(e)},!0),Se("scrollbarStyle","native",function(e){E(e),C(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Se("lineNumbers",!1,function(e){Me(e.options),ze(e)},!0),Se("firstLineNumber",1,ze,!0),Se("lineNumberFormatter",function(e){return e},ze,!0),Se("showCursorWhenSelecting",!1,Fn,!0),Se("resetSelectionOnContextMenu",!0),Se("lineWiseCopyCut",!0),Se("readOnly",!1,function(e,t){"nocursor"==t?($n(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Se("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Se("dragDrop",!0,function(e,t,n){if(!t!=!(n&&n!=$.Init)){var r=e.display.dragFunctions,i=t?Le:Rt;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}),Se("allowDropFileTypes",null),Se("cursorBlinkRate",530),Se("cursorScrollMargin",0),Se("cursorHeight",1,Fn,!0),Se("singleCursorHeightPerLine",!0,Fn,!0),Se("workTime",100),Se("workDelay",100),Se("flattenSpans",!0,pe,!0),Se("addModeClass",!1,pe,!0),Se("pollInterval",100),Se("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Se("historyEventDelay",1250),Se("viewportMargin",10,function(e){e.refresh()},!0),Se("maxHighlightLength",1e4,pe,!0),Se("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Se("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Se("autofocus",null);var Oo=$.modes={},Kn=$.mimeModes={};$.defineMode=function(e,t){$.defaults.mode||"null"==e||($.defaults.mode=e),arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Oo[e]=t},$.defineMIME=function(e,t){Kn[e]=t},$.resolveMode=function(e){if("string"==typeof e&&Kn.hasOwnProperty(e))e=Kn[e];else if(e&&"string"==typeof e.name&&Kn.hasOwnProperty(e.name)){var t=Kn[e.name];"string"==typeof t&&(t={name:t}),(e=da(t,e)).name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return $.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},$.getMode=function(e,t){t=$.resolveMode(t);var n=Oo[t.name];if(!n)return $.getMode(e,"text/plain");var r=n(e,t);if(Zn.hasOwnProperty(t.name)){var i=Zn[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)r[o]=t.modeProps[o];return r},$.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),$.defineMIME("text/plain","null");var Zn=$.modeExtensions={};$.extendMode=function(e,t){Lt(t,Zn.hasOwnProperty(e)?Zn[e]:Zn[e]={})},$.defineExtension=function(e,t){$.prototype[e]=t},$.defineDocExtension=function(e,t){pt.prototype[e]=t},$.defineOption=Se;var mi=[];$.defineInitHook=function(e){mi.push(e)};var Mn=$.helpers={};$.registerHelper=function(e,t,n){Mn.hasOwnProperty(e)||(Mn[e]=$[e]={_global:[]}),Mn[e][t]=n},$.registerGlobalHelper=function(e,t,n,r){$.registerHelper(e,t,r),Mn[e]._global.push({pred:n,val:r})};var Ut=$.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},Ba=$.startState=function(e,t,n){return!e.startState||e.startState(t,n)};$.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var Ir=$.commands={selectAll:function(e){e.setSelection(ee(e.firstLine(),0),ee(e.lastLine()),zt)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),zt)},killLine:function(e){Ln(e,function(t){if(t.empty()){var n=be(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ee(t.head.line+1,0)}:{from:t.head,to:ee(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Ln(e,function(t){return{from:ee(t.from().line,0),to:Ne(e.doc,ee(t.to().line+1,0))}})},delLineLeft:function(e){Ln(e,function(t){return{from:ee(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){Ln(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){Ln(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(ee(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(ee(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ya(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return xa(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return function(n,r){for(var i,o=be(n.doc,r);i=er(o);)o=i.find(1,!0).line,r=null;var a=Ct(o),s=a?a[0].level%2?Vr(o):Xr(o):o.text.length;return ee(null==r?qe(o):r,s)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},ar)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},ar)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?xa(e,t.head):r},ar)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=St(e.getLine(o.line),o.ch,r);t.push(Ni(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){yt(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=be(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ee(i.line,i.ch-1)),i.ch>0)i=new ee(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ee(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=be(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ee(i.line-1,a.length-1),ee(i.line,1),"+transpose")}n.push(new Be(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){yt(e,function(){for(var t=e.listSelections().length,n=0;n<t;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}Sn(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},qt=$.keyMap={};function _a(e){for(var t,n,r,i,o=e.split(/-(?!$)/),a=(e=o[o.length-1],0);a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}qt.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},qt.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},qt.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},qt.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},qt.default=D?qt.macDefault:qt.pcDefault,$.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Yr(n.split(" "),_a),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var c=t[s];if(c){if(c!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var f in t)e[f]=t[f];return e};var Jn=$.lookupKey=function(e,t,n,r){var i=(t=Rr(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Jn(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Jn(e,t.fallthrough[o],n,r);if(a)return a}}},za=$.isModifierKey=function(e){var t="string"==typeof e?e:hn[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},Fa=$.keyName=function(e,t){if(N&&34==e.keyCode&&e.char)return!1;var n=hn[e.keyCode],r=n;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(Q?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Q?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};function Rr(e){return"string"==typeof e?qt[e]:e}$.fromTextArea=function(e,t){if((t=t?Lt(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=Pt();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}if(e.form&&(Le(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var i=e.form,o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(c){}}t.finishInit=function(c){c.save=r,c.getTextArea=function(){return e},c.toTextArea=function(){c.toTextArea=isNaN,r(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Rt(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var s=$(function(c){e.parentNode.insertBefore(c,e.nextSibling)},t);return s};var Pr=$.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Pr.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=St(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?St(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return St(this.string,null,this.tabSize)-(this.lineStart?St(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(o){return n?o.toLowerCase():o};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var gi=0,nn=$.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++gi};function Nn(e,t,n,r,i){if(r&&r.shared)return function(h,m,b,A,R){(A=Lt(A)).shared=!1;var H=[Nn(h,m,b,A,R)],V=H[0],X=A.widgetNode;return on(h,function(K){X&&(A.widgetNode=X.cloneNode(!0)),H.push(Nn(K,Ne(K,m),Ne(K,b),A,R));for(var ae=0;ae<K.linked.length;++ae)if(K.linked[ae].isParent)return;V=_e(H)}),new Dr(H,V)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return et(e.cm,Nn)(e,t,n,r,i);var o=new nn(e,i),a=ge(t,n);if(r&&Lt(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=ve("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(zo(e,t.line,t,n,o)||t.line!=n.line&&zo(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");se=!0}o.addToHistory&&ta(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,c=t.line,f=e.cm;if(e.iter(c,n.line+1,function(h){var m,b;f&&o.collapsed&&!f.options.lineWrapping&&Ot(h)==f.display.maxLine&&(s=!0),o.collapsed&&c!=t.line&&It(h,0),m=h,b=new Hr(o,c==t.line?t.ch:null,c==n.line?n.ch:null),m.markedSpans=m.markedSpans?m.markedSpans.concat([b]):[b],b.marker.attachLine(m),++c}),o.collapsed&&e.iter(t.line,n.line+1,function(h){rn(e,h)&&It(h,0)}),o.clearOnEnter&&Le(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(le=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++gi,o.atomic=!0),f){if(s&&(f.curOp.updateMaxLine=!0),o.collapsed)ft(f,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var w=t.line;w<=n.line;w++)Wt(f,w,"text");o.atomic&&Vi(f.doc),mt(f,"markerAdded",f,o)}return o}En(nn),nn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xn(e),wt(this,"clear")){var n=this.find();n&&mt(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Qn(a.markedSpans,this);e&&!this.collapsed?Wt(e,qe(a),"text"):e&&(null!=s.to&&(i=qe(a)),null!=s.from&&(r=qe(a))),a.markedSpans=Ua(a.markedSpans,s),null==s.from&&this.collapsed&&!rn(this.doc,a)&&e&&It(a,Jt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var c=Ot(this.lines[o]),f=L(c);f>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=f,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&ft(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Vi(e.doc)),e&&mt(e,"markerCleared",e,this),t&&bn(e),this.parent&&this.parent.clear()}},nn.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Qn(o.markedSpans,this);if(null!=a.from&&(n=ee(t?o:qe(o),a.from),-1==e))return n;if(null!=a.to&&(r=ee(t?o:qe(o),a.to),1==e))return r}return n&&{from:n,to:r}},nn.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&yt(n,function(){var r=e.line,i=qe(e.line),o=ii(n,i);if(o&&(io(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!rn(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=tr(t)-a;s&&It(r,r.height+s)}})},nn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=lt(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},nn.prototype.detachLine=function(e){if(this.lines.splice(lt(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},gi=0;var Dr=$.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Io(e){return e.findMarks(ee(e.first,0),e.clipPos(ee(e.lastLine())),function(t){return t.parent})}function ja(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];on(n.primary.doc,function(a){r.push(a)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==lt(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Hr(e,t,n){this.marker=e,this.from=t,this.to=n}function Qn(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Ua(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function vi(e,t){if(t.full)return null;var n=_n(e,t.from.line)&&be(e,t.from.line).markedSpans,r=_n(e,t.to.line)&&be(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ge(t.from,t.to),s=function(V,X,K){if(V)for(var ae,te=0;te<V.length;++te){var ce=V[te],Te=ce.marker;null!=ce.from&&!(Te.inclusiveLeft?ce.from<=X:ce.from<X)&&(ce.from!=X||"bookmark"!=Te.type||K&&ce.marker.insertLeft)||(ae||(ae=[])).push(new Hr(Te,ce.from,null==ce.to||(Te.inclusiveRight?ce.to>=X:ce.to>X)?null:ce.to))}return ae}(n,i,a),c=function(V,X,K){if(V)for(var ae,te=0;te<V.length;++te){var ce=V[te],Te=ce.marker;(null==ce.to||(Te.inclusiveRight?ce.to>=X:ce.to>X)||ce.from==X&&"bookmark"==Te.type&&(!K||ce.marker.insertLeft))&&(ae||(ae=[])).push(new Hr(Te,null==ce.from||(Te.inclusiveLeft?ce.from<=X:ce.from<X)?null:ce.from-X,null==ce.to?null:ce.to-X))}return ae}(r,o,a),f=1==t.text.length,w=_e(t.text).length+(f?i:0);if(s)for(var h=0;h<s.length;++h)null==(m=s[h]).to&&((b=Qn(c,m.marker))?f&&(m.to=null==b.to?null:b.to+w):m.to=i);if(c)for(h=0;h<c.length;++h){var m,b;null!=(m=c[h]).to&&(m.to+=w),null==m.from?(b=Qn(s,m.marker))||(m.from=w,f&&(s||(s=[])).push(m)):(m.from+=w,f&&(s||(s=[])).push(m))}s&&(s=Ro(s)),c&&c!=s&&(c=Ro(c));var A=[s];if(!f){var R,H=t.text.length-2;if(H>0&&s)for(h=0;h<s.length;++h)null==s[h].to&&(R||(R=[])).push(new Hr(s[h].marker,null,null));for(h=0;h<H;++h)A.push(R);A.push(c)}return A}function Ro(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Po(e,t){var n=function(w,h){var m=h["spans_"+w.id];if(!m)return null;for(var b=0,A=[];b<h.text.length;++b)A.push(Ja(m[b]));return A}(e,t),r=vi(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var c=a[s],f=0;f<o.length;++f)if(o[f].marker==c.marker)continue e;o.push(c)}else a&&(n[i]=a)}return n}function Do(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ho(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Wr(e){return e.inclusiveLeft?-1:0}function Br(e){return e.inclusiveRight?1:0}function Wo(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ge(r.from,i.from)||Wr(e)-Wr(t);return o?-o:ge(r.to,i.to)||Br(e)-Br(t)||t.id-e.id}function Bo(e,t){var n,r=se&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Wo(n,i.marker)<0)&&(n=i.marker);return n}function _o(e){return Bo(e,!0)}function er(e){return Bo(e,!1)}function zo(e,t,n,r,i){var o=be(e,t),a=se&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var c=a[s];if(c.marker.collapsed){var f=c.marker.find(0),w=ge(f.from,n)||Wr(c.marker)-Wr(i),h=ge(f.to,r)||Br(c.marker)-Br(i);if(!(w>=0&&h<=0||w<=0&&h>=0)&&(w<=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?ge(f.to,n)>=0:ge(f.to,n)>0)||w>=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?ge(f.from,r)<=0:ge(f.from,r)<0)))return!0}}}function Ot(e){for(var t;t=_o(e);)e=t.find(-1,!0).line;return e}function yi(e,t){var n=be(e,t),r=Ot(n);return n==r?t:qe(r)}function Fo(e,t){if(t>e.lastLine())return t;var n,r=be(e,t);if(!rn(e,r))return t;for(;n=er(r);)r=n.find(1,!0).line;return qe(r)+1}function rn(e,t){var n=se&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed&&(null==r.from||!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&xi(e,t,r)))return!0}function xi(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return xi(e,r.line,Qn(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&xi(e,t,i))return!0}En(Dr),Dr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();mt(this,"clear")}},Dr.prototype.find=function(e,t){return this.primary.find(e,t)};var _r=$.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function jo(e,t,n){_t(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&fi(e,null,n)}function tr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ai(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),bt(t.display.measure,ve("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}En(_r),_r.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=qe(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=tr(this);It(n,Math.max(0,n.height-o)),e&&yt(e,function(){jo(e,n,-o),Wt(e,r,"widget")})}},_r.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=tr(this)-e;r&&(It(n,n.height+r),t&&yt(t,function(){t.curOp.forceUpdate=!0,jo(t,n,r)}))};var nr=$.Line=function(e,t,n){this.text=e,Ho(this,t),this.height=n?n(this):1};function Uo(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function qo(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=$.innerMode(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function bi(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=$.innerMode(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Go(e,t,n,r){function i(m){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:m?Ut(a.mode,w):w}}var o,a=e.doc,s=a.mode;t=Ne(a,t);var c,f=be(a,t.line),w=Un(e,t.line,n),h=new Pr(f.text,e.options.tabSize);for(r&&(c=[]);(r||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=bi(s,h,w),r&&c.push(i(!0));return r?c:i()}function Yo(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var c,f=0,w=null,h=new Pr(t,e.options.tabSize),m=e.options.addModeClass&&[null];for(""==t&&Uo(qo(n,r),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,a&&wi(e,t,r,h.pos),h.pos=t.length,c=null):c=Uo(bi(n,h,r,m),o),m){var b=m[0].name;b&&(c="m-"+(c?b+" "+c:b))}if(!s||w!=c){for(;f<h.start;)i(f=Math.min(h.start,f+5e4),w);w=c}h.start=h.pos}for(;f<h.pos;){var A=Math.min(h.pos,f+5e4);i(A,w),f=A}}function $o(e,t,n,r){var i=[e.state.modeGen],o={};Yo(e,t.text,e.doc.mode,n,function(w,h){i.push(w,h)},o,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],c=1,f=0;Yo(e,t.text,s.mode,!0,function(w,h){for(var m=c;f<w;){var b=i[c];b>w&&i.splice(c,1,w,i[c+1],b),c+=2,f=Math.min(w,b)}if(h)if(s.opaque)i.splice(m,c-m,w,"cm-overlay "+h),c=m+2;else for(;m<c;m+=2){var A=i[m+1];i[m+1]=(A?A+" ":"")+"cm-overlay "+h}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Vo(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Un(e,qe(t)),i=$o(e,t,t.text.length>e.options.maxHighlightLength?Ut(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function wi(e,t,n,r){var i=e.doc.mode,o=new Pr(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&qo(i,n);!o.eol();)bi(i,o,n),o.start=o.pos}En(nr),nr.prototype.lineNo=function(){return qe(this)};var qa={},Ga={};function Xo(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Ga:qa;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Ko(e,t){var n=ve("span",null,null,j?"padding-right: .1px":null),r={pre:ve("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(v||j)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,a=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=Ya,os(e.display.measure)&&(o=Ct(a))&&(r.addToken=Va(r.addToken,o)),r.map=[],Xa(a,r,Vo(e,a,t!=e.display.externalMeasured&&qe(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=Ei(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=Ei(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(is(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(j){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Ei(r.pre.className,r.textClass||"")),r}function Ya(e,t,n,r,i,o,a){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,$a):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){H=document.createDocumentFragment();for(var w=0;;){c.lastIndex=w;var h=c.exec(t),m=h?h.index-w:t.length-w;if(m){var b=document.createTextNode(s.slice(w,w+m));H.appendChild(v&&d<9?ve("span",[b]):b),e.map.push(e.pos,e.pos+m,b),e.col+=m,e.pos+=m}if(!h)break;if(w+=m+1,"\t"==h[0]){var A=e.cm.options.tabSize,R=A-e.col%A;(b=H.appendChild(ve("span",Ni(R),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=R}else"\r"==h[0]||"\n"==h[0]?((b=H.appendChild(ve("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),H.appendChild(v&&d<9?ve("span",[b]):b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else{e.col+=t.length;var H=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,H),v&&d<9&&(f=!0),e.pos+=t.length}if(n||r||i||f||a){var V=n||"";r&&(V+=r),i&&(V+=i);var X=ve("span",[H],V,a);return o&&(X.title=o),e.content.appendChild(X)}e.content.appendChild(H)}}function $a(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"\xa0";return t+" "}function Va(e,t){return function(n,r,i,o,a,s,c){i=i?i+" cm-force-border":"cm-force-border";for(var f=n.pos,w=f+r.length;;){for(var h=0;h<t.length;h++){var m=t[h];if(m.to>f&&m.from<=f)break}if(m.to>=w)return e(n,r,i,o,a,s,c);e(n,r.slice(0,m.to-f),i,o,null,s,c),o=null,r=r.slice(m.to-f),f=m.to}}}function Zo(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function Xa(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,c,f,w,h,m,b=i.length,A=0,R=(Fe=1,""),H=0;;){if(H==A){c=f=w=h=s="",m=null,H=1/0;for(var V,X=[],K=0;K<r.length;++K){var ae=r[K],te=ae.marker;"bookmark"==te.type&&ae.from==A&&te.widgetNode?X.push(te):ae.from<=A&&(null==ae.to||ae.to>A||te.collapsed&&ae.to==A&&ae.from==A)?(null!=ae.to&&ae.to!=A&&H>ae.to&&(H=ae.to,f=""),te.className&&(c+=" "+te.className),te.css&&(s=(s?s+";":"")+te.css),te.startStyle&&ae.from==A&&(w+=" "+te.startStyle),te.endStyle&&ae.to==H&&(V||(V=[])).push(te.endStyle,ae.to),te.title&&!h&&(h=te.title),te.collapsed&&(!m||Wo(m.marker,te)<0)&&(m=ae)):ae.from>A&&H>ae.from&&(H=ae.from)}if(V)for(K=0;K<V.length;K+=2)V[K+1]==H&&(f+=" "+V[K]);if(!m||m.from==A)for(K=0;K<X.length;++K)Zo(t,0,X[K]);if(m&&(m.from||0)==A){if(Zo(t,(null==m.to?b+1:m.to)-A,m.marker,null==m.from),null==m.to)return;m.to==A&&(m=!1)}}if(A>=b)break;for(var ce=Math.min(b,H);;){if(R){var Te=A+R.length;if(!m){var De=Te>ce?R.slice(0,ce-A):R;t.addToken(t,De,a?a+c:c,w,A+De.length==H?f:"",h,s)}if(Te>=ce){R=R.slice(ce-A),A=ce;break}A=Te,w=""}R=i.slice(o,o=n[Fe++]),a=Xo(n[Fe++],t.cm.options)}}else for(var Fe=1;Fe<n.length;Fe+=2)t.addToken(t,i.slice(o,o=n[Fe]),Xo(n[Fe+1],t.cm.options))}function Jo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==_e(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function ki(e,t,n,r){function i(H){return n?n[H]:null}function o(H,V,X){(function(K,ae,te,ce){K.text=ae,K.stateAfter&&(K.stateAfter=null),K.styles&&(K.styles=null),null!=K.order&&(K.order=null),Do(K),Ho(K,te);var Te=ce?ce(K):1;Te!=K.height&&It(K,Te)})(H,V,X,r),mt(H,"change",H,t)}function a(H,V){for(var X=H,K=[];X<V;++X)K.push(new nr(f[X],i(X),r));return K}var s=t.from,c=t.to,f=t.text,w=be(e,s.line),h=be(e,c.line),m=_e(f),b=i(f.length-1),A=c.line-s.line;if(t.full)e.insert(0,a(0,f.length)),e.remove(f.length,e.size-f.length);else if(Jo(e,t)){var R=a(0,f.length-1);o(h,h.text,b),A&&e.remove(s.line,A),R.length&&e.insert(s.line,R)}else w==h?1==f.length?o(w,w.text.slice(0,s.ch)+m+w.text.slice(c.ch),b):((R=a(1,f.length-1)).push(new nr(m+w.text.slice(c.ch),b,r)),o(w,w.text.slice(0,s.ch)+f[0],i(0)),e.insert(s.line+1,R)):1==f.length?(o(w,w.text.slice(0,s.ch)+f[0]+h.text.slice(c.ch),i(0)),e.remove(s.line+1,A)):(o(w,w.text.slice(0,s.ch)+f[0],i(0)),o(h,m+h.text.slice(c.ch),b),R=a(1,f.length-1),A>1&&e.remove(s.line+1,A-1),e.insert(s.line+1,R));mt(e,"change",e,t)}function rr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function ir(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}rr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,(o=i).parent=null,Do(o),mt(i,"delete")}var o;this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ir.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof rr))){var s=[];this.collapse(s),this.children=[new rr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var c=new rr(i.lines.slice(s,s+=25));i.height-=c.height,this.children.splice(++r,0,c),c.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ir(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=lt(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ir(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var Ka=0,pt=$.Doc=function(e,t,n,r){if(!(this instanceof pt))return new pt(e,t,n,r);null==n&&(n=0),ir.call(this,[new rr([new nr("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=ee(n,0);this.sel=Dt(i),this.history=new Fr(null),this.id=++Ka,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),ki(this,{from:i,to:i,text:e}),at(this,Dt(i),zt)};pt.prototype=da(ir.prototype,{constructor:pt,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ci(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ct(function(e){var t=ee(this.first,0),n=this.first+this.size-1;kn(this,{from:t,to:ee(n,be(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),at(this,Dt(t))}),replaceRange:function(e,t,n,r){Cn(this,e,t=Ne(this,t),n=n?Ne(this,n):t,r)},getRange:function(e,t,n){var r=an(this,Ne(this,e),Ne(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(_n(this,e))return be(this,e)},getLineNumber:function(e){return qe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=be(this,e)),Ot(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ne(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ct(function(e,t,n){Gi(this,Ne(this,"number"==typeof e?ee(e,t||0):e),null,n)}),setSelection:ct(function(e,t,n){Gi(this,Ne(this,e),Ne(this,t||e),n)}),extendSelection:ct(function(e,t,n){vr(this,Ne(this,e),t&&Ne(this,t),n)}),extendSelections:ct(function(e,t){qi(this,Ui(this,e),t)}),extendSelectionsBy:ct(function(e,t){qi(this,Ui(this,Yr(this.sel.ranges,e)),t)}),setSelections:ct(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new Be(Ne(this,e[r].anchor),Ne(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),at(this,vt(i,t),n)}}),addSelection:ct(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Be(Ne(this,e),Ne(this,t||e))),at(this,vt(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=an(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=an(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ct(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}var s=t&&"end"!=t&&function(c,f,w){for(var h=[],m=ee(c.first,0),b=m,A=0;A<f.length;A++){var R=f[A],H=Lo(R.from,m,b),V=Lo(tn(R),m,b);if(m=R.to,b=V,"around"==w){var X=c.sel.ranges[A],K=ge(X.head,X.anchor)<0;h[A]=new Be(K?V:H,K?H:V)}else h[A]=new Be(H,H)}return new dt(h,c.sel.primIndex)}(this,r,t);for(o=r.length-1;o>=0;o--)kn(this,r[o]);s?Yi(this,s):this.cm&&Sn(this.cm)}),undo:ct(function(){Nr(this,"undo")}),redo:ct(function(){Nr(this,"redo")}),undoSelection:ct(function(){Nr(this,"undo",!0)}),redoSelection:ct(function(){Nr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Fr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:An(this.history.done),undone:An(this.history.undone)}},setHistory:function(e){var t=this.history=new Fr(this.history.maxGeneration);t.done=An(e.done.slice(0),null,!0),t.undone=An(e.undone.slice(0),null,!0)},addLineClass:ct(function(e,t,n){return Or(this,e,"gutter"==t?"gutter":"class",function(r){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(r[i]){if(ur(n).test(r[i]))return!1;r[i]+=" "+n}else r[i]=n;return!0})}),removeLineClass:ct(function(e,t,n){return Or(this,e,"gutter"==t?"gutter":"class",function(r){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=r[i];if(!o)return!1;if(null==n)r[i]=null;else{var a=o.match(ur(n));if(!a)return!1;var s=a.index+a[0].length;r[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:ct(function(e,t,n){return i=e,o=new _r(r=this,t,n),(a=r.cm)&&o.noHScroll&&(a.display.alignWidgets=!0),Or(r,i,"widget",function(s){var c=s.widgets||(s.widgets=[]);if(null==o.insertAt?c.push(o):c.splice(Math.min(c.length-1,Math.max(0,o.insertAt)),0,o),o.line=s,a&&!rn(r,s)){var f=_t(s)<r.scrollTop;It(s,s.height+tr(o)),f&&fi(a,null,o.height),a.curOp.forceUpdate=!0}return!0}),o;var r,i,o,a}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Nn(this,Ne(this,e),Ne(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Nn(this,e=Ne(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=be(this,(e=Ne(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=Ne(this,e),t=Ne(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var c=a[s];null!=c.to&&i==e.line&&e.ch>=c.to||null==c.from&&i!=e.line||null!=c.from&&i==t.line&&c.from>=t.ch||n&&!n(c.marker)||r.push(c.marker.parent||c.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),Ne(this,ee(n,t))},indexFromPos:function(e){var t=(e=Ne(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+n}),t},copy:function(e){var t=new pt(Ci(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new pt(Ci(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(i,o){for(var a=0;a<o.length;a++){var s=o[a],c=s.find(),f=i.clipPos(c.from),w=i.clipPos(c.to);if(ge(f,w)){var h=Nn(i,f,w,s.primary,s.primary.type);s.markers.push(h),h.parent=s}}}(r,Io(this)),r},unlinkDoc:function(e){if(e instanceof $&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ja(Io(this));break}if(e.history==this.history){var n=[e.id];on(e,function(r){n.push(r.id)},!0),e.history=new Fr(null),e.history.done=An(this.history.done,n),e.history.undone=An(this.history.undone,n)}},iterLinkedDocs:function(e){on(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):as(e)},lineSeparator:function(){return this.lineSep||"\n"}}),pt.prototype.eachLine=pt.prototype.iter;var Za="iter insert remove copy getEditor constructor".split(" ");for(var zr in pt.prototype)pt.prototype.hasOwnProperty(zr)&&lt(Za,zr)<0&&($.prototype[zr]=function(e){return function(){return e.apply(this.doc,arguments)}}(pt.prototype[zr]));function on(e,t,n){!function r(i,o,a){if(i.linked)for(var s=0;s<i.linked.length;++s){var c=i.linked[s];if(c.doc!=o){var f=a&&c.sharedHist;n&&!f||(t(c.doc,f),r(c.doc,i,f))}}}(e,null,!0)}function Qo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ce(e),W(e),e.options.lineWrapping||y(e),e.options.mode=t.modeOption,ft(e)}function be(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function an(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(o){var a=o.text;i==n.line&&(a=a.slice(0,n.ch)),i==t.line&&(a=a.slice(t.ch)),r.push(a),++i}),r}function Ci(e,t,n){var r=[];return e.iter(t,n,function(i){r.push(i.text)}),r}function It(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function qe(e){if(null==e.parent)return null;for(var t=e.parent,n=lt(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function sn(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(r=0;r<e.lines.length;++r){var a=e.lines[r].height;if(t<a)break;t-=a}return n+r}function _t(e){for(var t=0,n=(e=Ot(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function Ct(e){var t=e.order;return null==t&&(t=e.order=ls(e.text)),t}function Fr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Si(e,t){var n={from:$t(t.from),to:tn(t),text:an(e,t.from,t.to)};return na(e,n,t.from.line,t.to.line+1),on(e,function(r){na(r,n,t.from.line,t.to.line+1)},!0),n}function ea(e){for(;e.length&&_e(e).ranges;)e.pop()}function ta(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=i,o=i.lastOp==r?(ea(a.done),_e(a.done)):a.done.length&&!_e(a.done).ranges?_e(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),_e(a.done)):void 0)){var c=_e(o.changes);0==ge(t.from,t.to)&&0==ge(t.from,c.to)?c.to=tn(t):o.changes.push(Si(e,t))}else{var f=_e(i.done);for(f&&f.ranges||jr(e.sel,i.done),o={changes:[Si(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,c||rt(e,"historyAdded")}function jr(e,t){var n=_e(t);n&&n.ranges&&n.equals(e)||t.push(e)}function na(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(a){a.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=a.markedSpans),++o})}function Ja(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function An(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?dt.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var c=0;c<a.length;++c){var f,w=a[c];if(s.push({from:w.from,to:w.to,text:w.text}),t)for(var h in w)(f=h.match(/^spans_(\d+)$/))&&lt(t,Number(f[1]))>-1&&(_e(s)[h]=w[h],delete w[h])}}}return i}function ra(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ia(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)ra(o.ranges[s].anchor,t,n,r),ra(o.ranges[s].head,t,n,r)}else{for(s=0;s<o.changes.length;++s){var c=o.changes[s];if(n<c.from.line)c.from=ee(c.from.line+r,c.from.ch),c.to=ee(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function oa(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;ia(e.done,n,r,i),ia(e.undone,n,r,i)}En(pt);var ut=$.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Qa=$.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};function Li(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}var Ur=$.e_stop=function(e){ut(e),Qa(e)};function Ti(e){return e.target||e.srcElement}function aa(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),D&&e.ctrlKey&&1==t&&(t=3),t}var Le=$.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});(r[t]||(r[t]=[])).push(n)}},sa=[];function qr(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():sa:r||sa}var Rt=$.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=qr(e,t,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},rt=$.signal=function(e,t){var n=qr(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},or=null;function mt(e,t){var n=qr(e,t,!1);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);yn?r=yn.delayedCallbacks:or?r=or:(r=or=[],setTimeout(es,0));for(var o=0;o<n.length;++o)r.push(a(n[o]))}function a(s){return function(){s.apply(null,i)}}}function es(){var e=or;or=null;for(var t=0;t<e.length;++t)e[t]()}function it(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,n||t.type,e,t),Li(t)||t.codemirrorIgnore}function la(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==lt(n,t[r])&&n.push(t[r])}function wt(e,t){return qr(e,t).length>0}function En(e){e.prototype.on=function(t,n){Le(this,t,n)},e.prototype.off=function(t,n){Rt(this,t,n)}}var ca=30,ua=$.Pass={toString:function(){return"CodeMirror.Pass"}},zt={scroll:!1},Mi={origin:"*mouse"},ar={origin:"+move"};function ln(){this.id=null}ln.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var St=$.countColumn=function(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},ha=$.findColumn=function(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}},Gr=[""];function Ni(e){for(;Gr.length<=e;)Gr.push(_e(Gr)+" ");return Gr[e]}function _e(e){return e[e.length-1]}var On=function(e){e.select()};function lt(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Yr(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function sr(){}function da(e,t){var n;return Object.create?n=Object.create(e):(sr.prototype=e,n=new sr),t&&Lt(t,n),n}function Lt(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function lr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}G?On=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:v&&(On=function(e){try{e.select()}catch(t){}});var ts=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,fa=$.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ts.test(e))};function $r(e,t){return t?!!(t.source.indexOf("\\w")>-1&&fa(e))||t.test(e):fa(e)}function pa(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var cn,ns=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function cr(e){return e.charCodeAt(0)>=768&&ns.test(e)}function ve(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function un(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function bt(e,t){return un(e).appendChild(t)}cn=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ai=$.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};function Pt(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function ur(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}v&&d<11&&(Pt=function(){try{return document.activeElement}catch(e){return document.body}});var hr=$.rmClass=function(e,t){var n=e.className,r=ur(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},dr=$.addClass=function(e,t){var n=e.className;ur(t).test(n)||(e.className+=(n?" ":"")+t)};function Ei(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!ur(n[r]).test(t)&&(t+=" "+n[r]);return t}function ma(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}var Oi,Ii,ga=!1,rs=function(){if(v&&d<9)return!1;var e=ve("div");return"draggable"in e||"dragDrop"in e}();function is(e){if(null==Oi){var t=ve("span","\u200b");bt(e,ve("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Oi=t.offsetWidth<=1&&t.offsetHeight>2&&!(v&&d<8))}var n=Oi?ve("span","\u200b"):ve("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function os(e){if(null!=Ii)return Ii;var t=bt(e,document.createTextNode("A\u062eA")),n=cn(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=cn(t,1,2).getBoundingClientRect();return Ii=r.right-n.right<3}var Ri,fr,as=$.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ss=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},va="oncopy"in(Ri=ve("div"))||(Ri.setAttribute("oncopy","return;"),"function"==typeof Ri.oncopy),Pi=null,hn=$.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};function Di(e){return e.level%2?e.to:e.from}function Hi(e){return e.level%2?e.from:e.to}function Vr(e){var t=Ct(e);return t?Di(t[0]):0}function Xr(e){var t=Ct(e);return t?Hi(_e(t)):e.text.length}function ya(e,t){var n=be(e.doc,t),r=Ot(n);r!=n&&(t=qe(r));var i=Ct(r),o=i?i[0].level%2?Xr(r):Vr(r):0;return ee(t,o)}function xa(e,t){var n=ya(e,t.line),r=be(e.doc,n.line),i=Ct(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/));return ee(n.line,t.line==n.line&&t.ch<=o&&t.ch?0:o)}return n}function Kr(e,t){fr=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return s=e[n].level,(a=i.level)==(c=e[0].level)||s!=c&&a<s?(i.from!=i.to&&(fr=n),r):(i.from!=i.to&&(fr=r),n);n=r}}var a,s,c;return n}function Wi(e,t,n,r){if(!r)return t+n;do{t+=n}while(t>0&&cr(e.text.charAt(t)));return t}function Bi(e,t,n,r){var i=Ct(e);if(!i)return ba(e,t,n,r);for(var o=Kr(i,t),a=i[o],s=Wi(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return Kr(i,s)==o?s:n>0==(a=i[o+=n]).level%2?a.to:a.from;if(!(a=i[o+=n]))return null;s=n>0==a.level%2?Wi(e,a.to,-1,r):Wi(e,a.from,1,r)}}function ba(e,t,n,r){var i=t+n;if(r)for(;i>0&&cr(e.text.charAt(i));)i+=n;return i<0||i>e.text.length?null:i}!function(){for(var e=0;e<10;e++)hn[e+48]=hn[e+96]=String(e);for(e=65;e<=90;e++)hn[e]=String.fromCharCode(e);for(e=1;e<=12;e++)hn[e+111]=hn[e+63235]="F"+e}();var ls=function(){var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function s(c,f,w){this.level=c,this.from=f,this.to=w}return function(c){if(!n.test(c))return!1;for(var f,w=c.length,h=[],m=0;m<w;++m)h.push(X=(f=c.charCodeAt(m))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(f):1424<=f&&f<=1524?"R":1536<=f&&f<=1773?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(f-1536):1774<=f&&f<=2220?"r":8192<=f&&f<=8203?"w":8204==f?"b":"L");m=0;for(var b="L";m<w;++m)"m"==(X=h[m])?h[m]=b:b=X;m=0;for(var A="L";m<w;++m)"1"==(X=h[m])&&"r"==A?h[m]="n":i.test(X)&&(A=X,"r"==X&&(h[m]="R"));for(m=1,b=h[0];m<w-1;++m)"+"==(X=h[m])&&"1"==b&&"1"==h[m+1]?h[m]="1":","!=X||b!=h[m+1]||"1"!=b&&"n"!=b||(h[m]=b),b=X;for(m=0;m<w;++m)if(","==(X=h[m]))h[m]="N";else if("%"==X){for(var R=m+1;R<w&&"%"==h[R];++R);for(var H=m&&"!"==h[m-1]||R<w&&"1"==h[R]?"1":"N",V=m;V<R;++V)h[V]=H;m=R-1}for(m=0,A="L";m<w;++m){var X=h[m];"L"==A&&"1"==X?h[m]="L":i.test(X)&&(A=X)}for(m=0;m<w;++m)if(r.test(h[m])){for(R=m+1;R<w&&r.test(h[R]);++R);for(H="L"==(m?h[m-1]:"L")||"L"==(R<w?h[R]:"L")?"L":"R",V=m;V<R;++V)h[V]=H;m=R-1}var te,ce=[];for(m=0;m<w;)if(o.test(h[m])){var Te=m;for(++m;m<w&&o.test(h[m]);++m);ce.push(new s(0,Te,m))}else{var De=m,Fe=ce.length;for(++m;m<w&&"L"!=h[m];++m);for(V=De;V<m;)if(a.test(h[V])){De<V&&ce.splice(Fe,0,new s(1,De,V));var Ze=V;for(++V;V<m&&a.test(h[V]);++V);ce.splice(Fe,0,new s(2,Ze,V)),De=V}else++V;De<m&&ce.splice(Fe,0,new s(1,De,m))}return 1==ce[0].level&&(te=c.match(/^\s+/))&&(ce[0].from=te[0].length,ce.unshift(new s(0,0,te[0].length))),1==_e(ce).level&&(te=c.match(/\s+$/))&&(_e(ce).to-=te[0].length,ce.push(new s(0,w-te[0].length,w))),2==ce[0].level&&ce.unshift(new s(1,ce[0].to,ce[0].to)),ce[0].level!=_e(ce).level&&ce.push(new s(ce[0].level,w,w)),ce}}();return $.version="5.15.2",$})},{}],11:[function(ue,ye,we){var Z;Z=function(O){"use strict";var oe=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;O.defineMode("gfm",function(k,S){var v=0,d={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(T){return{code:T.code,codeBlock:T.codeBlock,ateSpace:T.ateSpace}},token:function(T,N){if(N.combineTokens=null,N.codeBlock)return T.match(/^```+/)?(N.codeBlock=!1,null):(T.skipToEnd(),null);if(T.sol()&&(N.code=!1),T.sol()&&T.match(/^```+/))return T.skipToEnd(),N.codeBlock=!0,null;if("`"===T.peek()){T.next();var U=T.pos;T.eatWhile("`");var g=1+T.pos-U;return N.code?g===v&&(N.code=!1):(v=g,N.code=!0),null}return N.code?(T.next(),null):T.eatSpace()?(N.ateSpace=!0,null):(T.sol()||N.ateSpace)&&(N.ateSpace=!1,!1!==S.gitHubSpice)&&(T.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)||T.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))||T.match(oe)&&"]("!=T.string.slice(T.start-2,T.start)&&(0==T.start||/\W/.test(T.string.charAt(T.start-1)))?(N.combineTokens=!0,"link"):(T.next(),null)},blankLine:function(T){return T.code=!1,null}},j={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var _ in S)j[_]=S[_];return j.name="markdown",O.overlayMode(O.getMode(k,j),d)},"markdown"),O.defineMIME("text/x-gfm","gfm")},"object"==typeof we&&"object"==typeof ye?Z(ue("../../lib/codemirror"),ue("../markdown/markdown"),ue("../../addon/mode/overlay")):Z(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(ue,ye,we){var Z;Z=function(O){"use strict";O.defineMode("markdown",function(oe,k){var S=O.getMode(oe,"text/html"),v="null"==S.name;void 0===k.highlightFormatting&&(k.highlightFormatting=!1),void 0===k.maxBlockquoteDepth&&(k.maxBlockquoteDepth=0),void 0===k.underscoresBreakWords&&(k.underscoresBreakWords=!0),void 0===k.taskLists&&(k.taskLists=!1),void 0===k.strikethrough&&(k.strikethrough=!1),void 0===k.tokenTypeOverrides&&(k.tokenTypeOverrides={});var d={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var j in d)d.hasOwnProperty(j)&&k.tokenTypeOverrides[j]&&(d[j]=k.tokenTypeOverrides[j]);var _=/^([*\-_])(?:\s*\1){2,}\s*$/,T=/^[*\-+]\s+/,N=/^[0-9]+([.)])\s+/,U=/^\[(x| )\](?=\s)/,g=k.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,I=/^ *(?:\={1,}|-{1,})\s*$/,G=/^[^#!\[\]*_\\<>` "'(~]+/,F=new RegExp("^("+(!0===k.fencedCodeBlocks?"~~~+|```+":k.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)");function D(L,y,Me){return y.f=y.inline=Me,Me(L,y)}function M(L){return!L||!/\S/.test(L.string)}function de(L){return L.linkTitle=!1,L.em=!1,L.strong=!1,L.strikethrough=!1,L.quote=0,L.indentedCode=!1,v&&L.f==Q&&(L.f=W,L.block=ne),L.trailingSpace=0,L.trailingSpaceNewLine=!1,L.prevLine=L.thisLine,L.thisLine=null,null}function ne(L,y){var Me=L.sol(),l=!1!==y.list,u=y.indentedCode;y.indentedCode=!1,l&&(y.indentationDiff>=0?(y.indentationDiff<4&&(y.indentation-=y.indentationDiff),y.list=null):y.list=y.indentation>0&&null);var p=null;if(y.indentationDiff>=4)return L.skipToEnd(),u||M(y.prevLine)?(y.indentation-=4,y.indentedCode=!0,d.code):null;if(L.eatSpace())return null;if((p=L.match(g))&&p[1].length<=6)return y.header=p[1].length,k.highlightFormatting&&(y.formatting="header"),y.f=y.inline,se(y);if(!(M(y.prevLine)||y.quote||l||u)&&(p=L.match(I)))return y.header="="==p[0].charAt(0)?1:2,k.highlightFormatting&&(y.formatting="header"),y.f=y.inline,se(y);if(L.eat(">"))return y.quote=Me?1:y.quote+1,k.highlightFormatting&&(y.formatting="quote"),L.eatSpace(),se(y);if("["===L.peek())return D(L,y,He);if(L.match(_,!0))return y.hr=!0,d.hr;if((M(y.prevLine)||l)&&(L.match(T,!1)||L.match(N,!1))){var E=null;for(L.match(T,!0)?E="ul":(L.match(N,!0),E="ol"),y.indentation=L.column()+L.current().length,y.list=!0;y.listStack&&L.column()<y.listStack[y.listStack.length-1];)y.listStack.pop();return y.listStack.push(y.indentation),k.taskLists&&L.match(U,!1)&&(y.taskList=!0),y.f=y.inline,k.highlightFormatting&&(y.formatting=["list","list-"+E]),se(y)}return k.fencedCodeBlocks&&(p=L.match(F,!0))?(y.fencedChars=p[1],y.localMode=function(C){if(O.findModeByName){var B=O.findModeByName(C);B&&(C=B.mime||B.mimes[0])}var he=O.getMode(oe,C);return"null"==he.name?null:he}(p[2]),y.localMode&&(y.localState=O.startState(y.localMode)),y.f=y.block=xe,k.highlightFormatting&&(y.formatting="code-block"),y.code=-1,se(y)):D(L,y,y.inline)}function Q(L,y){var Me=S.token(L,y.htmlState);if(!v){var l=O.innerMode(S,y.htmlState);("xml"==l.mode.name&&null===l.state.tagStart&&!l.state.context&&l.state.tokenize.isInText||y.md_inside&&L.current().indexOf(">")>-1)&&(y.f=W,y.block=ne,y.htmlState=null)}return Me}function xe(L,y){return y.fencedChars&&L.match(y.fencedChars,!1)?(y.localMode=y.localState=null,y.f=y.block=le,null):y.localMode?y.localMode.token(L,y.localState):(L.skipToEnd(),d.code)}function le(L,y){L.match(y.fencedChars),y.block=ne,y.f=W,y.fencedChars=null,k.highlightFormatting&&(y.formatting="code-block"),y.code=1;var Me=se(y);return y.code=0,Me}function se(L){var y=[];if(L.formatting){y.push(d.formatting),"string"==typeof L.formatting&&(L.formatting=[L.formatting]);for(var Me=0;Me<L.formatting.length;Me++)y.push(d.formatting+"-"+L.formatting[Me]),"header"===L.formatting[Me]&&y.push(d.formatting+"-"+L.formatting[Me]+"-"+L.header),"quote"===L.formatting[Me]&&y.push(!k.maxBlockquoteDepth||k.maxBlockquoteDepth>=L.quote?d.formatting+"-"+L.formatting[Me]+"-"+L.quote:"error")}if(L.taskOpen)return y.push("meta"),y.length?y.join(" "):null;if(L.taskClosed)return y.push("property"),y.length?y.join(" "):null;if(L.linkHref?y.push(d.linkHref,"url"):(L.strong&&y.push(d.strong),L.em&&y.push(d.em),L.strikethrough&&y.push(d.strikethrough),L.linkText&&y.push(d.linkText),L.code&&y.push(d.code)),L.header&&y.push(d.header,d.header+"-"+L.header),L.quote&&(y.push(d.quote),y.push(!k.maxBlockquoteDepth||k.maxBlockquoteDepth>=L.quote?d.quote+"-"+L.quote:d.quote+"-"+k.maxBlockquoteDepth)),!1!==L.list){var l=(L.listStack.length-1)%3;y.push(l?1===l?d.list2:d.list3:d.list1)}return L.trailingSpaceNewLine?y.push("trailing-space-new-line"):L.trailingSpace&&y.push("trailing-space-"+(L.trailingSpace%2?"a":"b")),y.length?y.join(" "):null}function $(L,y){if(L.match(G,!0))return se(y)}function W(L,y){var Me=y.text(L,y);if(void 0!==Me)return Me;if(y.list)return y.list=null,se(y);if(y.taskList)return"x"!==L.match(U,!0)[1]?y.taskOpen=!0:y.taskClosed=!0,k.highlightFormatting&&(y.formatting="task"),y.taskList=!1,se(y);if(y.taskOpen=!1,y.taskClosed=!1,y.header&&L.match(/^#+$/,!0))return k.highlightFormatting&&(y.formatting="header"),se(y);var l,u,p,E=L.sol(),C=L.next();if(y.linkTitle){y.linkTitle=!1;var B=C;"("===C&&(B=")");var he="^\\s*(?:[^"+(B=(B+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+B;if(L.match(new RegExp(he),!0))return d.linkHref}if("`"===C){var Oe=y.formatting;k.highlightFormatting&&(y.formatting="code"),L.eatWhile("`");var re=L.current().length;if(0==y.code)return y.code=re,se(y);if(re==y.code){var Pe=se(y);return y.code=0,Pe}return y.formatting=Oe,se(y)}if(y.code)return se(y);if("\\"===C&&(L.next(),k.highlightFormatting)){var x=se(y),P=d.formatting+"-escape";return x?x+" "+P:P}if("!"===C&&L.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return L.match(/\[[^\]]*\]/),y.inline=y.f=fe,d.image;if("["===C&&L.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return y.linkText=!0,k.highlightFormatting&&(y.formatting="link"),se(y);if("]"===C&&y.linkText&&L.match(/\(.*?\)| ?\[.*?\]/,!1))return k.highlightFormatting&&(y.formatting="link"),x=se(y),y.linkText=!1,y.inline=y.f=fe,x;if("<"===C&&L.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return y.f=y.inline=pe,k.highlightFormatting&&(y.formatting="link"),(x=se(y))?x+=" ":x="",x+d.linkInline;if("<"===C&&L.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return y.f=y.inline=pe,k.highlightFormatting&&(y.formatting="link"),(x=se(y))?x+=" ":x="",x+d.linkEmail;if("<"===C&&L.match(/^(!--|\w)/,!1)){var Y=L.string.indexOf(">",L.pos);if(-1!=Y){var z=L.string.substring(L.start,Y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(z)&&(y.md_inside=!0)}return L.backUp(1),y.htmlState=O.startState(S),l=L,(u=y).f=u.block=p=Q,p(l,u)}if("<"===C&&L.match(/^\/\w*?>/))return y.md_inside=!1,"tag";var J=!1;if(!k.underscoresBreakWords&&"_"===C&&"_"!==L.peek()&&L.match(/(\w)/,!1)){var q=L.pos-2;if(q>=0){var ie=L.string.charAt(q);"_"!==ie&&ie.match(/(\w)/,!1)&&(J=!0)}}if("*"===C||"_"===C&&!J){if(!E||" "!==L.peek()){if(y.strong===C&&L.eat(C))return k.highlightFormatting&&(y.formatting="strong"),Pe=se(y),y.strong=!1,Pe;if(!y.strong&&L.eat(C))return y.strong=C,k.highlightFormatting&&(y.formatting="strong"),se(y);if(y.em===C)return k.highlightFormatting&&(y.formatting="em"),Pe=se(y),y.em=!1,Pe;if(!y.em)return y.em=C,k.highlightFormatting&&(y.formatting="em"),se(y)}}else if(" "===C&&(L.eat("*")||L.eat("_"))){if(" "===L.peek())return se(y);L.backUp(1)}if(k.strikethrough)if("~"===C&&L.eatWhile(C)){if(y.strikethrough)return k.highlightFormatting&&(y.formatting="strikethrough"),Pe=se(y),y.strikethrough=!1,Pe;if(L.match(/^[^\s]/,!1))return y.strikethrough=!0,k.highlightFormatting&&(y.formatting="strikethrough"),se(y)}else if(" "===C&&L.match(/^~~/,!0)){if(" "===L.peek())return se(y);L.backUp(2)}return" "===C&&(L.match(/ +$/,!1)?y.trailingSpace++:y.trailingSpace&&(y.trailingSpaceNewLine=!0)),se(y)}function pe(L,y){if(">"===L.next()){y.f=y.inline=W,k.highlightFormatting&&(y.formatting="link");var Me=se(y);return Me?Me+=" ":Me="",Me+d.linkInline}return L.match(/^[^>]+/,!0),d.linkInline}function fe(L,y){if(L.eatSpace())return null;var Me,l=L.next();return"("===l||"["===l?(y.f=y.inline=(Me="("===l?")":"]",function(u,p){if(u.next()===Me){p.f=p.inline=W,k.highlightFormatting&&(p.formatting="link-string");var C=se(p);return p.linkHref=!1,C}return u.match(Ce[Me]),p.linkHref=!0,se(p)}),k.highlightFormatting&&(y.formatting="link-string"),y.linkHref=!0,se(y)):"error"}var Ce={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/};function He(L,y){return L.match(/^([^\]\\]|\\.)*\]:/,!1)?(y.f=ze,L.next(),k.highlightFormatting&&(y.formatting="link"),y.linkText=!0,se(y)):D(L,y,W)}function ze(L,y){if(L.match(/^\]:/,!0)){y.f=y.inline=Ve,k.highlightFormatting&&(y.formatting="link");var Me=se(y);return y.linkText=!1,Me}return L.match(/^([^\]\\]|\\.)+/,!0),d.linkText}function Ve(L,y){return L.eatSpace()?null:(L.match(/^[^\s]+/,!0),void 0===L.peek()?y.linkTitle=!0:L.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),y.f=y.inline=W,d.linkHref+" url")}var Ye={startState:function(){return{f:ne,prevLine:null,thisLine:null,block:ne,htmlState:null,indentation:0,inline:W,text:$,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(L){return{f:L.f,prevLine:L.prevLine,thisLine:L.thisLine,block:L.block,htmlState:L.htmlState&&O.copyState(S,L.htmlState),indentation:L.indentation,localMode:L.localMode,localState:L.localMode?O.copyState(L.localMode,L.localState):null,inline:L.inline,text:L.text,formatting:!1,linkTitle:L.linkTitle,code:L.code,em:L.em,strong:L.strong,strikethrough:L.strikethrough,header:L.header,hr:L.hr,taskList:L.taskList,list:L.list,listStack:L.listStack.slice(0),quote:L.quote,indentedCode:L.indentedCode,trailingSpace:L.trailingSpace,trailingSpaceNewLine:L.trailingSpaceNewLine,md_inside:L.md_inside,fencedChars:L.fencedChars}},token:function(L,y){if(y.formatting=!1,L!=y.thisLine){var Me=y.header||y.hr;if(y.header=0,y.hr=!1,L.match(/^\s*$/,!0)||Me){if(de(y),!Me)return null;y.prevLine=null}y.prevLine=y.thisLine,y.thisLine=L,y.taskList=!1,y.trailingSpace=0,y.trailingSpaceNewLine=!1,y.f=y.block;var l=L.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(y.indentationDiff=Math.min(l-y.indentation,4),y.indentation=y.indentation+y.indentationDiff,l>0)return null}return y.f(L,y)},innerMode:function(L){return L.block==Q?{state:L.htmlState,mode:S}:L.localState?{state:L.localState,mode:L.localMode}:{state:L,mode:Ye}},blankLine:de,getType:se,fold:"markdown"};return Ye},"xml"),O.defineMIME("text/x-markdown","markdown")},"object"==typeof we&&"object"==typeof ye?Z(ue("../../lib/codemirror"),ue("../xml/xml"),ue("../meta")):Z(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(ue,ye,we){!function(Z){"use strict";Z.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var O=0;O<Z.modeInfo.length;O++){var oe=Z.modeInfo[O];oe.mimes&&(oe.mime=oe.mimes[0])}Z.findModeByMIME=function(k){k=k.toLowerCase();for(var S=0;S<Z.modeInfo.length;S++){var v=Z.modeInfo[S];if(v.mime==k)return v;if(v.mimes)for(var d=0;d<v.mimes.length;d++)if(v.mimes[d]==k)return v}},Z.findModeByExtension=function(k){for(var S=0;S<Z.modeInfo.length;S++){var v=Z.modeInfo[S];if(v.ext)for(var d=0;d<v.ext.length;d++)if(v.ext[d]==k)return v}},Z.findModeByFileName=function(k){for(var S=0;S<Z.modeInfo.length;S++){var v=Z.modeInfo[S];if(v.file&&v.file.test(k))return v}var d=k.lastIndexOf("."),j=d>-1&&k.substring(d+1,k.length);if(j)return Z.findModeByExtension(j)},Z.findModeByName=function(k){k=k.toLowerCase();for(var S=0;S<Z.modeInfo.length;S++){var v=Z.modeInfo[S];if(v.name.toLowerCase()==k)return v;if(v.alias)for(var d=0;d<v.alias.length;d++)if(v.alias[d].toLowerCase()==k)return v}}}("object"==typeof we&&"object"==typeof ye?ue("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":10}],14:[function(ue,ye,we){!function(Z){"use strict";var O={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},oe={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};Z.defineMode("xml",function(k,S){var v,d,j=k.indentUnit,_={},T=S.htmlMode?O:oe;for(var N in T)_[N]=T[N];for(var N in S)_[N]=S[N];function U(W,pe){function fe(He){return pe.tokenize=He,He(W,pe)}var Ce=W.next();return"<"==Ce?W.eat("!")?W.eat("[")?W.match("CDATA[")?fe(I("atom","]]>")):null:W.match("--")?fe(I("comment","--\x3e")):W.match("DOCTYPE",!0,!0)?(W.eatWhile(/[\w\._\-]/),fe(function He(ze){return function(Ve,Ye){for(var L;null!=(L=Ve.next());){if("<"==L)return Ye.tokenize=He(ze+1),Ye.tokenize(Ve,Ye);if(">"==L){if(1==ze){Ye.tokenize=U;break}return Ye.tokenize=He(ze-1),Ye.tokenize(Ve,Ye)}}return"meta"}}(1))):null:W.eat("?")?(W.eatWhile(/[\w\._\-]/),pe.tokenize=I("meta","?>"),"meta"):(v=W.eat("/")?"closeTag":"openTag",pe.tokenize=g,"tag bracket"):"&"==Ce?(W.eat("#")?W.eat("x")?W.eatWhile(/[a-fA-F\d]/)&&W.eat(";"):W.eatWhile(/[\d]/)&&W.eat(";"):W.eatWhile(/[\w\.\-:]/)&&W.eat(";"))?"atom":"error":(W.eatWhile(/[^&<]/),null)}function g(W,pe){var fe,Ce,He=W.next();if(">"==He||"/"==He&&W.eat(">"))return pe.tokenize=U,v=">"==He?"endTag":"selfcloseTag","tag bracket";if("="==He)return v="equals",null;if("<"==He){pe.tokenize=U,pe.state=D,pe.tagName=pe.tagStart=null;var ze=pe.tokenize(W,pe);return ze?ze+" tag error":"tag error"}return/[\'\"]/.test(He)?(pe.tokenize=(fe=He,(Ce=function(Ve,Ye){for(;!Ve.eol();)if(Ve.next()==fe){Ye.tokenize=g;break}return"string"}).isInAttribute=!0,Ce),pe.stringStartCol=W.column(),pe.tokenize(W,pe)):(W.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function I(W,pe){return function(fe,Ce){for(;!fe.eol();){if(fe.match(pe)){Ce.tokenize=U;break}fe.next()}return W}}function G(W){W.context&&(W.context=W.context.prev)}function F(W,pe){for(var fe;;){if(!W.context||!_.contextGrabbers.hasOwnProperty(fe=W.context.tagName)||!_.contextGrabbers[fe].hasOwnProperty(pe))return;G(W)}}function D(W,pe,fe){return"openTag"==W?(fe.tagStart=pe.column(),M):"closeTag"==W?de:D}function M(W,pe,fe){return"word"==W?(fe.tagName=pe.current(),d="tag",xe):(d="error",M)}function de(W,pe,fe){if("word"==W){var Ce=pe.current();return fe.context&&fe.context.tagName!=Ce&&_.implicitlyClosed.hasOwnProperty(fe.context.tagName)&&G(fe),fe.context&&fe.context.tagName==Ce||!1===_.matchClosing?(d="tag",ne):(d="tag error",Q)}return d="error",Q}function ne(W,pe,fe){return"endTag"!=W?(d="error",ne):(G(fe),D)}function Q(W,pe,fe){return d="error",ne(W,0,fe)}function xe(W,pe,fe){if("word"==W)return d="attribute",le;if("endTag"==W||"selfcloseTag"==W){var Ce=fe.tagName,He=fe.tagStart;return fe.tagName=fe.tagStart=null,"selfcloseTag"==W||_.autoSelfClosers.hasOwnProperty(Ce)?F(fe,Ce):(F(fe,Ce),fe.context=new function(ze,Ve,Ye){this.prev=ze.context,this.tagName=Ve,this.indent=ze.indented,this.startOfLine=Ye,(_.doNotIndent.hasOwnProperty(Ve)||ze.context&&ze.context.noIndent)&&(this.noIndent=!0)}(fe,Ce,He==fe.indented)),D}return d="error",xe}function le(W,pe,fe){return"equals"==W?se:(_.allowMissing||(d="error"),xe(W,0,fe))}function se(W,pe,fe){return"string"==W?$:"word"==W&&_.allowUnquoted?(d="string",xe):(d="error",xe(W,0,fe))}function $(W,pe,fe){return"string"==W?$:xe(W,0,fe)}return U.isInText=!0,{startState:function(W){var pe={tokenize:U,state:D,indented:W||0,tagName:null,tagStart:null,context:null};return null!=W&&(pe.baseIndent=W),pe},token:function(W,pe){if(!pe.tagName&&W.sol()&&(pe.indented=W.indentation()),W.eatSpace())return null;v=null;var fe=pe.tokenize(W,pe);return(fe||v)&&"comment"!=fe&&(d=null,pe.state=pe.state(v||fe,W,pe),d&&(fe="error"==d?fe+" error":d)),fe},indent:function(W,pe,fe){var Ce=W.context;if(W.tokenize.isInAttribute)return W.tagStart==W.indented?W.stringStartCol+1:W.indented+j;if(Ce&&Ce.noIndent)return Z.Pass;if(W.tokenize!=g&&W.tokenize!=U)return fe?fe.match(/^(\s*)/)[0].length:0;if(W.tagName)return!1!==_.multilineTagIndentPastTag?W.tagStart+W.tagName.length+2:W.tagStart+j*(_.multilineTagIndentFactor||1);if(_.alignCDATA&&/<!\[CDATA\[/.test(pe))return 0;var He=pe&&/^<(\/)?([\w_:\.-]*)/.exec(pe);if(He&&He[1])for(;Ce;){if(Ce.tagName==He[2]){Ce=Ce.prev;break}if(!_.implicitlyClosed.hasOwnProperty(Ce.tagName))break;Ce=Ce.prev}else if(He)for(;Ce;){var ze=_.contextGrabbers[Ce.tagName];if(!ze||!ze.hasOwnProperty(He[2]))break;Ce=Ce.prev}for(;Ce&&Ce.prev&&!Ce.startOfLine;)Ce=Ce.prev;return Ce?Ce.indent+j:W.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:_.htmlMode?"html":"xml",helperType:_.htmlMode?"html":"xml",skipAttribute:function(W){W.state==se&&(W.state=xe)}}}),Z.defineMIME("text/xml","xml"),Z.defineMIME("application/xml","xml"),Z.mimeModes.hasOwnProperty("text/html")||Z.defineMIME("text/html",{name:"xml",htmlMode:!0})}("object"==typeof we&&"object"==typeof ye?ue("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],15:[function(ue,ye,we){we.read=function(Z,O,oe,k,S){var v,d,j=8*S-k-1,_=(1<<j)-1,T=_>>1,N=-7,U=oe?S-1:0,g=oe?-1:1,I=Z[O+U];for(U+=g,v=I&(1<<-N)-1,I>>=-N,N+=j;N>0;v=256*v+Z[O+U],U+=g,N-=8);for(d=v&(1<<-N)-1,v>>=-N,N+=k;N>0;d=256*d+Z[O+U],U+=g,N-=8);if(0===v)v=1-T;else{if(v===_)return d?NaN:1/0*(I?-1:1);d+=Math.pow(2,k),v-=T}return(I?-1:1)*d*Math.pow(2,v-k)},we.write=function(Z,O,oe,k,S,v){var d,j,_,T=8*v-S-1,N=(1<<T)-1,U=N>>1,g=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,I=k?0:v-1,G=k?1:-1,F=O<0||0===O&&1/O<0?1:0;for(O=Math.abs(O),isNaN(O)||O===1/0?(j=isNaN(O)?1:0,d=N):(d=Math.floor(Math.log(O)/Math.LN2),O*(_=Math.pow(2,-d))<1&&(d--,_*=2),(O+=d+U>=1?g/_:g*Math.pow(2,1-U))*_>=2&&(d++,_/=2),d+U>=N?(j=0,d=N):d+U>=1?(j=(O*_-1)*Math.pow(2,S),d+=U):(j=O*Math.pow(2,U-1)*Math.pow(2,S),d=0));S>=8;Z[oe+I]=255&j,I+=G,j/=256,S-=8);for(d=d<<S|j,T+=S;T>0;Z[oe+I]=255&d,I+=G,d/=256,T-=8);Z[oe+I-G]|=128*F}},{}],16:[function(ue,ye,we){var Z={}.toString;ye.exports=Array.isArray||function(O){return"[object Array]"==Z.call(O)}},{}],17:[function(ue,ye,we){(function(Z){(function(){var O={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:T,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:T,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:T,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function oe(g){this.tokens=[],this.tokens.links={},this.options=g||U.defaults,this.rules=O.normal,this.options.gfm&&(this.rules=this.options.tables?O.tables:O.gfm)}O.bullet=/(?:[*+-]|\d+\.)/,O.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,O.item=_(O.item,"gm")(/bull/g,O.bullet)(),O.list=_(O.list)(/bull/g,O.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+O.def.source+")")(),O.blockquote=_(O.blockquote)("def",O.def)(),O._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",O.html=_(O.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,O._tag)(),O.paragraph=_(O.paragraph)("hr",O.hr)("heading",O.heading)("lheading",O.lheading)("blockquote",O.blockquote)("tag","<"+O._tag)("def",O.def)(),O.normal=N({},O),O.gfm=N({},O.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),O.gfm.paragraph=_(O.paragraph)("(?!","(?!"+O.gfm.fences.source.replace("\\1","\\2")+"|"+O.list.source.replace("\\1","\\3")+"|")(),O.tables=N({},O.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),oe.rules=O,oe.lex=function(g,I){return new oe(I).lex(g)},oe.prototype.lex=function(g){return g=g.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(g,!0)},oe.prototype.token=function(g,I,G){var F,D,M,de,ne,Q,xe,le,se;for(g=g.replace(/^ +$/gm,"");g;)if((M=this.rules.newline.exec(g))&&(g=g.substring(M[0].length),M[0].length>1&&this.tokens.push({type:"space"})),M=this.rules.code.exec(g))g=g.substring(M[0].length),M=M[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?M:M.replace(/\n+$/,"")});else if(M=this.rules.fences.exec(g))g=g.substring(M[0].length),this.tokens.push({type:"code",lang:M[2],text:M[3]||""});else if(M=this.rules.heading.exec(g))g=g.substring(M[0].length),this.tokens.push({type:"heading",depth:M[1].length,text:M[2]});else if(I&&(M=this.rules.nptable.exec(g))){for(g=g.substring(M[0].length),Q={type:"table",header:M[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:M[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:M[3].replace(/\n$/,"").split("\n")},le=0;le<Q.align.length;le++)Q.align[le]=/^ *-+: *$/.test(Q.align[le])?"right":/^ *:-+: *$/.test(Q.align[le])?"center":/^ *:-+ *$/.test(Q.align[le])?"left":null;for(le=0;le<Q.cells.length;le++)Q.cells[le]=Q.cells[le].split(/ *\| */);this.tokens.push(Q)}else if(M=this.rules.lheading.exec(g))g=g.substring(M[0].length),this.tokens.push({type:"heading",depth:"="===M[2]?1:2,text:M[1]});else if(M=this.rules.hr.exec(g))g=g.substring(M[0].length),this.tokens.push({type:"hr"});else if(M=this.rules.blockquote.exec(g))g=g.substring(M[0].length),this.tokens.push({type:"blockquote_start"}),M=M[0].replace(/^ *> ?/gm,""),this.token(M,I,!0),this.tokens.push({type:"blockquote_end"});else if(M=this.rules.list.exec(g)){for(g=g.substring(M[0].length),this.tokens.push({type:"list_start",ordered:(de=M[2]).length>1}),F=!1,se=(M=M[0].match(this.rules.item)).length,le=0;le<se;le++)xe=(Q=M[le]).length,~(Q=Q.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(xe-=Q.length,Q=Q.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+xe+"}","gm"),"")),this.options.smartLists&&le!==se-1&&(de===(ne=O.bullet.exec(M[le+1])[0])||de.length>1&&ne.length>1||(g=M.slice(le+1).join("\n")+g,le=se-1)),D=F||/\n\n(?!\s*$)/.test(Q),le!==se-1&&(F="\n"===Q.charAt(Q.length-1),D||(D=F)),this.tokens.push({type:D?"loose_item_start":"list_item_start"}),this.token(Q,!1,G),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(M=this.rules.html.exec(g))g=g.substring(M[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===M[1]||"script"===M[1]||"style"===M[1]),text:M[0]});else if(!G&&I&&(M=this.rules.def.exec(g)))g=g.substring(M[0].length),this.tokens.links[M[1].toLowerCase()]={href:M[2],title:M[3]};else if(I&&(M=this.rules.table.exec(g))){for(g=g.substring(M[0].length),Q={type:"table",header:M[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:M[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:M[3].replace(/(?: *\| *)?\n$/,"").split("\n")},le=0;le<Q.align.length;le++)Q.align[le]=/^ *-+: *$/.test(Q.align[le])?"right":/^ *:-+: *$/.test(Q.align[le])?"center":/^ *:-+ *$/.test(Q.align[le])?"left":null;for(le=0;le<Q.cells.length;le++)Q.cells[le]=Q.cells[le].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(Q)}else if(I&&(M=this.rules.paragraph.exec(g)))g=g.substring(M[0].length),this.tokens.push({type:"paragraph",text:"\n"===M[1].charAt(M[1].length-1)?M[1].slice(0,-1):M[1]});else if(M=this.rules.text.exec(g))g=g.substring(M[0].length),this.tokens.push({type:"text",text:M[0]});else if(g)throw new Error("Infinite loop on byte: "+g.charCodeAt(0));return this.tokens};var k={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:T,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:T,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function S(g,I){if(this.options=I||U.defaults,this.links=g,this.rules=k.normal,this.renderer=this.options.renderer||new v,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?k.breaks:k.gfm:this.options.pedantic&&(this.rules=k.pedantic)}function v(g){this.options=g||{}}function d(g){this.tokens=[],this.token=null,this.options=g||U.defaults,this.options.renderer=this.options.renderer||new v,this.renderer=this.options.renderer,this.renderer.options=this.options}function j(g,I){return g.replace(I?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function _(g,I){return g=g.source,I=I||"",function G(F,D){return F?(D=(D=D.source||D).replace(/(^|[^\[])\^/g,"$1"),g=g.replace(F,D),G):new RegExp(g,I)}}function T(){}function N(g){for(var I,G,F=1;F<arguments.length;F++)for(G in I=arguments[F])Object.prototype.hasOwnProperty.call(I,G)&&(g[G]=I[G]);return g}function U(g,I,G){if(G||"function"==typeof I){G||(G=I,I=null);var F,D,M=(I=N({},U.defaults,I||{})).highlight,de=0;try{F=oe.lex(g,I)}catch(Q){return G(Q)}D=F.length;var ne=function(Q){if(Q)return I.highlight=M,G(Q);var xe;try{xe=d.parse(F,I)}catch(le){Q=le}return I.highlight=M,Q?G(Q):G(null,xe)};if(!M||M.length<3||(delete I.highlight,!D))return ne();for(;de<F.length;de++)!function(Q){"code"!==Q.type?--D||ne():M(Q.text,Q.lang,function(xe,le){return xe?ne(xe):null==le||le===Q.text?--D||ne():(Q.text=le,Q.escaped=!0,void(--D||ne()))})}(F[de])}else try{return I&&(I=N({},U.defaults,I)),d.parse(oe.lex(g,I),I)}catch(Q){if(Q.message+="\nPlease report this to https://github.com/chjj/marked.",(I||U.defaults).silent)return"<p>An error occured:</p><pre>"+j(Q.message+"",!0)+"</pre>";throw Q}}k._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,k._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,k.link=_(k.link)("inside",k._inside)("href",k._href)(),k.reflink=_(k.reflink)("inside",k._inside)(),k.normal=N({},k),k.pedantic=N({},k.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),k.gfm=N({},k.normal,{escape:_(k.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:_(k.text)("]|","~]|")("|","|https?://|")()}),k.breaks=N({},k.gfm,{br:_(k.br)("{2,}","*")(),text:_(k.gfm.text)("{2,}","*")()}),S.rules=k,S.output=function(g,I,G){return new S(I,G).output(g)},S.prototype.output=function(g){for(var I,G,F,D,M="";g;)if(D=this.rules.escape.exec(g))g=g.substring(D[0].length),M+=D[1];else if(D=this.rules.autolink.exec(g))g=g.substring(D[0].length),"@"===D[2]?(G=":"===D[1].charAt(6)?this.mangle(D[1].substring(7)):this.mangle(D[1]),F=this.mangle("mailto:")+G):F=G=j(D[1]),M+=this.renderer.link(F,null,G);else if(this.inLink||!(D=this.rules.url.exec(g))){if(D=this.rules.tag.exec(g))!this.inLink&&/^<a /i.test(D[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(D[0])&&(this.inLink=!1),g=g.substring(D[0].length),M+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(D[0]):j(D[0]):D[0];else if(D=this.rules.link.exec(g))g=g.substring(D[0].length),this.inLink=!0,M+=this.outputLink(D,{href:D[2],title:D[3]}),this.inLink=!1;else if((D=this.rules.reflink.exec(g))||(D=this.rules.nolink.exec(g))){if(g=g.substring(D[0].length),I=(D[2]||D[1]).replace(/\s+/g," "),!(I=this.links[I.toLowerCase()])||!I.href){M+=D[0].charAt(0),g=D[0].substring(1)+g;continue}this.inLink=!0,M+=this.outputLink(D,I),this.inLink=!1}else if(D=this.rules.strong.exec(g))g=g.substring(D[0].length),M+=this.renderer.strong(this.output(D[2]||D[1]));else if(D=this.rules.em.exec(g))g=g.substring(D[0].length),M+=this.renderer.em(this.output(D[2]||D[1]));else if(D=this.rules.code.exec(g))g=g.substring(D[0].length),M+=this.renderer.codespan(j(D[2],!0));else if(D=this.rules.br.exec(g))g=g.substring(D[0].length),M+=this.renderer.br();else if(D=this.rules.del.exec(g))g=g.substring(D[0].length),M+=this.renderer.del(this.output(D[1]));else if(D=this.rules.text.exec(g))g=g.substring(D[0].length),M+=this.renderer.text(j(this.smartypants(D[0])));else if(g)throw new Error("Infinite loop on byte: "+g.charCodeAt(0))}else g=g.substring(D[0].length),F=G=j(D[1]),M+=this.renderer.link(F,null,G);return M},S.prototype.outputLink=function(g,I){var G=j(I.href),F=I.title?j(I.title):null;return"!"!==g[0].charAt(0)?this.renderer.link(G,F,this.output(g[1])):this.renderer.image(G,F,j(g[1]))},S.prototype.smartypants=function(g){return this.options.smartypants?g.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):g},S.prototype.mangle=function(g){if(!this.options.mangle)return g;for(var I,G="",F=g.length,D=0;D<F;D++)I=g.charCodeAt(D),Math.random()>.5&&(I="x"+I.toString(16)),G+="&#"+I+";";return G},v.prototype.code=function(g,I,G){if(this.options.highlight){var F=this.options.highlight(g,I);null!=F&&F!==g&&(G=!0,g=F)}return I?'<pre><code class="'+this.options.langPrefix+j(I,!0)+'">'+(G?g:j(g,!0))+"\n</code></pre>\n":"<pre><code>"+(G?g:j(g,!0))+"\n</code></pre>"},v.prototype.blockquote=function(g){return"<blockquote>\n"+g+"</blockquote>\n"},v.prototype.html=function(g){return g},v.prototype.heading=function(g,I,G){return"<h"+I+' id="'+this.options.headerPrefix+G.toLowerCase().replace(/[^\w]+/g,"-")+'">'+g+"</h"+I+">\n"},v.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},v.prototype.list=function(g,I){var G=I?"ol":"ul";return"<"+G+">\n"+g+"</"+G+">\n"},v.prototype.listitem=function(g){return"<li>"+g+"</li>\n"},v.prototype.paragraph=function(g){return"<p>"+g+"</p>\n"},v.prototype.table=function(g,I){return"<table>\n<thead>\n"+g+"</thead>\n<tbody>\n"+I+"</tbody>\n</table>\n"},v.prototype.tablerow=function(g){return"<tr>\n"+g+"</tr>\n"},v.prototype.tablecell=function(g,I){var G=I.header?"th":"td";return(I.align?"<"+G+' style="text-align:'+I.align+'">':"<"+G+">")+g+"</"+G+">\n"},v.prototype.strong=function(g){return"<strong>"+g+"</strong>"},v.prototype.em=function(g){return"<em>"+g+"</em>"},v.prototype.codespan=function(g){return"<code>"+g+"</code>"},v.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},v.prototype.del=function(g){return"<del>"+g+"</del>"},v.prototype.link=function(g,I,G){if(this.options.sanitize){try{var F=decodeURIComponent((D=g,D.replace(/&([#\w]+);/g,function(de,ne){return"colon"===(ne=ne.toLowerCase())?":":"#"===ne.charAt(0)?"x"===ne.charAt(1)?String.fromCharCode(parseInt(ne.substring(2),16)):String.fromCharCode(+ne.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(de){return""}if(0===F.indexOf("javascript:")||0===F.indexOf("vbscript:"))return""}var D,M='<a href="'+g+'"';return I&&(M+=' title="'+I+'"'),M+">"+G+"</a>"},v.prototype.image=function(g,I,G){var F='<img src="'+g+'" alt="'+G+'"';return I&&(F+=' title="'+I+'"'),F+(this.options.xhtml?"/>":">")},v.prototype.text=function(g){return g},d.parse=function(g,I,G){return new d(I,G).parse(g)},d.prototype.parse=function(g){this.inline=new S(g.links,this.options,this.renderer),this.tokens=g.reverse();for(var I="";this.next();)I+=this.tok();return I},d.prototype.next=function(){return this.token=this.tokens.pop()},d.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},d.prototype.parseText=function(){for(var g=this.token.text;"text"===this.peek().type;)g+="\n"+this.next().text;return this.inline.output(g)},d.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var g,I,G,F,D="",M="";for(G="",g=0;g<this.token.header.length;g++)G+=this.renderer.tablecell(this.inline.output(this.token.header[g]),{header:!0,align:this.token.align[g]});for(D+=this.renderer.tablerow(G),g=0;g<this.token.cells.length;g++){for(I=this.token.cells[g],G="",F=0;F<I.length;F++)G+=this.renderer.tablecell(this.inline.output(I[F]),{header:!1,align:this.token.align[F]});M+=this.renderer.tablerow(G)}return this.renderer.table(D,M);case"blockquote_start":for(M="";"blockquote_end"!==this.next().type;)M+=this.tok();return this.renderer.blockquote(M);case"list_start":M="";for(var de=this.token.ordered;"list_end"!==this.next().type;)M+=this.tok();return this.renderer.list(M,de);case"list_item_start":for(M="";"list_item_end"!==this.next().type;)M+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(M);case"loose_item_start":for(M="";"list_item_end"!==this.next().type;)M+=this.tok();return this.renderer.listitem(M);case"html":var ne=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(ne);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},T.exec=T,U.options=U.setOptions=function(g){return N(U.defaults,g),U},U.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new v,xhtml:!1},U.Parser=d,U.parser=d.parse,U.Renderer=v,U.Lexer=oe,U.lexer=oe.lex,U.InlineLexer=S,U.inlineLexer=S.output,U.parse=U,void 0!==ye&&"object"==typeof we?ye.exports=U:this.marked=U}).call(function(){return this||("undefined"!=typeof window?window:Z)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(ue,ye,we){(function(Z,O){"use strict";var oe=function(k,S,v,d){if(d=d||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=d.flags||{},k){if(this.dictionary=k,"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)S||(S=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+k+"/"+k+".aff"))),v||(v=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+k+"/"+k+".dic")));else{if(d.dictionaryPath)var j=d.dictionaryPath;else j=void 0!==O?O+"/dictionaries":"./dictionaries";S||(S=this._readFile(j+"/"+k+"/"+k+".aff")),v||(v=this._readFile(j+"/"+k+"/"+k+".dic"))}this.rules=this._parseAFF(S),this.compoundRuleCodes={};for(var _=0,T=this.compoundRules.length;_<T;_++)for(var N=this.compoundRules[_],U=0,g=N.length;U<g;U++)this.compoundRuleCodes[N[U]]=[];for(var _ in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(v),this.compoundRuleCodes)0==this.compoundRuleCodes[_].length&&delete this.compoundRuleCodes[_];for(_=0,T=this.compoundRules.length;_<T;_++){var I=this.compoundRules[_],G="";for(U=0,g=I.length;U<g;U++){var F=I[U];G+=F in this.compoundRuleCodes?"("+this.compoundRuleCodes[F].join("|")+")":F}this.compoundRules[_]=new RegExp(G,"i")}}return this};oe.prototype={load:function(k){for(var S in k)this[S]=k[S];return this},_readFile:function(k,S){if(S||(S="utf8"),"undefined"!=typeof XMLHttpRequest){var v=new XMLHttpRequest;return v.open("GET",k,!1),v.overrideMimeType&&v.overrideMimeType("text/plain; charset="+S),v.send(null),v.responseText}if(void 0!==ue){var d=ue("fs");try{if(d.existsSync(k)){var j=d.statSync(k),_=d.openSync(k,"r"),T=new Z(j.size);return d.readSync(_,T,0,T.length,null),T.toString(S,0,T.length)}console.log("Path "+k+" does not exist.")}catch(N){return console.log(N),""}}},_parseAFF:function(k){for(var S={},v=(k=this._removeAffixComments(k)).split("\n"),d=0,j=v.length;d<j;d++){var _=(le=v[d]).split(/\s+/),T=_[0];if("PFX"==T||"SFX"==T){for(var N=_[1],U=_[2],g=[],I=d+1,G=d+1+(xe=parseInt(_[3],10));I<G;I++){var F=(se=(le=v[I]).split(/\s+/))[2],D=se[3].split("/"),M=D[0];"0"===M&&(M="");var de=this.parseRuleCodes(D[1]),ne=se[4],Q={};Q.add=M,de.length>0&&(Q.continuationClasses=de),"."!==ne&&(Q.match="SFX"===T?new RegExp(ne+"$"):new RegExp("^"+ne)),"0"!=F&&(Q.remove="SFX"===T?new RegExp(F+"$"):F),g.push(Q)}S[N]={type:T,combineable:"Y"==U,entries:g},d+=xe}else if("COMPOUNDRULE"===T){var xe;for(I=d+1,G=d+1+(xe=parseInt(_[1],10));I<G;I++){var le,se=(le=v[I]).split(/\s+/);this.compoundRules.push(se[1])}d+=xe}else"REP"===T?3===(se=le.split(/\s+/)).length&&this.replacementTable.push([se[1],se[2]]):this.flags[T]=_[1]}return S},_removeAffixComments:function(k){return(k=(k=(k=k.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(k){var S=(k=this._removeDicComments(k)).split("\n"),v={};function d(pe,fe){pe in v&&"object"==typeof v[pe]||(v[pe]=[]),v[pe].push(fe)}for(var j=1,_=S.length;j<_;j++){var T=S[j].split("/",2),N=T[0];if(T.length>1){var U=this.parseRuleCodes(T[1]);"NEEDAFFIX"in this.flags&&-1!=U.indexOf(this.flags.NEEDAFFIX)||d(N,U);for(var g=0,I=U.length;g<I;g++){var G=U[g],F=this.rules[G];if(F)for(var D=this._applyRule(N,F),M=0,de=D.length;M<de;M++){var ne=D[M];if(d(ne,[]),F.combineable)for(var Q=g+1;Q<I;Q++){var le=this.rules[U[Q]];if(le&&le.combineable&&F.type!=le.type)for(var se=this._applyRule(ne,le),$=0,W=se.length;$<W;$++)d(se[$],[])}}G in this.compoundRuleCodes&&this.compoundRuleCodes[G].push(N)}}else d(N.trim(),[])}return v},_removeDicComments:function(k){return k.replace(/^\t.*$/gm,"")},parseRuleCodes:function(k){if(!k)return[];if(!("FLAG"in this.flags))return k.split("");if("long"===this.flags.FLAG){for(var S=[],v=0,d=k.length;v<d;v+=2)S.push(k.substr(v,2));return S}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(k,S){for(var v=S.entries,d=[],j=0,_=v.length;j<_;j++){var T=v[j];if(!T.match||k.match(T.match)){var N=k;if(T.remove&&(N=N.replace(T.remove,"")),"SFX"===S.type?N+=T.add:N=T.add+N,d.push(N),"continuationClasses"in T)for(var U=0,g=T.continuationClasses.length;U<g;U++){var I=this.rules[T.continuationClasses[U]];I&&(d=d.concat(this._applyRule(N,I)))}}}return d},check:function(k){var S=k.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(S))return!0;if(S.toUpperCase()===S){var v=S[0]+S.substring(1).toLowerCase();if(this.hasFlag(v,"KEEPCASE"))return!1;if(this.checkExact(v))return!0}var d=S.toLowerCase();if(d!==S){if(this.hasFlag(d,"KEEPCASE"))return!1;if(this.checkExact(d))return!0}return!1},checkExact:function(k){var S=this.dictionaryTable[k];if(void 0===S){if("COMPOUNDMIN"in this.flags&&k.length>=this.flags.COMPOUNDMIN)for(var v=0,d=this.compoundRules.length;v<d;v++)if(k.match(this.compoundRules[v]))return!0;return!1}if("object"==typeof S){for(v=0,d=S.length;v<d;v++)if(!this.hasFlag(k,"ONLYINCOMPOUND",S[v]))return!0;return!1}},hasFlag:function(k,S,v){return!(!(S in this.flags)||(void 0===v&&(v=Array.prototype.concat.apply([],this.dictionaryTable[k])),!v||-1===v.indexOf(this.flags[S])))},alphabet:"",suggest:function(k,S){if(S||(S=5),this.check(k))return[];for(var v=0,d=this.replacementTable.length;v<d;v++){var j=this.replacementTable[v];if(-1!==k.indexOf(j[0])){var _=k.replace(j[0],j[1]);if(this.check(_))return[_]}}var T=this;function N(g){for(var I=[],G=0,F=g.length;G<F;G++){for(var D=g[G],M=[],de=0,ne=D.length+1;de<ne;de++)M.push([D.substring(0,de),D.substring(de,D.length)]);var Q=[];for(de=0,ne=M.length;de<ne;de++)(W=M[de])[1]&&Q.push(W[0]+W[1].substring(1));var xe=[];for(de=0,ne=M.length;de<ne;de++)(W=M[de])[1].length>1&&xe.push(W[0]+W[1][1]+W[1][0]+W[1].substring(2));var le=[];for(de=0,ne=M.length;de<ne;de++)if((W=M[de])[1])for(var se=0,$=T.alphabet.length;se<$;se++)le.push(W[0]+T.alphabet[se]+W[1].substring(1));for(de=0,ne=M.length;de<ne;de++){var W;if((W=M[de])[1])for(se=0,$=T.alphabet.length;se<$;se++)le.push(W[0]+T.alphabet[se]+W[1])}I=(I=(I=(I=I.concat(Q)).concat(xe)).concat(le)).concat([])}return I}function U(g){for(var I=[],G=0;G<g.length;G++)T.check(g[G])&&I.push(g[G]);return I}return T.alphabet="abcdefghijklmnopqrstuvwxyz",function(g){for(var I=N([g]),G=N(I),F=U(I).concat(U(G)),D={},M=0,de=F.length;M<de;M++)F[M]in D?D[F[M]]+=1:D[F[M]]=1;var ne=[];for(var M in D)ne.push([M,D[M]]);ne.sort(function(xe,le){return xe[1]<le[1]?-1:1}).reverse();var Q=[];for(M=0,de=Math.min(S,ne.length);M<de;M++)T.hasFlag(ne[M][0],"NOSUGGEST")||Q.push(ne[M][0]);return Q}(k)}},void 0!==ye&&(ye.exports=oe)}).call(this,ue("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(ue,ye,we){var Z=ue("codemirror");Z.commands.tabAndIndentMarkdownList=function(O){var oe=O.listSelections()[0].head;if(!1!==O.getStateAfter(oe.line).list)O.execCommand("indentMore");else if(O.options.indentWithTabs)O.execCommand("insertTab");else{var k=Array(O.options.tabSize+1).join(" ");O.replaceSelection(k)}},Z.commands.shiftTabAndUnindentMarkdownList=function(O){var oe=O.listSelections()[0].head;if(!1!==O.getStateAfter(oe.line).list)O.execCommand("indentLess");else if(O.options.indentWithTabs)O.execCommand("insertTab");else{var k=Array(O.options.tabSize+1).join(" ");O.replaceSelection(k)}}},{codemirror:10}],20:[function(ue,ye,we){"use strict";var Z=ue("codemirror");ue("codemirror/addon/edit/continuelist.js"),ue("./codemirror/tablist"),ue("codemirror/addon/display/fullscreen.js"),ue("codemirror/mode/markdown/markdown.js"),ue("codemirror/addon/mode/overlay.js"),ue("codemirror/addon/display/placeholder.js"),ue("codemirror/addon/selection/mark-selection.js"),ue("codemirror/mode/gfm/gfm.js"),ue("codemirror/mode/xml/xml.js");var O=ue("codemirror-spell-checker"),oe=ue("marked"),k=/Mac/.test(navigator.platform),S={toggleBold:g,toggleItalic:I,drawLink:W,toggleHeadingSmaller:M,toggleHeadingBigger:de,drawImage:pe,toggleBlockquote:D,toggleOrderedList:se,toggleUnorderedList:le,toggleCodeBlock:F,togglePreview:Ye,toggleStrikethrough:G,toggleHeading1:ne,toggleHeading2:Q,toggleHeading3:xe,cleanBlock:$,drawTable:fe,drawHorizontalRule:Ce,undo:He,redo:ze,toggleSideBySide:Ve,toggleFullScreen:U},v={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"};function j(x){return k?x.replace("Ctrl","Cmd"):x.replace("Cmd","Ctrl")}function _(x,P,Y){x=x||{};var q,ie,me,ke,z=document.createElement("a");return P=null==P||P,x.title&&P&&(z.title=(ie=Y,ke=x.title,(q=x.action)&&(me=function(x){for(var P in S)if(S[P]===x)return P;return null}(q),ie[me]&&(ke+=" ("+j(ie[me])+")")),ke),k&&(z.title=z.title.replace("Ctrl","\u2318"),z.title=z.title.replace("Alt","\u2325"))),z.tabIndex=-1,z.className=x.className,z}function T(x,P){P=P||x.getCursor("start");var Y=x.getTokenAt(P);if(!Y.type)return{};for(var z,J,q=Y.type.split(" "),ie={},me=0;me<q.length;me++)"strong"===(z=q[me])?ie.bold=!0:"variable-2"===z?(J=x.getLine(P.line),/^\s*\d+\.\s/.test(J)?ie["ordered-list"]=!0:ie["unordered-list"]=!0):"atom"===z?ie.quote=!0:"em"===z?ie.italic=!0:"quote"===z?ie.quote=!0:"strikethrough"===z?ie.strikethrough=!0:"comment"===z?ie.code=!0:"link"===z?ie.link=!0:"tag"===z?ie.image=!0:z.match(/^header(\-[1-6])?$/)&&(ie[z.replace("header","heading")]=!0);return ie}var N="";function U(x){var P=x.codemirror;P.setOption("fullScreen",!P.getOption("fullScreen")),P.getOption("fullScreen")?(N=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=N;var Y=P.getWrapperElement();/fullscreen/.test(Y.previousSibling.className)?Y.previousSibling.className=Y.previousSibling.className.replace(/\s*fullscreen\b/,""):Y.previousSibling.className+=" fullscreen";var z=x.toolbarElements.fullscreen;/active/.test(z.className)?z.className=z.className.replace(/\s*active\s*/g,""):z.className+=" active";var J=P.getWrapperElement().nextSibling;/editor-preview-active-side/.test(J.className)&&Ve(x)}function g(x){l(x,"bold",x.options.blockStyles.bold)}function I(x){l(x,"italic",x.options.blockStyles.italic)}function G(x){l(x,"strikethrough","~~")}function F(x){var P=x.options.blockStyles.code;function Y(Qe){if("object"!=typeof Qe)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Qe+": "+Qe;return Qe.styles&&Qe.styles[2]&&-1!==Qe.styles[2].indexOf("formatting-code-block")}function z(Qe){return Qe.state.base.base||Qe.state.base}function J(Qe,Ft,Xt,dt,Be){Xt=Xt||Qe.getLineHandle(Ft),dt=dt||Qe.getTokenAt({line:Ft,ch:1}),Be=Be||!!Xt.text&&Qe.getTokenAt({line:Ft,ch:Xt.text.length-1});var vt=dt.type?dt.type.split(" "):[];return Be&&z(Be).indentedCode?"indented":-1!==vt.indexOf("comment")&&(z(dt).fencedChars||z(Be).fencedChars||Y(Xt)?"fenced":"single")}var q,ie,me,ke,Ae,je,Ue,We,nt,Mt,Dn,Ee=x.codemirror,Ie=Ee.getCursor("start"),Xe=Ee.getCursor("end"),ee=Ee.getTokenAt({line:Ie.line,ch:Ie.ch||1}),ge=Ee.getLineHandle(Ie.line),$t=J(Ee,Ie.line,ge,ee);if("single"===$t){var fn=ge.text.slice(0,Ie.ch).replace("`",""),pn=ge.text.slice(Ie.ch).replace("`","");Ee.replaceRange(fn+pn,{line:Ie.line,ch:0},{line:Ie.line,ch:99999999999999}),Ie.ch--,Ie!==Xe&&Xe.ch--,Ee.setSelection(Ie,Xe),Ee.focus()}else if("fenced"===$t)if(Ie.line!==Xe.line||Ie.ch!==Xe.ch){for(q=Ie.line;q>=0&&!Y(ge=Ee.getLineHandle(q));q--);var Nt,Ke,At,kt,Hn=z(Ee.getTokenAt({line:q,ch:1})).fencedChars;Y(Ee.getLineHandle(Ie.line))?(Nt="",Ke=Ie.line):Y(Ee.getLineHandle(Ie.line-1))?(Nt="",Ke=Ie.line-1):(Nt=Hn+"\n",Ke=Ie.line),Y(Ee.getLineHandle(Xe.line))?(At="",kt=Xe.line,0===Xe.ch&&(kt+=1)):0!==Xe.ch&&Y(Ee.getLineHandle(Xe.line+1))?(At="",kt=Xe.line+1):(At=Hn+"\n",kt=Xe.line+1),0===Xe.ch&&(kt-=1),Ee.operation(function(){Ee.replaceRange(At,{line:kt,ch:0},{line:kt+(At?0:1),ch:0}),Ee.replaceRange(Nt,{line:Ke,ch:0},{line:Ke+(Nt?0:1),ch:0})}),Ee.setSelection({line:Ke+(Nt?1:0),ch:0},{line:kt+(Nt?1:-1),ch:0}),Ee.focus()}else{var Vt=Ie.line;if(Y(Ee.getLineHandle(Ie.line))&&("fenced"===J(Ee,Ie.line+1)?(q=Ie.line,Vt=Ie.line+1):(ie=Ie.line,Vt=Ie.line-1)),void 0===q)for(q=Vt;q>=0&&!Y(ge=Ee.getLineHandle(q));q--);if(void 0===ie)for(me=Ee.lineCount(),ie=Vt;ie<me&&!Y(ge=Ee.getLineHandle(ie));ie++);Ee.operation(function(){Ee.replaceRange("",{line:q,ch:0},{line:q+1,ch:0}),Ee.replaceRange("",{line:ie-1,ch:0},{line:ie,ch:0})}),Ee.focus()}else if("indented"===$t){if(Ie.line!==Xe.line||Ie.ch!==Xe.ch)q=Ie.line,ie=Xe.line,0===Xe.ch&&ie--;else{for(q=Ie.line;q>=0;q--)if(!(ge=Ee.getLineHandle(q)).text.match(/^\s*$/)&&"indented"!==J(Ee,q,ge)){q+=1;break}for(me=Ee.lineCount(),ie=Ie.line;ie<me;ie++)if(!(ge=Ee.getLineHandle(ie)).text.match(/^\s*$/)&&"indented"!==J(Ee,ie,ge)){ie-=1;break}}var Wn=Ee.getLineHandle(ie+1),mn=Wn&&Ee.getTokenAt({line:ie+1,ch:Wn.text.length-1});mn&&z(mn).indentedCode&&Ee.replaceRange("\n",{line:ie+1,ch:0});for(var gn=q;gn<=ie;gn++)Ee.indentLine(gn,"subtract");Ee.focus()}else Ie.line===Xe.line&&Ie.ch===Xe.ch&&0===Ie.ch||Ie.line!==Xe.line?(We=(Ae=Ie).line+1,nt=(je=Xe).line+1,Dn="\n"+(Ue=P),(Mt=Ae.line!==je.line)&&nt++,Mt&&0===je.ch&&(Dn=Ue+"\n",nt--),L(ke=Ee,!1,[Ue+"\n",Dn]),ke.setSelection({line:We,ch:0},{line:nt,ch:0})):L(Ee,!1,["`","`"])}function D(x){Me(x.codemirror,"quote")}function M(x){y(x.codemirror,"smaller")}function de(x){y(x.codemirror,"bigger")}function ne(x){y(x.codemirror,void 0,1)}function Q(x){y(x.codemirror,void 0,2)}function xe(x){y(x.codemirror,void 0,3)}function le(x){Me(x.codemirror,"unordered-list")}function se(x){Me(x.codemirror,"ordered-list")}function $(x){!function(P){if(!/editor-preview-active/.test(P.getWrapperElement().lastChild.className))for(var Y,z=P.getCursor("start"),J=P.getCursor("end"),q=z.line;q<=J.line;q++)Y=(Y=P.getLine(q)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),P.replaceRange(Y,{line:q,ch:0},{line:q,ch:99999999999999})}(x.codemirror)}function W(x){var P=x.codemirror,Y=T(P),z=x.options,J="http://";if(z.promptURLs&&!(J=prompt(z.promptTexts.link)))return!1;L(P,Y.link,z.insertTexts.link,J)}function pe(x){var P=x.codemirror,Y=T(P),z=x.options,J="http://";if(z.promptURLs&&!(J=prompt(z.promptTexts.image)))return!1;L(P,Y.image,z.insertTexts.image,J)}function fe(x){var P=x.codemirror;L(P,T(P).table,x.options.insertTexts.table)}function Ce(x){var P=x.codemirror;L(P,T(P).image,x.options.insertTexts.horizontalRule)}function He(x){var P=x.codemirror;P.undo(),P.focus()}function ze(x){var P=x.codemirror;P.redo(),P.focus()}function Ve(x){var P=x.codemirror,Y=P.getWrapperElement(),z=Y.nextSibling,J=x.toolbarElements["side-by-side"],q=!1;/editor-preview-active-side/.test(z.className)?(z.className=z.className.replace(/\s*editor-preview-active-side\s*/g,""),J.className=J.className.replace(/\s*active\s*/g,""),Y.className=Y.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){P.getOption("fullScreen")||U(x),z.className+=" editor-preview-active-side"},1),J.className+=" active",Y.className+=" CodeMirror-sided",q=!0);var ie=Y.lastChild;if(/editor-preview-active/.test(ie.className)){ie.className=ie.className.replace(/\s*editor-preview-active\s*/g,"");var me=x.toolbarElements.preview,ke=Y.previousSibling;me.className=me.className.replace(/\s*active\s*/g,""),ke.className=ke.className.replace(/\s*disabled-for-preview*/g,"")}P.sideBySideRenderingFunction||(P.sideBySideRenderingFunction=function(){z.innerHTML=x.options.previewRender(x.value(),z)}),q?(z.innerHTML=x.options.previewRender(x.value(),z),P.on("update",P.sideBySideRenderingFunction)):P.off("update",P.sideBySideRenderingFunction),P.refresh()}function Ye(x){var P=x.codemirror,Y=P.getWrapperElement(),z=Y.previousSibling,J=!!x.options.toolbar&&x.toolbarElements.preview,q=Y.lastChild;q&&/editor-preview/.test(q.className)||((q=document.createElement("div")).className="editor-preview",Y.appendChild(q)),/editor-preview-active/.test(q.className)?(q.className=q.className.replace(/\s*editor-preview-active\s*/g,""),J&&(J.className=J.className.replace(/\s*active\s*/g,""),z.className=z.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){q.className+=" editor-preview-active"},1),J&&(J.className+=" active",z.className+=" disabled-for-preview")),q.innerHTML=x.options.previewRender(x.value(),q);var ie=P.getWrapperElement().nextSibling;/editor-preview-active-side/.test(ie.className)&&Ve(x)}function L(x,P,Y,z){if(!/editor-preview-active/.test(x.getWrapperElement().lastChild.className)){var J,q=Y[0],ie=Y[1],me=x.getCursor("start"),ke=x.getCursor("end");z&&(ie=ie.replace("#url#",z)),P?(q=(J=x.getLine(me.line)).slice(0,me.ch),ie=J.slice(me.ch),x.replaceRange(q+ie,{line:me.line,ch:0})):(J=x.getSelection(),x.replaceSelection(q+J+ie),me.ch+=q.length,me!==ke&&(ke.ch+=q.length)),x.setSelection(me,ke),x.focus()}}function y(x,P,Y){if(!/editor-preview-active/.test(x.getWrapperElement().lastChild.className)){for(var z,J,q,ie=x.getCursor("start"),me=x.getCursor("end"),ke=ie.line;ke<=me.line;ke++)J=void 0,q=(J=x.getLine(z=ke)).search(/[^#]/),J=void 0!==P?q<=0?"bigger"==P?"###### "+J:"# "+J:6==q&&"smaller"==P?J.substr(7):1==q&&"bigger"==P?J.substr(2):"bigger"==P?J.substr(1):"#"+J:1==Y?q<=0?"# "+J:q==Y?J.substr(q+1):"# "+J.substr(q+1):2==Y?q<=0?"## "+J:q==Y?J.substr(q+1):"## "+J.substr(q+1):q<=0?"### "+J:q==Y?J.substr(q+1):"### "+J.substr(q+1),x.replaceRange(J,{line:z,ch:0},{line:z,ch:99999999999999});x.focus()}}function Me(x,P){if(!/editor-preview-active/.test(x.getWrapperElement().lastChild.className)){for(var Y,z,J=T(x),q=x.getCursor("start"),ie=x.getCursor("end"),me={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},ke={quote:"> ","unordered-list":"* ","ordered-list":"1. "},Ae=q.line;Ae<=ie.line;Ae++)z=void 0,z=x.getLine(Y=Ae),z=J[P]?z.replace(me[P],"$1"):ke[P]+z,x.replaceRange(z,{line:Y,ch:0},{line:Y,ch:99999999999999});x.focus()}}function l(x,P,Y,z){if(!/editor-preview-active/.test(x.codemirror.getWrapperElement().lastChild.className)){z=void 0===z?Y:z;var J,q=x.codemirror,ie=T(q),me=Y,ke=z,Ae=q.getCursor("start"),je=q.getCursor("end");ie[P]?(me=(J=q.getLine(Ae.line)).slice(0,Ae.ch),ke=J.slice(Ae.ch),"bold"==P?(me=me.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),ke=ke.replace(/(\*\*|__)/,"")):"italic"==P?(me=me.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),ke=ke.replace(/(\*|_)/,"")):"strikethrough"==P&&(me=me.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),ke=ke.replace(/(\*\*|~~)/,"")),q.replaceRange(me+ke,{line:Ae.line,ch:0},{line:Ae.line,ch:99999999999999}),"bold"==P||"strikethrough"==P?(Ae.ch-=2,Ae!==je&&(je.ch-=2)):"italic"==P&&(Ae.ch-=1,Ae!==je&&(je.ch-=1))):(J=q.getSelection(),"bold"==P?J=(J=J.split("**").join("")).split("__").join(""):"italic"==P?J=(J=J.split("*").join("")).split("_").join(""):"strikethrough"==P&&(J=J.split("~~").join("")),q.replaceSelection(me+J+ke),Ae.ch+=Y.length,je.ch=Ae.ch+J.length),q.setSelection(Ae,je),q.focus()}}function u(x,P){for(var Y in P)P.hasOwnProperty(Y)&&(x[Y]=P[Y]instanceof Array?P[Y].concat(x[Y]instanceof Array?x[Y]:[]):null!==P[Y]&&"object"==typeof P[Y]&&P[Y].constructor===Object?u(x[Y]||{},P[Y]):P[Y]);return x}function p(x){for(var P=1;P<arguments.length;P++)x=u(x,arguments[P]);return x}function E(x){var P=x.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),Y=0;if(null===P)return Y;for(var z=0;z<P.length;z++)P[z].charCodeAt(0)>=19968?Y+=P[z].length:Y+=1;return Y}var C={bold:{name:"bold",action:g,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:I,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:G,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:M,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:M,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:de,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:ne,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:Q,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:xe,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:F,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:D,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:le,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:se,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:$,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:W,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:pe,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:fe,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Ce,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Ye,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Ve,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:U,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:He,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:ze,className:"fa fa-repeat no-disable",title:"Redo"}},B={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},he={link:"URL for the link:",image:"URL of the image:"},Oe={bold:"**",code:"```",italic:"*"};function re(x){(x=x||{}).parent=this;var P=!0;if(!1===x.autoDownloadFontAwesome&&(P=!1),!0!==x.autoDownloadFontAwesome)for(var Y=document.styleSheets,z=0;z<Y.length;z++)Y[z].href&&Y[z].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(P=!1);if(P){var J=document.createElement("link");J.rel="stylesheet",J.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(J)}if(x.element)this.element=x.element;else if(null===x.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===x.toolbar)for(var q in x.toolbar=[],C)C.hasOwnProperty(q)&&(-1!=q.indexOf("separator-")&&x.toolbar.push("|"),(!0===C[q].default||x.showIcons&&x.showIcons.constructor===Array&&-1!=x.showIcons.indexOf(q))&&x.toolbar.push(q));x.hasOwnProperty("status")||(x.status=["autosave","lines","words","cursor"]),x.previewRender||(x.previewRender=function(ie){return this.parent.markdown(ie)}),x.parsingConfig=p({highlightFormatting:!0},x.parsingConfig||{}),x.insertTexts=p({},B,x.insertTexts||{}),x.promptTexts=he,x.blockStyles=p({},Oe,x.blockStyles||{}),x.shortcuts=p({},v,x.shortcuts||{}),null!=x.autosave&&null!=x.autosave.unique_id&&""!=x.autosave.unique_id&&(x.autosave.uniqueId=x.autosave.unique_id),this.options=x,this.render(),!x.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(x.initialValue)}function Pe(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(x){return!1}return!0}re.prototype.markdown=function(x){if(oe){var P={};return P.breaks=!this.options||!this.options.renderingConfig||!1!==this.options.renderingConfig.singleLineBreaks,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(P.highlight=function(Y){return window.hljs.highlightAuto(Y).value}),oe.setOptions(P),oe(x)}},re.prototype.render=function(x){if(x||(x=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==x){this.element=x;var P,Y,z=this.options,J=this,q={};for(var ie in z.shortcuts)null!==z.shortcuts[ie]&&null!==S[ie]&&function(Ae){q[j(z.shortcuts[Ae])]=function(){S[Ae](J)}}(ie);if(q.Enter="newlineAndIndentContinueMarkdownList",q.Tab="tabAndIndentMarkdownList",q["Shift-Tab"]="shiftTabAndUnindentMarkdownList",q.Esc=function(Ae){Ae.getOption("fullScreen")&&U(J)},document.addEventListener("keydown",function(Ae){27==(Ae=Ae||window.event).keyCode&&J.codemirror.getOption("fullScreen")&&U(J)},!1),!1!==z.spellChecker?(P="spell-checker",(Y=z.parsingConfig).name="gfm",Y.gitHubSpice=!1,O({codeMirrorInstance:Z})):((P=z.parsingConfig).name="gfm",P.gitHubSpice=!1),this.codemirror=Z.fromTextArea(x,{mode:P,backdrop:Y,theme:"paper",tabSize:null!=z.tabSize?z.tabSize:2,indentUnit:null!=z.tabSize?z.tabSize:2,indentWithTabs:!1!==z.indentWithTabs,lineNumbers:!1,autofocus:!0===z.autofocus,extraKeys:q,lineWrapping:!1!==z.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:z.placeholder||x.getAttribute("placeholder")||"",styleSelectedText:null==z.styleSelectedText||z.styleSelectedText}),!0===z.forceSync){var me=this.codemirror;me.on("change",function(){me.save()})}this.gui={},!1!==z.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==z.status&&(this.gui.statusbar=this.createStatusbar()),null!=z.autosave&&!0===z.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var ke=this.codemirror;setTimeout(function(){ke.refresh()}.bind(ke),0)}},re.prototype.autosave=function(){if(Pe()){var x=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=x.element.form&&null!=x.element.form&&x.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+x.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,x.value());var P=document.getElementById("autosaved");if(null!=P&&null!=P&&""!=P){var Y=new Date,z=Y.getHours(),J=Y.getMinutes(),q="am",ie=z;ie>=12&&(ie=z-12,q="pm"),0==ie&&(ie=12),P.innerHTML="Autosaved: "+ie+":"+(J=J<10?"0"+J:J)+" "+q}this.autosaveTimeoutId=setTimeout(function(){x.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},re.prototype.clearAutosavedValue=function(){if(Pe()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},re.prototype.createSideBySide=function(){var x=this.codemirror,P=x.getWrapperElement(),Y=P.nextSibling;Y&&/editor-preview-side/.test(Y.className)||((Y=document.createElement("div")).className="editor-preview-side",P.parentNode.insertBefore(Y,P.nextSibling));var z=!1,J=!1;return x.on("scroll",function(q){if(z)z=!1;else{J=!0;var ie=q.getScrollInfo().height-q.getScrollInfo().clientHeight,me=parseFloat(q.getScrollInfo().top)/ie;Y.scrollTop=(Y.scrollHeight-Y.clientHeight)*me}}),Y.onscroll=function(){if(J)J=!1;else{z=!0;var q=Y.scrollHeight-Y.clientHeight,ie=parseFloat(Y.scrollTop)/q,me=(x.getScrollInfo().height-x.getScrollInfo().clientHeight)*ie;x.scrollTo(0,me)}},Y},re.prototype.createToolbar=function(x){if((x=x||this.options.toolbar)&&0!==x.length){var P;for(P=0;P<x.length;P++)null!=C[x[P]]&&(x[P]=C[x[P]]);var Y=document.createElement("div");Y.className="editor-toolbar";var z,J,q=this,ie={};for(q.toolbar=x,P=0;P<x.length;P++)if(("guide"!=x[P].name||!1!==q.options.toolbarGuideIcon)&&!(q.options.hideIcons&&-1!=q.options.hideIcons.indexOf(x[P].name)||("fullscreen"==x[P].name||"side-by-side"==x[P].name)&&(z=void 0,J=void 0,J=!1,z=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(z)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(z.substr(0,4)))&&(J=!0),J))){if("|"===x[P]){for(var me=!1,ke=P+1;ke<x.length;ke++)"|"===x[ke]||q.options.hideIcons&&-1!=q.options.hideIcons.indexOf(x[ke].name)||(me=!0);if(!me)continue}!function(Ue){var We,nt;"|"===Ue?((nt=document.createElement("i")).className="separator",nt.innerHTML="|",We=nt):We=_(Ue,q.options.toolbarTips,q.options.shortcuts),Ue.action&&("function"==typeof Ue.action?We.onclick=function(Mt){Mt.preventDefault(),Ue.action(q)}:"string"==typeof Ue.action&&(We.href=Ue.action,We.target="_blank")),ie[Ue.name||Ue]=We,Y.appendChild(We)}(x[P])}q.toolbarElements=ie;var Ae=this.codemirror;Ae.on("cursorActivity",function(){var Ue,We,nt=T(Ae);for(var Mt in ie)We=void 0,We=ie[Ue=Mt],nt[Ue]?We.className+=" active":"fullscreen"!=Ue&&"side-by-side"!=Ue&&(We.className=We.className.replace(/\s*active\s*/g,""))});var je=Ae.getWrapperElement();return je.parentNode.insertBefore(Y,je),Y}},re.prototype.createStatusbar=function(x){var P=this.options,Y=this.codemirror;if((x=x||this.options.status)&&0!==x.length){var z,J,q,ie=[];for(z=0;z<x.length;z++)if(J=void 0,q=void 0,"object"==typeof x[z])ie.push({className:x[z].className,defaultValue:x[z].defaultValue,onUpdate:x[z].onUpdate});else{var me=x[z];"words"===me?(q=function(We){We.innerHTML=E(Y.getValue())},J=function(We){We.innerHTML=E(Y.getValue())}):"lines"===me?(q=function(We){We.innerHTML=Y.lineCount()},J=function(We){We.innerHTML=Y.lineCount()}):"cursor"===me?(q=function(We){We.innerHTML="0:0"},J=function(We){var nt=Y.getCursor();We.innerHTML=nt.line+":"+nt.ch}):"autosave"===me&&(q=function(We){null!=P.autosave&&!0===P.autosave.enabled&&We.setAttribute("id","autosaved")}),ie.push({className:me,defaultValue:q,onUpdate:J})}var ke=document.createElement("div");for(ke.className="editor-statusbar",z=0;z<ie.length;z++){var Ae=ie[z],je=document.createElement("span");je.className=Ae.className,"function"==typeof Ae.defaultValue&&Ae.defaultValue(je),"function"==typeof Ae.onUpdate&&this.codemirror.on("update",function(We,nt){return function(){nt.onUpdate(We)}}(je,Ae)),ke.appendChild(je)}var Ue=this.codemirror.getWrapperElement();return Ue.parentNode.insertBefore(ke,Ue.nextSibling),ke}},re.prototype.value=function(x){return void 0===x?this.codemirror.getValue():(this.codemirror.getDoc().setValue(x),this)},re.toggleBold=g,re.toggleItalic=I,re.toggleStrikethrough=G,re.toggleBlockquote=D,re.toggleHeadingSmaller=M,re.toggleHeadingBigger=de,re.toggleHeading1=ne,re.toggleHeading2=Q,re.toggleHeading3=xe,re.toggleCodeBlock=F,re.toggleUnorderedList=le,re.toggleOrderedList=se,re.cleanBlock=$,re.drawLink=W,re.drawImage=pe,re.drawTable=fe,re.drawHorizontalRule=Ce,re.undo=He,re.redo=ze,re.togglePreview=Ye,re.toggleSideBySide=Ve,re.toggleFullScreen=U,re.prototype.toggleBold=function(){g(this)},re.prototype.toggleItalic=function(){I(this)},re.prototype.toggleStrikethrough=function(){G(this)},re.prototype.toggleBlockquote=function(){D(this)},re.prototype.toggleHeadingSmaller=function(){M(this)},re.prototype.toggleHeadingBigger=function(){de(this)},re.prototype.toggleHeading1=function(){ne(this)},re.prototype.toggleHeading2=function(){Q(this)},re.prototype.toggleHeading3=function(){xe(this)},re.prototype.toggleCodeBlock=function(){F(this)},re.prototype.toggleUnorderedList=function(){le(this)},re.prototype.toggleOrderedList=function(){se(this)},re.prototype.cleanBlock=function(){$(this)},re.prototype.drawLink=function(){W(this)},re.prototype.drawImage=function(){pe(this)},re.prototype.drawTable=function(){fe(this)},re.prototype.drawHorizontalRule=function(){Ce(this)},re.prototype.undo=function(){He(this)},re.prototype.redo=function(){ze(this)},re.prototype.togglePreview=function(){Ye(this)},re.prototype.toggleSideBySide=function(){Ve(this)},re.prototype.toggleFullScreen=function(){U(this)},re.prototype.isPreviewActive=function(){var x=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(x.className)},re.prototype.isSideBySideActive=function(){var x=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(x.className)},re.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},re.prototype.getState=function(){return T(this.codemirror)},re.prototype.toTextArea=function(){var x=this.codemirror,P=x.getWrapperElement();P.parentNode&&(this.gui.toolbar&&P.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&P.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&P.parentNode.removeChild(this.gui.sideBySide)),x.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},ye.exports=re},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)}),function(ue,ye,we){function Z(F,D){return typeof F===D}function k(){return"function"!=typeof ye.createElement?ye.createElement(arguments[0]):U?ye.createElementNS.call(ye,"http://www.w3.org/2000/svg",arguments[0]):ye.createElement.apply(ye,arguments)}var d=[],j=[],_={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(F,D){var M=this;setTimeout(function(){D(M[F])},0)},addTest:function(F,D,M){j.push({name:F,fn:D,options:M})},addAsyncTest:function(F){j.push({name:null,fn:F})}},T=function(){};T.prototype=_,T=new T;var N=ye.documentElement,U="svg"===N.nodeName.toLowerCase(),g=_._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];_._prefixes=g;var I=_.testStyles=function v(F,D,M,de){var ne,Q,xe,le,se="modernizr",$=k("div"),W=function S(){var F=ye.body;return F||((F=k(U?"svg":"body")).fake=!0),F}();if(parseInt(M,10))for(;M--;)(xe=k("div")).id=de?de[M]:se+(M+1),$.appendChild(xe);return(ne=k("style")).type="text/css",ne.id="s"+se,(W.fake?W:$).appendChild(ne),W.appendChild($),ne.styleSheet?ne.styleSheet.cssText=F:ne.appendChild(ye.createTextNode(F)),$.id=se,W.fake&&(W.style.background="",W.style.overflow="hidden",le=N.style.overflow,N.style.overflow="hidden",N.appendChild(W)),Q=D($,F),W.fake?(W.parentNode.removeChild(W),N.style.overflow=le):$.parentNode.removeChild($),!!Q};T.addTest("touchevents",function(){var F;if("ontouchstart"in ue||ue.DocumentTouch&&ye instanceof DocumentTouch)F=!0;else{var D=["@media (",g.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");I(D,function(M){F=9===M.offsetTop})}return F}),T.addTest("adownload",!ue.externalHost&&"download"in k("a")),function O(){var F,D,M,de,ne,xe;for(var le in j)if(j.hasOwnProperty(le)){if(F=[],(D=j[le]).name&&(F.push(D.name.toLowerCase()),D.options&&D.options.aliases&&D.options.aliases.length))for(M=0;M<D.options.aliases.length;M++)F.push(D.options.aliases[M].toLowerCase());for(de=Z(D.fn,"function")?D.fn():D.fn,ne=0;ne<F.length;ne++)1===(xe=F[ne].split(".")).length?T[xe[0]]=de:(!T[xe[0]]||T[xe[0]]instanceof Boolean||(T[xe[0]]=new Boolean(T[xe[0]])),T[xe[0]][xe[1]]=de),d.push((de?"":"no-")+xe.join("-"))}}(),function oe(F){var D=N.className,M=T._config.classPrefix||"";if(U&&(D=D.baseVal),T._config.enableJSClass){var de=new RegExp("(^|\\s)"+M+"no-js(\\s|$)");D=D.replace(de,"$1"+M+"js$2")}T._config.enableClasses&&(D+=" "+M+F.join(" "+M),U?N.className.baseVal=D:N.className=D)}(d),delete _.addTest,delete _.addAsyncTest;for(var G=0;G<T._q.length;G++)T._q[G]();ue.Modernizr=T}(window,document);